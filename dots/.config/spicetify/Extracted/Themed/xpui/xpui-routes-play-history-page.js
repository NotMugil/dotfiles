"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1460],{5340:(e,i,t)=>{t.d(i,{u:()=>x});var n=t(97500),r=t.n(n),l=t(8159),s=t(34606),a=t(79464),c=t(68262),u=t(72135),o=t(1479),d=t(76967),m=t(86070),x=function(e){var i=e.uri,t=e.src,n=e.playAriaLabel,x=e.onClick,f=e.isPlaying,h=e.isActive,p=e.isLocked,v=e.isEpisode,j=e.isVideo,y=e.spec,g=(0,c.W)(),b=(0,a.s)(),k=(0,l.YQ)((function(e){var t;if(g({type:"click",intent:f?"pause":"play"}),y){var n,r=y.playbackButtonFactory();n=h&&f?r.hitPause({itemToBePaused:i}):h&&!f?r.hitResume({itemToBeResumed:i}):r.hitPlay({itemToBePlayed:i}),t=b.logInteraction(n)}x(e,t)}),s.d,{leading:!0,trailing:!1});return(0,m.jsxs)("div",{className:d.A.rowImageWithPlay,children:[(0,m.jsx)(o.e,{src:t,isEpisode:v,isVideo:j}),(0,m.jsx)(u.x,{className:r()(d.A.rowPlayPauseButton,d.A.rowImagePlayPauseButton),iconClassName:d.A.rowPlayPauseIcon,onClick:k,isPlaying:f,isLocked:p,playAriaLabel:n})]})}},75361:(e,i,t)=>{t.d(i,{U:()=>M});var n=t(7546),r=t(30758),l=t(8539),s=t(66569),a=t(98866),c=(t(9555),t(46686),t(80710),t(59433),t(82368),t(83603),t(91911),t(20767),t(62980),t(58470),t(36389),t(75231),t(21977),t(62420),t(26980),t(76133),t(3869),t(46825),t(97500)),u=t.n(c),o=t(33165),d=t(58184),m=t(33666),x=t(11137),f=t(58295),h=t(8159),p=t(85670),v=t(11498);var j=t(25931),y=t(86461);const g="main-topBar-contentArea",b="queue-tabBar-headerIsCentered",k="queue-tabBar-headerItem",P="queue-tabBar-moreButton",w="queue-tabBar-moreButtonActive",A="yxf_6IsQEmHjijEBUMTP",E="queue-tabBar-active",O="queue-tabBar-headerItemLink",R="queue-tabBar-header",I="queue-tabBar-chevron";var C=t(86070),N=function(e){var i=e.items,t=e.activeItemId;return(0,C.jsx)(j.W,{children:i.map((function(e){return e.disabled?(0,C.jsx)(y.D,{disabled:!0,role:"menuitemradio",className:A,onClick:e.handleClick,children:e.title},e.uri):(0,C.jsx)(y.D,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===t,className:function(e){var i=e.isActive;return u()(A,(0,s.A)({},E,i))},onClick:e.handleClick,children:e.title},e.uri)}))})},S=t(81621),T=(0,r.memo)((function(e){var i,t=e.isCentered,n=e.links,c=e.landmarkLabel,j=e.className,y=(0,r.useRef)(null),A=(0,r.useState)([]),T=(0,a.A)(A,2),U=T[0],B=T[1],L=(0,r.useState)(0),D=(0,a.A)(L,2),_=D[0],M=D[1],q=(0,r.useState)([]),G=(0,a.A)(q,2),F=G[0],H=G[1],K=null!==(i=function(){var e=(0,r.useState)(window.innerWidth),i=(0,a.A)(e,2),t=i[0],n=i[1],l=(0,r.useContext)(p.bi).scrollNodeChildRef,s=(0,h.YQ)((function(e){null!=e&&e.width&&n(e.width)}),250);return(0,v.w)({refOrElement:l,observeOnly:"width",onResize:s}),t}())&&void 0!==i?i:1/0,Q=(0,o.zy)().pathname,W=n.find((function(e){return e.to===Q}));return(0,r.useEffect)((function(){y.current&&M(y.current.clientWidth)}),[K]),(0,r.useEffect)((function(){if(y.current){var e=Array.from(y.current.children).map((function(e){return e.clientWidth}));B(e)}}),[n]),(0,r.useEffect)((function(){if(y.current)if(U.slice(0,-1).reduce((function(e,i){return e+i}),0)<=_)H([]);else{var e=U.reduce((function(e,i){return e>i?e:i}),0),i=[],t=e;U.forEach((function(e,n){_>=t+e?t+=e:i.push(n)})),H(i)}}),[_,U]),(0,C.jsx)("nav",{className:u()(j,g),"aria-label":c,children:(0,C.jsxs)("ul",{className:t?b:R,ref:y,children:[n.filter((function(e,i){return!F.includes(i)})).map((function(e){var i,t=null!==(i=null==e?void 0:e.render)&&void 0!==i?i:function(e){return e};return(0,C.jsx)(r.Fragment,{children:t((0,C.jsx)("li",{className:k,children:e.disabled?(0,C.jsx)("div",{className:O,children:(0,C.jsx)(d.E,{variant:"bodySmallBold",children:e.title})}):(0,C.jsx)(S.k,{end:!0,className:function(e){var i=e.isActive;return u()(O,(0,s.A)({},E,i))},to:e.to,onClick:e.handleClick,children:(0,C.jsx)(d.E,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),F.length||0===U.length?(0,C.jsx)("li",{className:k,children:(0,C.jsx)(f.t,{renderInline:!0,menu:(0,C.jsx)(N,{items:n.filter((function(e,i){return F.includes(i)})),activeItemId:null==W?void 0:W.itemId}),children:function(e,i,t){return(0,C.jsxs)("button",{className:u()(P,(0,s.A)({},w,W)),type:"button",onClick:i,ref:t,children:[(0,C.jsx)(d.E,{variant:"bodySmallBold",children:W?W.title:l.Ru.get("more")}),e?(0,C.jsx)(m.J,{size:"small",className:I,"aria-hidden":"true"}):(0,C.jsx)(x.y,{size:"small",className:I,"aria-hidden":"true"})]})}})}):null]})})})),U=t(87452),B=t(22927),L=t(90893);const D="XfifUos51Clgs5a6nf2m";var _=function(){var e=(0,L.U)(),i=(0,r.useCallback)((function(e){return(0,C.jsx)(B.u,{placement:"bottomEnd",arrow:"topStart",title:l.Ru.get("pick-and-shuffle.upsell.title.queue"),children:e})}),[]),t=(0,r.useMemo)((function(){return[{title:l.Ru.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue",render:i,disabled:e},{title:l.Ru.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}]}),[e,i]);return(0,C.jsx)(U.g,{children:(0,C.jsx)(T,{className:D,links:t})})},M=function(e){var i=e.children,t=(0,n.y)();return(0,C.jsxs)("section",{className:"contentSpacing",children:[i,t&&(0,C.jsx)(_,{})]})}},50588:(e,i,t)=>{t.r(i),t.d(i,{default:()=>ae});var n=t(7546),r=t(537),l=t(58184),s=t(8539),a=t(32644),c=t(59642),u=(t(45803),t(30758)),o=t(94541),d=t(27679),m=t(93697),x=t(39876),f=t(88420),h=t(15016),p=t(64982),v=t(17410),j=t(22058),y=t(83086),g=t(59943),b=t(6024),k=t(49294),P=t(66569),w=(t(59208),t(9555),t(80710),t(23833),t(83603),t(80766),t(10866),t(43864),t(18535),t(41681),t(62980),t(75231),t(21977),t(26980),t(76133),t(46825),t(96839)),A=t(87349),E=t(53485),O=t(15609),R=t(87393),I=t(76967),C=t(54847),N=t(15554),S=t(52756),T=t(86116),U=t(22443),B=t(60093),L=t(54229),D=t(50422),_=t(6748),M=t(4866),q=t(64436),G=t(14936),F=t(5340),H=t(72786),K=t(13148),Q=t(81472),W=t(39240),z=t(70252),J=t(93412),V=t(29794),Y=t(59417),X=t(96915),Z=t(86070);function $(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function ee(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?$(Object(t),!0).forEach((function(i){(0,P.A)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}var ie=u.memo((function(e){var i,t,n,r,l=e.uri,a=e.name,c=e.duration_ms,u=e.index,o=e.imgUrl,d=e.artists,x=e.album,f=e.isExplicit,h=e.isMOGEFRestricted,p=e.contextItem,v=e.type,y=(0,B.P)({uri:l,pages:[{items:[ee({},p)]}]},{featureIdentifier:"history"}),g=y.isActive,b=y.isPlaying,k=y.triggerPlay,P=y.togglePlay,$=v===j.c.TRACK,ie=v===j.c.EPISODE,te=v===j.c.CHAPTER,ne=(0,U.T)(l),re=(0,Y.g)(l),le=(0,L.b)({downloadAvailability:ne,isExplicit:f,isMOGEFRestricted:h}),se=le.badges,ae=le.hasBadges,ce=(null==d?void 0:d.map((function(e){return e.name})).join(s.Ru.getSeparator()))||"";return ie?r=(0,Z.jsx)(E.b,{uri:l,contextUri:l,showUri:x.uri}):te?r=(0,Z.jsx)(D.r,{uri:l}):$&&(0,w.Pk)(l)?r=(0,Z.jsx)(O.A,{uri:l,contextUri:l}):$&&(r=(0,Z.jsx)(R.P,{uri:l,contextUri:l,albumUri:x.uri,artists:d})),(0,Z.jsx)(m.pZ,{value:"row",index:u,children:(0,Z.jsx)(A.h,{menu:r,children:(0,Z.jsxs)(C.w,{uri:l,contextUri:l,index:u,ariaRowIndex:u,onTriggerPlay:function(){k()},isActive:g,isPlayable:re,ageRestricted:h,dragMetadata:{name:a,createdBy:ce},children:[(0,Z.jsxs)(W.U,{ariaColIndex:0,children:[(0,Z.jsx)(F.u,{uri:l,src:o,isPlaying:b,isActive:g,isLocked:!1,onClick:function(){P()},isEpisode:(0,w.gH)(l),playAriaLabel:s.Ru.get("tracklist.a11y.play",a,ce)}),(0,Z.jsxs)(H.l,{children:[(0,Z.jsx)(V.p,{titleText:a,children:a}),ae&&(0,Z.jsxs)(q.P,{children:[se.download&&(0,Z.jsx)(N._,{}),se.explicit&&(0,Z.jsx)(S.g,{}),se.nineteen&&(0,Z.jsx)(T.q,{className:I.A.nineteen,size:16})]}),(0,Z.jsx)(J.p,{children:(0,w.U_)(l)?(0,Z.jsx)(M.l,{artists:d}):null!==(i=null===(t=d[0])||void 0===t?void 0:t.name)&&void 0!==i?i:""})]})]}),(0,Z.jsx)(z.o,{ariaColIndex:2,children:(0,Z.jsx)(_.g,{nonInteractive:(0,w.Pk)(l),uri:x.uri,name:x.name,creatorUri:null==d||null===(n=d[0])||void 0===n?void 0:n.uri,children:x.name})}),(0,Z.jsxs)(Q.l,{ariaColIndex:1,children:[!te&&(0,Z.jsx)(X.d,{uri:l,type:v}),(0,Z.jsx)(G.P,{duration:c}),(0,Z.jsx)(K.Y,{menu:r,label:s.Ru.get("more.label.track",a,ce)})]})]})})})}),(function(e,i){return e.uri===i.uri})),te=u.memo((function(e){var i=e.items,t=(0,u.useCallback)((function(e,i){var t,n,r,l=(0,g.g)(null!==(t=e.images)&&void 0!==t?t:[],{desiredSize:40});return(0,p.v)(e)?(0,Z.jsx)(ie,{index:i,uri:e.isLocal?e.uri:(0,d.a)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==l?void 0:l.url)||"",album:e.album,artists:e.artists,isExplicit:null!==(n=e.isExplicit)&&void 0!==n&&n,isMOGEFRestricted:null!==(r=e.is19PlusOnly)&&void 0!==r&&r,contextItem:e,type:j.c.TRACK},i+e.uri):(0,h.p)(e)?(0,Z.jsx)(ie,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==l?void 0:l.url)||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:j.c.EPISODE},i+e.uri):(0,f.d)(e)?(0,Z.jsx)(ie,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==l?void 0:l.url)||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:j.c.CHAPTER},i+e.uri):((0,x.N)(e)||(0,v.v)(e)||(0,y.k)(e),(0,Z.jsx)(b.qq,{height:"".concat(k.FL,"px")}))}),[]),n=(0,u.useMemo)((function(){return[o.$.TITLE_AND_ARTIST,o.$.ALBUM_OR_PODCAST,o.$.DURATION]}),[]),r=(0,u.useCallback)((function(e){return{uri:e.uri}}),[]);return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(m.pZ,{value:"play-history-tracklist",children:(0,Z.jsx)(k.S4,{ariaLabel:"play-history",hasHeaderRow:!0,columns:n,renderRow:t,resolveItem:r,tracks:i,nrTracks:i.length,rowPlaceholder:b.qq,limit:50,columnPersistenceKey:"play-history-tracklist"})})})}));const ne="j0idwRGPXbi0ampiGHUF",re="V6Kms48prL8QhkQxTJ2d";var le=function(){var e=(0,a.a)(),i=e.isLoading,t=e.data;return i?null:null!=t&&t.items.length?(0,Z.jsxs)("div",{className:ne,children:[(0,Z.jsx)(l.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:re,children:s.Ru.get("view.recently-played")}),(0,Z.jsx)(te,{items:t.items})]}):(0,Z.jsx)(c.H,{})},se=t(75361);const ae=function(){return(0,n.y)()?(0,Z.jsx)(se.U,{children:(0,Z.jsx)(le,{})}):(0,Z.jsx)(r.$,{to:"/"})}},27679:(e,i,t)=>{t.d(i,{a:()=>n});var n=function(e){var i;return(null==e||null===(i=e.linked_from)||void 0===i?void 0:i.uri)||e.uri}}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map