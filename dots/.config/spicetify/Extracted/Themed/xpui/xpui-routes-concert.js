"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9209],{37719:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(30758),i=n(74948),a=n(58184),s=n(35674),o=n(80047),c=n(86485),l=n(10131);const u="MUiWCNTfb6FcSwVPvQ1V",d="_eSrMs5LTUjW7l0vfuBg",m="UAk3bMhekwJTV_wIyfsT",v="X9w6LPfKsZHMCs38sVIQ",h="NXn5KjeUOjLGlAfS1Gao",f="N0wgFMDDvCiby4QB5kLJ",g="nloNe2BLRHjz9dxlwfLU",x="FyD0hF1e2PKzRxQ6sYDQ",j="GR08E4L_rOGljyQQX30R";var p=n(86070);const y=(0,r.memo)((function(e){var t=e.uri,n=e.title,r=e.imageUrl,y=e.date,b=e.subTitle,N=e.firstParty,S=e.onClick,_=y?(0,l.l4)(y):void 0;return(0,p.jsx)(o.N,{to:t,className:u,"data-testid":"concert-card",onClick:S,children:(0,p.jsxs)("div",{className:d,children:[(0,p.jsx)(c.b,{children:(0,p.jsx)("div",{role:"img",className:j,style:{backgroundImage:"url(".concat(r,")")},children:!r&&(0,p.jsx)(i.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),_&&(0,p.jsxs)("time",{className:m,dateTime:y,children:[(0,p.jsx)(a.E,{as:"div",variant:"bodySmall",children:(0,l.tj)(_)}),(0,p.jsx)(a.E,{as:"div",variant:"bodyMediumBold",children:(0,l.Py)(_)})]}),(0,p.jsxs)("div",{className:v,dir:"auto",children:[(0,p.jsx)(a.E,{as:"h2",variant:"bodyMedium",className:h,children:n}),(0,p.jsxs)("div",{className:f,children:[N&&(0,p.jsx)("span",{className:x,children:(0,p.jsx)(s.D,{size:"small"})}),(0,p.jsx)(a.E,{as:"span",className:g,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:b})]})]})]})})}))},66410:(e,t,n)=>{n.d(t,{bU:()=>u,fD:()=>c,he:()=>l,nm:()=>s});n(59208),n(2944),n(42078),n(40313),n(24847),n(60989),n(59433),n(52165),n(45191),n(20767),n(10565),n(20427),n(45803),n(62980),n(11034),n(65083),n(47246),n(36389),n(82399),n(48605),n(75231),n(2795),n(77020);var r=n(42534);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw s}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e,t){if(!e)return"/concerts";var n=null==t?void 0:t.normalize().replaceAll(/\W+/g,"-");return n?"/concerts/location/".concat(e,"-").concat(n):"/concerts/location/".concat(e)},o=10;function c(e){if(0===e.length)return[];if(0===e[0].events.length)return[];var t,n=[],r={date:e[0].events[0].openingDate.slice(0,o),events:[]},a=i(e);try{for(a.s();!(t=a.n()).done;){var s,c=i(t.value.events);try{for(c.s();!(s=c.n()).done;){var l=s.value,u=l.openingDate.slice(0,o);r.date!==u&&(n.push(r),r={date:u,events:[]}),r.events.push(l)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){a.e(e)}finally{a.f()}return n.push(r),n}var l=function(e){return e.ticketers.some((function(e){return"spotify"===e.partnerDisplayName.toLowerCase()}))},u=function(e){return(0,r.x)(e,{representation:"date"})}},647:(e,t,n)=>{n.d(t,{o:()=>m});var r=n(98866),i=n(58634),a=n(29969),s=n(52618),o=n.n(s),c=n(30040),l=n(34630),u=function(){var e=(0,a.A)(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.aw)(c.n.getInstance(),t,n);case 2:return i=e.sent,e.abrupt("return",null===(r=i.body)||void 0===r?void 0:r.found[0]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(e){var t=(0,r.A)(e.queryKey,2),n=(t[0],t[1]),i=n.username,a=n.concertUri;return u(i,a)},m=function(e){var t=["concertInCollection",e];return(0,i.I)({queryKey:t,queryFn:d,retry:!1,enabled:!!e.username})}},65604:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ut});n(67601),n(83603),n(51338),n(45803),n(62980),n(75231),n(40675),n(76133);var r=n(33165),i=n(58184),a=n(55910),s=n(96839),o=n(8539),c=n(34204),l=n(82342),u=n(21792),d=n(18520),m=n(66932),v=n(64741),h=n(79851),f=n(74460),g=n(57528),x=n(96331),j=n(27489),p=n(58400),y=n(66569),b=(n(59208),n(9555),n(80710),n(80766),n(10866),n(43864),n(18535),n(41681),n(42363),n(21977),n(26980),n(46825),n(30758)),N=n(96588),S=n(99078),_=n(32870),k=n(17635),C=n(41253),w=n(80047),I=n(66410),R=n(79464),A=n(2262),O=n(9475);const E="DT8qnb2n6r8T68jLVthh",D="zTsWYsr2n9I1LMmEDGTU",U="qWd4xt94mckHYR2xmAKj",M="SkMjjVu2vVUOX8DzcDSo",P="tyNr9rDKx_AdxYH5e_JY",T="od7mn8s0l5iqP3Svx0AV";var F=n(86070);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,y.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const V=(0,b.memo)((function(e){var t,n,r,a=e.location,s=e.showTime,c=e.ageRestriction,l=e.htmlDescription,u=e.doorsOpenTime,d=e.spec,m=(0,R.s)(),v=(0,k.NC)(A.Zx),h=a.metroAreaLocation?(0,I.nm)(null===(t=a.metroAreaLocation)||void 0===t?void 0:t.geonameId,null===(n=a.metroAreaLocation)||void 0===n?void 0:n.fullName):null;return(0,F.jsxs)("div",{className:E,children:[(null==l?void 0:l.trim())&&(0,F.jsxs)("div",{className:D,children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",className:U,children:o.Ru.get("artist.about")}),(0,F.jsx)(C.q,{html:l,onTimeStampClick:function(){}})]}),(0,F.jsxs)("div",{className:D,children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",className:U,children:o.Ru.get("tracklist.header.venue")}),(0,F.jsxs)("div",{className:T,children:[(0,F.jsx)(N.t,{className:M}),(0,F.jsxs)("div",{children:[(0,F.jsx)(i.E,{as:"h4",variant:"bodyMediumBold",className:P,children:a.name}),(0,F.jsx)(i.E,{as:"p",variant:"bodyMedium",children:(0,O.im)(B(B({},a),{},{name:""}))})]})]}),(0,F.jsxs)("div",{className:T,children:[(0,F.jsx)(S.p,{className:M}),(0,F.jsxs)("div",{children:[(0,F.jsxs)(i.E,{as:"h4",variant:"bodyMediumBold",className:P,children:[u&&o.Ru.get("concert.door_time",o.Ru.formatDate(u,{timeStyle:"short"})),u&&" • ",o.Ru.get("concert.show_time",o.Ru.formatDate(s,{timeStyle:"short"}))]}),(null==c?void 0:c.trim())&&(0,F.jsx)(i.E,{as:"p",variant:"bodyMedium",children:c})]})]}),v&&h&&(0,F.jsxs)("div",{className:T,children:[(0,F.jsx)(_.T,{className:M}),(0,F.jsx)(w.A,{to:h,onClick:function(){return e=h,t=d.concertLocationLinkFactory().hitUiNavigate({destination:e}),void m.logInteraction(t);var e,t},children:(0,F.jsx)(i.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:o.Ru.get("concert.see_more_events_in_location",null===(r=a.metroAreaLocation)||void 0===r?void 0:r.fullName)})})]})]})]})}));n(23833);var z=n(45782),K=n(32282),q=n(93239),G=n(25931),W=n(93697),Y=n(42021),Q=n(16443),Z=n(85368),H=n(96615),X=b.memo((function(e){var t=e.uri,n=(0,Y.o)(t).spec;return(0,F.jsx)(W.pZ,{value:"concert",children:(0,F.jsxs)(G.W,{children:[(0,F.jsx)(H.h,{children:(0,F.jsx)(Q.m,{spec:n,uri:t,displayText:o.Ru.get("context-menu.copy-concert-link")})}),(0,F.jsx)(Z.q,{spec:n,uri:t})]})})})),J=n(63259),$=n(98866),ee=n(41978),te=n(71309),ne=n(91581),re=n(99353),ie=n(29158),ae=n(68688),se=n(30040),oe=n(34630),ce=n(69798),le=n(647),ue=n(82092);const de="x6zNCqcdrTezhaUq6pck",me="ZcbYxrNgxYr3SbEDBTYc",ve="_vV79k5wVj4ojQrGsBb1",he="rdv_h11KFhUaePKRhMCV",fe="Iq0_yrjNiWn8wRH7aDph",ge="cywtrgfOWVwmo7QagmNV",xe="_vCmAsTSGBADcknU2Mzz",je="Y6ilq5IfXWe4NCTIEAQs",pe="F0GSgR3ItvuSGr62Oe5g",ye="LtnM_4Oyo1HSd2O3TmCE",be="IQqSOBxm76WfDmGIj1DU",Ne="FSRM6nxcxudGRBZa4PTT",Se="ptXgOTvLktMzK0gfIr3K",_e="Y2Rtthdu0TlFAE_wU0Ah",ke="ntlY4xYsXqEM8EWs1uvk",Ce="a4SDu_eWa3Lmy8zYJJOU",we="rkyLixjACVqakDzW70Fj",Ie="QktlqjloKFGPU6VeCdJB",Re="D5ikxKFFy7OrZoPNlsxA",Ae="_OGSfzdUucEdm0ll_tF7",Oe="NoeAvmXKTUNWhszGUnHk",Ee="YmnPLOjioNCevJtMZ0WW",De="y8RckB3uXs02SxhOZkH0",Ue="PnjkxsPxdfZjXVMFaK4X",Me="USYJQ5misC_yxAwGf2i_",Pe="LXNtpDfChMRAPEOEhNGW",Te="nfjG30FTqx4BgHijkNnt",Fe="B6WEG6LOQLlkS_qAvKTq",Le="pjNrzKzBuV7XUPky3ier",Be="i90BSV7_cgYaY8UBFCqg",Ve="TkfBKkvG2fmebTrGLIxi",ze="Cu2TG7TTa2wwKrEpEsKY";const Ke=(0,b.memo)((function(e){var t=e.concertUri,n=e.entitySpec,r=(0,b.useMemo)((function(){return n.interestedButtonFactory()}),[n]),i=(0,ce.t)(r),a=(0,R.s)(),c=(0,ue.d)().enqueueSnackbar,l=(0,ee.d4)(ae.F6),u=(0,le.o)({username:l,concertUri:t}),d=u.data,m=u.isLoading,v=(0,b.useState)(),h=(0,$.A)(v,2),f=h[0],g=h[1],x=void 0===f?d:f,j=(0,s.o_)(t);return(0,F.jsx)(ie.Zp,{label:o.Ru.get("concerts_interested_tooltip"),placement:"top-end",children:(0,F.jsx)(te.n,{ref:i,size:"small",iconLeading:x?ne.i:re.u,className:Oe,"aria-checked":x,disabled:m,onClick:function(){if(!m)if(x){var e=r.hitRemoveInterest();e&&a.logInteraction(e),g(!1),c(o.Ru.get("concerts_removed-from-your-saved-events")),(0,oe.Jr)(se.n.getInstance(),j.id)}else{var t=r.hitAddInterest();t&&a.logInteraction(t),g(!0),c(o.Ru.get("concerts_added-to-your-saved-events")),(0,oe.m9)(se.n.getInstance(),j.id)}},children:o.Ru.get("concerts_interested")})})}));n(20427);var qe=n(95477),Ge=n(10131),We=n(68262),Ye=n(27233),Qe=n(67939);const Ze=(0,b.memo)((function(e){var t=e.concertUri,n=e.offer,r=e.position,a=e.spec,s=e.onRemindMe,c=n.soldOut||(0,Ge.m7)(n.endDateIsoString),l="Spotify"===n.providerName,u=(0,Ge.PR)(n.startDateIsoString),d=u?void 0:n.url,m=(0,R.s)(),v=(0,We.W)(),h=(0,b.useMemo)((function(){return a.ticketProviderCellFactory({identifier:n.providerName,position:r,uri:n.url})}),[a,n.providerName,r,n.url]),f=(0,ce.t)(h),g=(0,b.useMemo)((function(){if(c)return(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Pe,children:o.Ru.get("concerts.soldout")});if(u){var e=n.startDateIsoString&&new Date(n.startDateIsoString);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Ue,children:o.Ru.get("concerts.tickets_on_sale_soon")}),e&&(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Fe,children:o.Ru.get("concerts.ticket_date_time",(0,Ge.Y)(e),(0,Ge.WB)(e))})]})}var t={"on-sale":o.Ru.get("concerts.on_sale"),presale:o.Ru.get("concerts.presale")};return(0,F.jsxs)(F.Fragment,{children:[t[n.saleType]&&(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Ue,children:t[n.saleType]}),l&&n.minPrice&&(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:De,children:o.Ru.get("concerts.ticket_price",n.minPrice)})]})}),[c,u,n.saleType,n.minPrice,n.startDateIsoString,l]),x=(0,b.useMemo)((function(){return c?null:(u&&(qe.$,o.Ru.get("concerts.remind_me")),(0,F.jsx)(qe.$,{className:Ee,iconTrailing:Ye.p,size:"small",children:l?o.Ru.get("concert_buy_tickets"):o.Ru.get("concert_find_tickets")}))}),[c,u,l,s]);return(0,F.jsxs)("a",{href:d,className:be,target:"_blank",ref:f,onClick:function(){var e=h.hitNavigateToExternalUri({destination:n.url});e&&m.logInteraction(e),v({targetUri:t,intent:"find-concert",type:"click"})},children:[(0,F.jsx)("div",{className:Ne,children:(0,F.jsx)(Qe._,{loading:"eager",src:n.providerImageUrl,height:"100%",width:"100%",className:Se,children:(0,F.jsx)(_.T,{className:_e,size:"medium"})})}),(0,F.jsxs)("div",{className:ke,children:[(0,F.jsxs)("div",{dir:"auto",className:Me,children:[g,(0,F.jsx)(i.E,{as:"p",semanticColor:"textSubdued",children:n.providerName})]}),x]})]})}));const He=(0,b.memo)((function(e){var t=e.concertUri,n=e.offers,r=e.entitySpec,a=(0,b.useMemo)((function(){return r.ticketProviderListFactory()}),[r]),s=(0,ce.t)(a);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert.header.tickets_available_on")}),(0,F.jsx)("div",{ref:s,className:pe,children:n.map((function(e,n){return(0,F.jsx)(Ze,{concertUri:t,offer:e,position:n,onRemindMe:function(){},spec:a},e.url)}))}),(0,F.jsx)(i.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:ye,children:o.Ru.get("events_page.disclaimer")})]})}));n(60989),n(82368),n(45191),n(58470),n(36389),n(77020),n(52067),n(76867),n(45935),n(60726),n(82765),n(13312);var Xe=n(2222),Je=n(46600);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var et=function(e){var t=e.locationName,n=e.latitude,r=e.longitude,a=e.onClick,s=new URL("https://maps.google.com/");return s.searchParams.set("q",t),n&&r&&s.searchParams.set("ll","".concat(n,",").concat(r)),(0,F.jsx)("a",{href:s.href,target:"_blank",onClick:function(){return null==a?void 0:a(s.href)},children:(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",children:t})})};const tt=(0,b.memo)((function(e){var t;if((0,k.NC)(Je.DKh)&&((t=e.venue)&&Object.keys(t.data).includes("uri"))){var n=e.venue.data.uri;return(0,F.jsx)(Xe.A,{to:n,onClick:function(){var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e,n)},children:(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",children:e.locationName})})}return(0,F.jsx)(et,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,y.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}));const nt=(0,b.memo)((function(e){var t,n,r=e.concert,a=e.entitySpec,s=(0,R.s)(),c=(0,J.V)(),l=(0,Ge.l4)(r.startDateIsoString);if((0,Ge.m7)(r.startDateIsoString))return(0,F.jsxs)("div",{className:je,children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert_event_ended")}),(0,F.jsx)(i.E,{variant:"bodyMedium",children:(0,F.jsx)(w.A,{to:"spotify:concerts",children:o.Ru.get("concert_past_message")})})]});return(0,F.jsxs)("div",{className:je,children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",className:Te,children:(0,F.jsx)(tt,{venue:r.venue,locationName:(0,O.im)(r.location),latitude:null===(t=r.location.coordinates)||void 0===t?void 0:t.latitude,longitude:null===(n=r.location.coordinates)||void 0===n?void 0:n.longitude})}),(0,F.jsx)(i.E,{as:"h3",variant:"bodySmall",className:Re,children:[(0,Ge.Y)(l),(0,Ge.WB)(l)].join(" • ")}),(0,F.jsxs)("div",{className:de,children:[!c&&(0,F.jsx)(Ke,{concertUri:r.uri,entitySpec:a}),(0,F.jsx)(K.w,{uri:r.uri,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:function(){var e=a.shareEventButtonFactory({uri:r.uri}).hitShare({entityToBeShared:r.uri,shareId:r.uri});e&&s.logInteraction(e)},className:Le,ariaLabel:o.Ru.get("concerts_share_with_friends")}),(0,F.jsx)(q.b,{menu:(0,F.jsx)(X,{uri:r.uri}),onShow:function(){var e=a.contextMenuButtonFactory().hitUiReveal();e&&s.logInteraction(e)},children:(0,F.jsx)(z.e,{size:"large"})})]}),(0,F.jsx)(He,{concertUri:r.uri,offers:r.offers.items,entitySpec:a})]})}));var rt=n(59950),it=(n(2944),n(90433)),at=n(54168),st=n(98802),ot=(n(41669),n(61229)),ct=function(e,t){return new Date(e.date.isoString).getTime()-new Date(t.date.isoString).getTime()},lt=function(e){var t,n,r,i,a=e.artist,s=e.spec,c=(0,R.s)(),l=a.goods.events.concerts.items.filter((function(e){return e.nearUser})).sort(ct).shift(),u=l&&(n=l,i=o.Ru.formatDate((0,Ge.l4)(null==n?void 0:n.date.isoString),{day:"numeric",month:"short"}),null!==(r=n.venue.location)&&void 0!==r&&r.name?"".concat(i,", ").concat(n.venue.location.name):i),d=null===(t=a.goods.events.userLocation)||void 0===t?void 0:t.name,m="".concat(a.uri,":concerts");return(0,F.jsxs)("div",{className:Ve,children:[l&&d&&(0,F.jsxs)("div",{className:ze,children:[(0,F.jsx)(ot.Z,{children:o.Ru.get("concerts.next_concert_near_location_colon",d)}),(0,F.jsx)(w.A,{to:l.uri,onClick:function(){return e=l.uri,t=s.nextConcertNearUserLinkFactory({uri:e}).hitUiNavigate({destination:e}),void c.logInteraction(t);var e,t},children:(0,F.jsx)(ot.Z,{semanticColor:"textSubdued",children:u})})]}),(0,F.jsxs)("div",{className:ze,children:[(0,F.jsx)(ot.Z,{children:o.Ru.get("concerts.on_tour_colon")}),(0,F.jsx)(w.A,{to:m,onClick:function(){var e=s.artistEventsLinkFactory({uri:m}).hitUiNavigate({destination:m});c.logInteraction(e)},children:(0,F.jsx)(ot.Z,{semanticColor:"textSubdued",children:o.Ru.get("concerts.view_all_upcoming_concerts_count",a.goods.events.concerts.totalCount)})})]})]})},ut=n(86485);const dt="FjO33VzGE6gfBjmL653W",mt="_NcmNLWwFe2sPY79b4Qa",vt="akNxAcOtC3FYI8sqvJjD",ht="mUE9LjVEFQPKle8deylh",ft="Vf1WyewhhIsg7A_HPmBJ",gt="XY8pb4mCvOicd35GIUMg",xt="_KEuwafdCwVU1rKBhfQz";var jt=(0,b.memo)((function(e){var t=e.imageUri,n=e.name,r=e.uri,a=e.headliner,s=e.onClick,c=(0,F.jsxs)(w.N,{to:r,className:mt,onClick:s,children:[t?(0,F.jsx)(ut.b,{children:(0,F.jsx)("div",{"data-testid":"image-container",className:xt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(".concat(t,")")}})}):null,(0,F.jsxs)("div",{className:vt,children:[a&&(0,F.jsx)("div",{className:ft,children:(0,F.jsx)(i.E,{as:"h4",variant:"bodySmallBold",className:gt,children:o.Ru.get("concert.label.headliner")})}),(0,F.jsx)(i.E,{as:"h2",variant:"titleMedium",className:ht,children:n})]})]});return(0,F.jsx)("div",{className:dt,children:c})}));const pt=jt;const yt=(0,b.memo)((function(e){var t,n=e.artist,r=e.position,i=e.lineupSpec,a=(0,b.useMemo)((function(){return i.artistRowFactory({position:r,uri:n.uri})}),[i,r,n.uri]),s=(0,R.s)(),c=(0,k.NC)(Je.DFH),l=n.relatedContent.featuringV2.items.flatMap((function(e){var t=e.data;return"Playlist"===t.__typename&&"artistsets"===t.format?[t]:[]})),u=n.discography.popularReleasesAlbums.items,d=null===(t=n.visuals.avatarImage)||void 0===t||null===(t=t.sources)||void 0===t?void 0:t[0],m=(0,F.jsx)(pt,{uri:n.uri,name:n.profile.name,imageUri:null==d?void 0:d.url,headliner:0===r,onClick:function(){var e=null==a?void 0:a.artistCardFactory().hitUiNavigate({destination:n.uri});e&&s.logInteraction(e)}},n.uri),v=l.map((function(e,t){var n,r="User"===e.ownerV2.data.__typename&&e.ownerV2.data.name||e.name;return(0,F.jsx)(at.B,{index:t,uri:e.uri,name:e.name,images:null===(n=e.images.items[0])||void 0===n?void 0:n.sources,description:e.description||"",authorName:r},e.uri)})),h=u.map((function(e,t){var n,r=e.artists.items.map((function(e){return{uri:e.uri,name:e.profile.name}}));return(0,F.jsx)(it.a,{uri:e.uri,index:t,artists:r,images:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],name:e.name,sharingInfo:e.sharingInfo},e.uri)}));return(0,F.jsxs)(W.pZ,{value:"headered-grid",index:r,children:[(0,F.jsx)(st.$,{title:0===r?o.Ru.get("concert.lineup"):"",total:2+v.length+h.length,seeAllUri:n.uri,seeAllLabel:o.Ru.get("view.see-all"),onClickShelfSeeAll:function(){var e=null==a?void 0:a.seeDiscographyLinkFactory().hitUiNavigate({destination:n.uri});e&&s.logInteraction(e)},showSeeAll:!0,alwaysShowSeeAll:!0,children:[m,null].concat((0,rt.A)(v),(0,rt.A)(h)),className:Be}),c&&(0,F.jsx)(lt,{artist:n,spec:a})]},n.uri)}));const bt=(0,b.memo)((function(e){var t=e.artists,n=e.entitySpec,r=(0,b.useMemo)((function(){return n.lineupArtistsFactory()}),[n]),i=(0,ce.t)(r);return(0,F.jsx)("div",{ref:i,className:Ce,children:t.flatMap((function(e,t){if("Artist"!==e.data.__typename)return[];var n=e.data;return[(0,F.jsx)(yt,{artist:n,position:t,lineupSpec:r},n.uri)]}))})}));var Nt=n(48536);const St="Hfc2oes6xv_aDZe9NiT1",_t="SHue2Uo0VFHp8utelad9",kt="RR0j6Ja2HpvGlL7Hq2wg";const Ct=(0,b.memo)((function(e){return(0,F.jsxs)(w.N,{to:"spotify:concerts",className:St,onClick:e.onClick,children:[(0,F.jsx)(ut.b,{children:(0,F.jsx)("div",{className:kt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(".concat("https://concerts.spotifycdn.com/ConcertHubCard.png",")")}})}),(0,F.jsx)("div",{className:_t,children:(0,F.jsx)(i.E,{as:"h2",variant:"titleSmall",children:o.Ru.get("concerts_browse_more")})})]})}));var wt=n(37719),It=(0,b.memo)((function(e){var t,n=e.concert,r=e.position,i=e.recommendedSpec,a=(0,R.s)(),s=n.artists.items.flatMap((function(e){return"Artist"===e.data.__typename?[e.data]:[]})),o=s.map((function(e){return e.profile.name})),c=(0,O.tI)(n.title,n.festival,o)?n.title:(0,O.Ac)(o),l=null===(t=s[0])||void 0===t||null===(t=t.visuals.avatarImage)||void 0===t?void 0:t.sources[0];return(0,F.jsx)(wt.A,{uri:n.uri,title:c,date:n.startDateIsoString,subTitle:(0,O.im)(n.location),imageUrl:null==l?void 0:l.url,firstParty:n.firstParty,onClick:function(){var e=null==i?void 0:i.concertCardFactory({position:r,uri:n.uri}).hitUiNavigate({destination:n.uri});e&&a.logInteraction(e)}})}));const Rt=(0,b.memo)((function(e){var t=e.relatedConcerts,n=e.entitySpec,r=(0,b.useMemo)((function(){return n.recommendedConcertsFactory()}),[n]),i=(0,R.s)(),a=(0,ce.t)(r),s=t.items.flatMap((function(e){return"ConcertV2"===e.data.__typename?[e.data]:[]}));if(0===s.length)return null;return(0,F.jsx)("div",{ref:a,className:Ie,"data-testid":"concert-recommendations",children:(0,F.jsx)(W.pZ,{value:"headered-grid",children:(0,F.jsxs)(st.$,{title:o.Ru.get("concert.similar_events"),total:t.totalCount,className:Ae,showSeeAll:!0,alwaysShowSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:o.Ru.get("view.see-all"),colGap:(0,Nt.po)("base"),withEncoreCards:!1,children:[(0,F.jsx)(Ct,{onClick:function(){var e=null==r?void 0:r.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});e&&i.logInteraction(e)}},"browse"),s.map((function(e,t){return(0,F.jsx)(It,{position:t,concert:e,recommendedSpec:r},e.uri)}))]})})})}));var At=n(67281),Ot=n(42344),Et=new At.l("concert","query","a3ed35c5dab1ccb9dc41018822adb997e77f34bf12b2ee7f92ffcc5469ce7ae3",null),Dt=function(e){var t,n,r,o=e.concert,g=(0,p.r)(a.b,{data:{identifier:null===(t=(0,s.o_)(o.uri))||void 0===t?void 0:t.id,uri:o.uri}}).spec,y=o.artists.items.flatMap((function(e){return"Artist"===e.data.__typename?[e.data]:[]})),b=y[0].visuals.headerImage;(0,x.z)(null==b||null===(n=b.extractedColors)||void 0===n?void 0:n.colorDark.hex);var N=y.map((function(e){return e.profile.name})),S=(0,O.tI)(o.title,o.festival,N)?o.title:(0,O.re)(N),_=(0,Ge.l4)(o.startDateIsoString);return(0,F.jsxs)("section",{className:fe,children:[(0,F.jsx)(l.Q,{children:(0,j.K9)(o.title,o.location.city,o.location.name)}),(0,F.jsxs)(d.z,{backgroundImages:null==b?void 0:b.sources,children:[(0,F.jsxs)(m.Y,{children:[(0,F.jsx)(u.Z,{children:(0,F.jsx)("div",{className:me,children:(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",className:ve,children:(0,Ge.Fn)(_)})})}),(0,F.jsx)(f.mm,{className:ge,children:S})]}),(0,F.jsx)(v.h,{children:(0,F.jsx)("div",{className:we,children:(0,F.jsx)(h.X,{text:S})})})]}),(0,F.jsxs)("div",{className:he,children:[(0,F.jsx)(c.K,{backgroundColor:null==b||null===(r=b.extractedColors)||void 0===r?void 0:r.colorDark.hex}),(0,F.jsxs)("div",{className:xe,children:[(0,F.jsx)(nt,{concert:o,entitySpec:g}),(0,F.jsx)(bt,{artists:o.artists.items,entitySpec:g}),(0,F.jsx)(V,{location:o.location,showTime:_,htmlDescription:o.htmlDescription,ageRestriction:o.ageRestriction,doorsOpenTime:o.doorsOpenTimeIsoString?(0,Ge.l4)(o.doorsOpenTimeIsoString):null,spec:g}),(0,F.jsx)(Rt,{relatedConcerts:o.relatedConcerts,entitySpec:g})]})]})]})};const Ut=function(){var e,t,n=(0,r.g)().concertId,i="spotify:concert:".concat(n),a=(e={uri:i},(0,Ot.I)(Et,e,t)),s=a.loading,c=a.error,l=a.data;return s?(0,F.jsx)(g.A,{hasError:!1,errorMessage:""}):c||"ConcertV2"!==(null==l?void 0:l.concert.__typename)?(0,F.jsx)(g.A,{hasError:!0,errorMessage:o.Ru.get("concert.error.concert_not_found_title")}):(0,F.jsx)(Dt,{concert:l.concert})}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map