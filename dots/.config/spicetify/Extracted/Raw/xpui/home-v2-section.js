"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1621],{41828:(e,t,n)=>{n.r(t),n.d(t,{SKELETON_CARDS_COUNT:()=>V,default:()=>U});var i=n(59950),o=n(29969),a=n(52618),s=n.n(a),r=(n(60989),n(45191),n(91911),n(62980),n(11034),n(36389),n(12771),n(75231),n(3869),n(77020),n(45935),n(60726),n(82765),n(13312),n(30758)),c=n(19493),l=n(97500),u=n.n(l),d=n(41978),m=n(33165),h=n(8539),v=n(82342),f=n(57528),p=n(62518),g=n(48433),S=n(74702),x=n(83086),_=n(55856),y=n(25598),j=n(49971),w=n(86607),H=(n(83603),n(76133),n(67264)),A=n(42931),D=n(87362),I=n(86070),O=function(e){var t,n,i=e.section;return(0,I.jsx)(A.p,{pageId:i.uri,title:null!==(t=null===(n=i.data.title)||void 0===n?void 0:n.text)&&void 0!==t?t:"",showAll:!0,index:0,id:i.uri,rowGap:H.lT,fullPage:!0,children:i.sectionItems.items.map(D.G)})},C=(n(45803),n(48536)),b=n(38576),k=n(12370),N=n(96066),P=function(e){var t=e.section;return(0,I.jsx)(k.x,{config:(0,N.s1)(N.yV.MUSIC_VIDEOS),children:(0,I.jsx)(A.p,{pageId:t.uri,title:h.Ru.get("music_videos"),showAll:!0,index:0,id:t.uri,rowGap:(0,C.po)("looser"),fullPage:!0,children:t.sectionItems.items.map((function(e,t){if("TrackResponseWrapper"!==e.content.__typename||"Track"!==e.content.data.__typename)return null;var n=e.content.data;return(0,I.jsx)(b.O,{title:n.name,trackUri:n.uri,artists:n.artists.items,album:n.albumOfTrack,contentRating:n.contentRating,referrerIdentifier:"other",index:t},n.uri)}))})})},R=n(27769),T=function(e){var t,n=e.section;switch(null===(t=n.data)||void 0===t?void 0:t.__typename){case"HomeGenericSectionData":return(0,I.jsx)(O,{section:(0,R.M)(n,n.data)});case"HomeMusicVideosSectionData":return(0,I.jsx)(P,{section:(0,R.M)(n,n.data)});case"HomeShortsSectionData":case"HomeRecentlyPlayedSectionData":case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeGridSectionData":case"HomeSpotlightSectionData":case"HomePromotionSectionData":case null:case void 0:case"HomeFeatureActivationSectionData":case"HomeWatchFeedSectionData":case"HomeOnboardingSectionDataV2":case"HomeYourDJSectionData":return null;case"HomeFeatureActivationSectionDataV2":return(0,I.jsx)(w.G,{sectionItems:n.sectionItems.items,showAll:!0,uri:n.uri,localStorageKey:n.data.localStorageKey});default:return(0,x.k)(n.data),null}},F=n(41787),G=n(91548),M=(0,r.memo)((function(e){var t=e.cardCount;return(0,I.jsx)(G._,{isLoading:!0,showAll:!0,withTitle:!0,children:(0,i.A)(new Array(t).keys()).map((function(e,t){return(0,I.jsx)(F.u,{isLoading:!0},t)}))})})),E=n(44869),L=n(12601),V=10,J=function(e){var t,n,a,l=e.uri,v=(0,m.zy)(),w=new URLSearchParams(v.search).get("pCountry"),H=(0,d.d4)(y.JJ),A=(0,r.useContext)(g.j).request,D=(0,c.q)({queryKey:["homeV2","section",l,{numberOfItems:20}],queryFn:(a=(0,o.A)(s().mark((function e(t){var n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.pageParam,e.abrupt("return",(0,S.c)(A,j.U3,{uri:l,timeZone:(0,E.Ff)(),sp_t:null!==(n=(0,p.v8)("sp_t"))&&void 0!==n?n:"",country:null!=w?w:H,sectionItemsOffset:i,sectionItemsLimit:20}));case 2:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),initialPageParam:0,getNextPageParam:function(e){var t,n;if("HomeSectionCollection"===(null==e||null===(t=e.data)||void 0===t||null===(t=t.homeSections)||void 0===t?void 0:t.__typename)&&"HomeSection"===(null===(n=e.data.homeSections.sections[0])||void 0===n?void 0:n.__typename)){var i,o=null===(i=e.data.homeSections.sections[0])||void 0===i?void 0:i.sectionItems.pagingInfo;return o.nextOffset&&o.nextOffset>0?o.nextOffset:void 0}},gcTime:E.gO,staleTime:E.jl}),O=D.data,C=D.isLoading,b=D.error,k=(0,r.useMemo)((function(){return null!=O&&O.pages?O.pages.reduce((function(e,t){var n,o,a;if(null==t||null===(n=t.data)||void 0===n||!n.homeSections||"HomeSectionCollection"!==(null==t||null===(o=t.data)||void 0===o?void 0:o.homeSections.__typename)||0===t.data.homeSections.sections.length)return e;switch(null===(a=t.data.homeSections.sections[0])||void 0===a?void 0:a.__typename){case"HomeSection":return null===e?(0,_.h)(t.data.homeSections.sections[0]):(e.sectionItems.items=[].concat((0,i.A)(e.sectionItems.items),(0,i.A)(t.data.homeSections.sections[0].sectionItems.items)),e);case"GenericError":case"NotFound":return e;default:return(0,x.k)(t.data.homeSections.sections[0]),e}}),null):null}),[null==O?void 0:O.pages]);if(C)return(0,I.jsx)("section",{"data-testid":"home-page",children:(0,I.jsx)("div",{className:L.A.home,children:(0,I.jsx)("div",{className:u()(L.A.content,"contentSpacing"),children:(0,I.jsx)(M,{cardCount:V})})})});if(null!==b)return(0,I.jsx)(f.A,{hasError:!0,errorMessage:h.Ru.get("error.generic")});var N=null==O||null===(t=O.pages[0])||void 0===t||null===(t=t.data)||void 0===t?void 0:t.homeSections;return"HomeSectionCollection"!==(null==N?void 0:N.__typename)||0===N.sections.length||"HomeSection"!==(null===(n=N.sections[0])||void 0===n?void 0:n.__typename)||null===k?(0,I.jsx)(f.A,{hasError:!0,errorMessage:h.Ru.get("error.generic")}):(0,I.jsx)("section",{"data-testid":"home-section-page",children:(0,I.jsx)("div",{className:L.A.home,children:(0,I.jsx)("div",{className:u()(L.A.content,"contentSpacing"),children:(0,I.jsx)(T,{section:k})})})})};const U=function(e){var t=e.uri;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(v.Q,{children:h.Ru.get("page.generic-title")}),(0,I.jsx)(J,{uri:t})]})}},55856:(e,t,n)=>{n.d(t,{h:()=>o});var i=n(49046);n(24847),n(45191),n(82860),n(53005),n(34640),n(41681),n(62980),n(54858),n(8856),n(27480),n(28360),n(4264),n(76263);function o(e){return"object"!==(0,i.A)(e)||null===e?e:window.structuredClone?window.structuredClone(e):JSON.parse(JSON.stringify(e))}}}]);
//# sourceMappingURL=home-v2-section.js.map