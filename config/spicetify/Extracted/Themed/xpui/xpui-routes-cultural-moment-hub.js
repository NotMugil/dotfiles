"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3838],{5051:(e,t,n)=>{n.r(t),n.d(t,{CulturalMomentHub:()=>te,REDIRECT_BASE:()=>G,default:()=>ne});var s=n(22215),i=n(19498),r=n(7125),l=n(98832),a=n(79474),o=n(97500),u=n.n(o),c=n(26833),d=n(14056),m=n(19277),p=n(88724);const h=(e,t)=>{const n=new Intl.DateTimeFormat;return e.build().withHost(p.LG).withPath("/hub").withQueryParameters({id:t,userHasRiF:!1,clientTimezone:n.resolvedOptions().timeZone??""}).withoutMarket().withEndpointIdentifier("cultural-moment/hub").send()};var g=n(67302),b=n(96660),x=n(38417),f=n(64647),y=n(82089),v=n(59841),j=n(79130),w=n(29117),A=n(6950),k=n(27699),_=n(39517),D=n(46545),I=n(13274);const N=({image:e,color:t=v.gray7,title:n})=>{const s=void 0===e?w.K.SMALL:w.K.DEFAULT,i=e?.custom?.sizes?.flatMap((e=>e.uri?[{url:e.uri,width:e.width,height:e.height}]:[]))??(e?.uri?[{url:e?.uri}]:[]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(w.z,{backgroundImages:i,backgroundColor:t,size:s,children:[(0,I.jsx)(k.h,{children:n?(0,I.jsx)(_.X,{text:n}):null}),(0,I.jsx)(A.Y,{children:n?(0,I.jsx)(D.mm,{children:n}):null})]}),(0,I.jsx)(j.f,{color:t})]})};var R=n(83856),C=n(67447),M=n(12871),z=n(99426);const E=e=>{if("number"==typeof e){return new Date(1e3*e).toISOString()}return null};const S=(e,t,n)=>{if(void 0===e.id)return null;const s=t.map(((e,t)=>function(e,t){const n=e.component?.id,s=e.id;if(void 0===n||void 0===s)return null;const i=e.events?.click?.data?.uri,r=e.images?.main?.uri,l=r?[{url:r}]:[];switch(n){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===i?null:(0,I.jsx)(M.U,{uri:i,name:e.text?.title??"",images:l,showImages:l,description:e.text?.description??e.text?.subtitle??"",durationMilliseconds:(a=e.custom?.duration,"number"==typeof a?a:0),releaseDate:E(e.custom?.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:t},i);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===i?null:(0,I.jsx)(z.B,{uri:i,name:e.text?.title??"",images:l,description:e.text?.description??"",authorName:e.text?.subtitle??"",index:t},i);default:return null}var a}(e,t))).flatMap((e=>e?[e]:[]));if(0===s.length)return null;const i=(0,R.o_)(e.events?.click?.data?.uri??"")?.toURLPath(!0);return(0,I.jsx)(C.p,{title:e.text?.title??"",total:s.length,seeAllUri:i,index:n,id:e.id,seeAllLabel:e.text?.accessory,children:s})},T=e=>{const t=(e=>{const t=Array();let n,s=Array();return e.forEach((e=>{"culturalmoments:sectionHeaderWithAction"===e.component?.id?(n&&0!==s.length&&t.push({heading:n,components:s}),n=e,s=Array()):n&&("culturalmoments:carousel"===e.component?.id||"glue2:carousel"===e.component?.id?e.children?.forEach((e=>{s.push(e)})):s.push(e))})),n&&0!==s.length&&t.push({heading:n,components:s}),t})(e);return(0,I.jsx)(I.Fragment,{children:t.map(((e,t)=>S(e.heading,e.components,t)))})};var F=n(74266),H=n(98764),O=n(98196),B=n(87939),L=n(14494),P=n(52792),U=n(30957),V=n(16754);const Z="MT6jAR25XYfoarcSqHDd",Q="IYZA3J2VTMydirxq_bdg",W="t6RJK1eND2uPmFYOi32l";var Y=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(Y||{});const q=({spec:e})=>{const t=d.Ru.getLocaleForTranslation(),n=(0,L.s)(),s=(0,P.t)(e),i=t=>{if(t===Y.ANDROID){const s=e.googleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(s)}else{const s=e.appleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(s)}};return(0,I.jsxs)(F.a,{variant:"tinted",style:{width:600},ref:s,children:[(0,I.jsx)(H.E,{as:"p",variant:"bodyMediumBold",style:{marginBottom:O.v4},children:d.Ru.get("web-player.cultural-moments.unsupportedHeading")}),(0,I.jsx)(H.E,{as:"p",variant:"bodySmall",style:{marginBottom:O.CD},children:d.Ru.get("web-player.cultural-moments.unsupportedDescription")}),(0,I.jsxs)("div",{className:u()(W),children:[(0,I.jsx)(U.default,{to:Y.IOS,target:"_blank",onClick:()=>i(Y.IOS),children:(0,I.jsx)("img",{src:(0,B.b)((0,V.f)(t)),alt:d.Ru.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:Z})}),(0,I.jsx)(U.default,{to:Y.ANDROID,target:"_blank",onClick:()=>i(Y.ANDROID),children:(0,I.jsx)("img",{src:(0,B.b)((0,V.A)(t)),alt:d.Ru.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:u()(Z,Q)})})]})]})},K="B9Q1L66F7wl4eUMgp4Lg",$="gtqpWbwIV4PTEp8Q0ZW4",J="edYsLe1QCBdzPglEiROZ",X=({uri:e,id:t})=>{const{data:n,error:s,loading:i}=(0,b.Z)(h,[t]),{spec:r,UBIFragment:l}=(0,g.r)(c.j,{data:{identifier:e,uri:e}}),o=(0,a.useMemo)((()=>r.shelvesFactory()),[r]),p=(0,a.useMemo)((()=>r.mobilePromptFactory()),[r]),v=n?.body.hubViewData?.body,j=n?.body.hubViewData?.header;if(null===n||void 0===v||void 0===j||i||null!==s)return(0,I.jsx)(y.A,{hasError:null!==s,errorMessage:d.Ru.get("error.generic")});const w=n.body.hubViewData?.title,A=j?.text?.title;return(0,I.jsxs)(l,{spec:r,children:[(0,I.jsx)(f.Q,{children:w??""}),A?(0,I.jsx)("div",{className:K,children:(0,I.jsx)(N,{title:j?.text?.title,image:j.images?.background})}):null,(0,I.jsx)(l,{spec:o,children:(0,I.jsxs)("div",{className:J,children:[A&&(0,I.jsx)(x.K,{}),(0,I.jsx)("div",{className:u()("contentSpacing",$),children:(0,I.jsxs)(m._,{children:[(0,I.jsx)(q,{spec:p}),v?T(v):null]})})]})})]})},G="https://accounts.spotify.com/login",ee=()=>{const e=window.location.href;return window.location.href=`${G}?continue=${encodeURIComponent(e)}`,null},te=e=>{const t=(0,r.V)(),n=(0,s.NC)(i.Be8,{loadingValue:!1});return t?(0,I.jsx)(ee,{}):n?(0,I.jsx)(X,{...e}):(0,I.jsx)(l.InstrumentedRedirect,{to:"/"})},ne=te},16754:(e,t,n)=>{n.d(t,{A:()=>l,f:()=>r});const s=["ar","az","bg","cs_CZ","da","de","ee","el","en","es","es_mx","fi","fp","fr","fr_ca","he","hu","id","it","ja","ko","lt","lv","ms","mt","nb","nl","pl","pt","pt_br","ro","ru","sk","sl","sv","th_TH","tr","vi_VN","zh_HANS","zh_HANT"],i=["af","ar","am","az","be","bg","bn","bs","ca","cr","cs_CZ","da","de","el","en","es","es_419","et","eu","fa","fi","fp","fr","fr_ca","gl","gu","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","nb","ne","nl","pa","pl","pt","pt_br","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th_TH","tr","ua","ur","uz","vi_VN","zh_HANS","zh_HANT","zh_hk","zu"],r=e=>`images/download-badges/apple/${s.includes(e)?e:"int"}.svg`,l=e=>`images/download-badges/google/${i.includes(e)?e:"int"}.svg`}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.js.map