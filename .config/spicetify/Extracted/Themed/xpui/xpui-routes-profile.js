"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9480],{83508:(e,a,t)=>{t.d(a,{M:()=>c});var i=t(2092),r=t(63),o=t(36894),s=t(52786),l=t(40292);const n="profile-editImage-imageContainer",u="profile-editImage-editImageButtonContainer";var d=t(13274);const c=function({onClick:e,name:a,images:t,canEdit:c,placeholderType:m,shape:g=l.u.SQUARE,dragUri:p=""}){const[h,f]=(0,r.P)(t),v=(0,o.b)(h,f)===o.g.loaded,{draggable:x,onDragStart:b}=(0,i.P)({itemUris:[p],dragLabelText:a});return(0,d.jsxs)("div",{className:n,"data-testid":`${m}-image`,draggable:x&&!!p,onDragStart:b,children:[(0,d.jsx)(l.b,{loading:"eager",name:a,images:t,placeholderType:m,shape:g}),c&&(0,d.jsx)("div",{className:u,children:(0,d.jsx)(s.a,{overlay:v,onClick:e,rounded:g===l.u.CIRCLE})})]})}},53215:(e,a,t)=>{t.r(a),t.d(a,{default:()=>St});var i=t(79474),r=t(83648),o=t(9714),s=t(83856),l=t(15127),n=t(7125);var u=t(33523),d=t(98196),c=t(14056),m=t(30428),g=t(82089),p=t(96642),h=t(70682),f=t(96660),v=t(13274);const x=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,f.Z)(h.SR,[a]),o=t?.profiles;return i?(0,v.jsx)(g.A,{hasError:null!==r,errorMessage:c.Ru.get("error.not_found.title.page")}):(0,v.jsx)(p.$,{className:"contentSpacing",title:c.Ru.get("followers"),total:o?.length,showAll:!0,fullPage:!0,rowGap:d.lT,children:o?.map(((e,a)=>(0,v.jsx)(m.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))})},b=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,f.Z)(h.mH,[a]),o=t?.profiles;return i?(0,v.jsx)(g.A,{hasError:null!==r,errorMessage:c.Ru.get("error.not_found.title.page")}):(0,v.jsx)(p.$,{className:"contentSpacing",title:c.Ru.get("following"),total:o?.length,showAll:!0,fullPage:!0,rowGap:d.lT,children:o?.map(((e,a)=>(0,v.jsx)(m.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))})};var y=t(80964),k=t(97500),j=t.n(k),R=t(99754),_=t(42551),I=t(22215),T=t(78280),P=t(47376),N=t(99426),w=t(88291),A=t(98496),C=t(64647),S=t(83508),E=t(27699),U=t(39517),O=t(98764),L=t(23689),M=t(91520),D=t(61080),F=t(70201),B=t(63),H=t(36894),W=t(40292);const G="profile-userEditDetails-image",J="valcBm4lLe9qFBcg0sFY",$="tAIzXn8C9KriGwGuBfWg",Q="PsrXxenHUFXYM1ub1xWw",z="U_VWfeeLWnDPhUTxCmrQ",K=function({onClickEdit:e,onClickRemove:a,name:t,images:i,canEdit:r}){const[o,s]=(0,B.P)(i),l=(0,H.b)(o,s)===H.g.loaded;return(0,v.jsxs)("div",{className:G,children:[(0,v.jsx)(W.b,{loading:"eager",name:t,images:i,placeholderType:"user",shape:W.u.CIRCLE}),r&&(0,v.jsxs)("div",{className:j()(J,{[Q]:l}),children:[(0,v.jsx)("button",{className:$,"aria-haspopup":"true",onClick:e,type:"button",children:(0,v.jsx)(O.E,{variant:"bodyMedium",children:c.Ru.get("user.edit-details.choose-photo")})}),(0,v.jsx)("div",{className:j()(z,"icon"),children:(0,v.jsx)(F.G,{size:"xlarge","aria-hidden":!0})}),(0,v.jsx)("button",{className:$,onClick:a,type:"button",children:(0,v.jsx)(O.E,{variant:"bodyMedium",children:c.Ru.get("user.edit-details.remove-photo")})})]})]})};var V=t(88724),q=t(90700),Z=t(59043);const X={paths:""},Y={encode(e,a=Z.Writer.create()){for(const t of e.paths)a.uint32(10).string(t);return a},decode(e,a){const t=e instanceof Uint8Array?new Z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...X};for(r.paths=[];t.pos<i;){const e=t.uint32();if(e>>>3==1)r.paths.push(t.string());else t.skipType(7&e)}return r},fromJSON(e){const a={...X};if(a.paths=[],void 0!==e.paths&&null!==e.paths)for(const t of e.paths)a.paths.push(String(t));return a},fromPartial(e){const a={...X};if(a.paths=[],void 0!==e.paths&&null!==e.paths)for(const t of e.paths)a.paths.push(t);return a},toJSON(e){const a={};return e.paths?a.paths=e.paths.map((e=>e)):a.paths=[],a}};t(14269);var ee=t(21364),ae=t(84686).hp;const te={value:0},ie={value:!1},re={value:""};const oe={encode:(e,a=Z.Writer.create())=>(a.uint32(8).int32(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new Z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...te};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)r.value=t.int32();else t.skipType(7&e)}return r},fromJSON(e){const a={...te};return void 0!==e.value&&null!==e.value?a.value=Number(e.value):a.value=0,a},fromPartial(e){const a={...te};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value=0,a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}},se={encode:(e,a=Z.Writer.create())=>(a.uint32(8).bool(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new Z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...ie};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)r.value=t.bool();else t.skipType(7&e)}return r},fromJSON(e){const a={...ie};return void 0!==e.value&&null!==e.value?a.value=Boolean(e.value):a.value=!1,a},fromPartial(e){const a={...ie};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value=!1,a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}},le={encode:(e,a=Z.Writer.create())=>(a.uint32(10).string(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new Z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...re};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)r.value=t.string();else t.skipType(7&e)}return r},fromJSON(e){const a={...re};return void 0!==e.value&&null!==e.value?a.value=String(e.value):a.value="",a},fromPartial(e){const a={...re};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value="",a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}};Z.util.Long!==ee.A&&(Z.util.Long=ee.A,(0,Z.configure)());const ne=globalThis;ne.atob,ne.btoa;const ue={maxWidth:0,maxHeight:0,url:""},de={},ce={},me={encode:(e,a=Z.Writer.create())=>(a.uint32(8).int32(e.maxWidth),a.uint32(16).int32(e.maxHeight),a.uint32(26).string(e.url),a),decode(e,a){const t=e instanceof Uint8Array?new Z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...ue};for(;t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:r.maxWidth=t.int32();break;case 2:r.maxHeight=t.int32();break;case 3:r.url=t.string();break;default:t.skipType(7&e)}}return r},fromJSON(e){const a={...ue};return void 0!==e.maxWidth&&null!==e.maxWidth?a.maxWidth=Number(e.maxWidth):a.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?a.maxHeight=Number(e.maxHeight):a.maxHeight=0,void 0!==e.url&&null!==e.url?a.url=String(e.url):a.url="",a},fromPartial(e){const a={...ue};return void 0!==e.maxWidth&&null!==e.maxWidth?a.maxWidth=e.maxWidth:a.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?a.maxHeight=e.maxHeight:a.maxHeight=0,void 0!==e.url&&null!==e.url?a.url=e.url:a.url="",a},toJSON(e){const a={};return void 0!==e.maxWidth&&(a.maxWidth=e.maxWidth),void 0!==e.maxHeight&&(a.maxHeight=e.maxHeight),void 0!==e.url&&(a.url=e.url),a}},ge={encode(e,a=Z.Writer.create()){void 0!==e.username&&void 0!==e.username&&le.encode({value:e.username},a.uint32(10).fork()).ldelim(),void 0!==e.name&&void 0!==e.name&&le.encode({value:e.name},a.uint32(18).fork()).ldelim();for(const t of e.images)me.encode(t,a.uint32(26).fork()).ldelim();return void 0!==e.verified&&void 0!==e.verified&&se.encode({value:e.verified},a.uint32(34).fork()).ldelim(),void 0!==e.editProfileDisabled&&void 0!==e.editProfileDisabled&&se.encode({value:e.editProfileDisabled},a.uint32(42).fork()).ldelim(),void 0!==e.reportAbuseDisabled&&void 0!==e.reportAbuseDisabled&&se.encode({value:e.reportAbuseDisabled},a.uint32(50).fork()).ldelim(),void 0!==e.abuseReportedName&&void 0!==e.abuseReportedName&&se.encode({value:e.abuseReportedName},a.uint32(58).fork()).ldelim(),void 0!==e.abuseReportedImage&&void 0!==e.abuseReportedImage&&se.encode({value:e.abuseReportedImage},a.uint32(66).fork()).ldelim(),void 0!==e.hasSpotifyName&&void 0!==e.hasSpotifyName&&se.encode({value:e.hasSpotifyName},a.uint32(74).fork()).ldelim(),void 0!==e.hasSpotifyImage&&void 0!==e.hasSpotifyImage&&se.encode({value:e.hasSpotifyImage},a.uint32(82).fork()).ldelim(),void 0!==e.color&&void 0!==e.color&&oe.encode({value:e.color},a.uint32(90).fork()).ldelim(),a},decode(e,a){const t=e instanceof Uint8Array?new Z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...de};for(r.images=[];t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:r.username=le.decode(t,t.uint32()).value;break;case 2:r.name=le.decode(t,t.uint32()).value;break;case 3:r.images.push(me.decode(t,t.uint32()));break;case 4:r.verified=se.decode(t,t.uint32()).value;break;case 5:r.editProfileDisabled=se.decode(t,t.uint32()).value;break;case 6:r.reportAbuseDisabled=se.decode(t,t.uint32()).value;break;case 7:r.abuseReportedName=se.decode(t,t.uint32()).value;break;case 8:r.abuseReportedImage=se.decode(t,t.uint32()).value;break;case 9:r.hasSpotifyName=se.decode(t,t.uint32()).value;break;case 10:r.hasSpotifyImage=se.decode(t,t.uint32()).value;break;case 11:r.color=oe.decode(t,t.uint32()).value;break;default:t.skipType(7&e)}}return r},fromJSON(e){const a={...de};if(a.images=[],void 0!==e.username&&null!==e.username?a.username=String(e.username):a.username=void 0,void 0!==e.name&&null!==e.name?a.name=String(e.name):a.name=void 0,void 0!==e.images&&null!==e.images)for(const t of e.images)a.images.push(me.fromJSON(t));return void 0!==e.verified&&null!==e.verified?a.verified=Boolean(e.verified):a.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?a.editProfileDisabled=Boolean(e.editProfileDisabled):a.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?a.reportAbuseDisabled=Boolean(e.reportAbuseDisabled):a.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?a.abuseReportedName=Boolean(e.abuseReportedName):a.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?a.abuseReportedImage=Boolean(e.abuseReportedImage):a.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?a.hasSpotifyName=Boolean(e.hasSpotifyName):a.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?a.hasSpotifyImage=Boolean(e.hasSpotifyImage):a.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?a.color=Number(e.color):a.color=void 0,a},fromPartial(e){const a={...de};if(a.images=[],void 0!==e.username&&null!==e.username?a.username=e.username:a.username=void 0,void 0!==e.name&&null!==e.name?a.name=e.name:a.name=void 0,void 0!==e.images&&null!==e.images)for(const t of e.images)a.images.push(me.fromPartial(t));return void 0!==e.verified&&null!==e.verified?a.verified=e.verified:a.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?a.editProfileDisabled=e.editProfileDisabled:a.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?a.reportAbuseDisabled=e.reportAbuseDisabled:a.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?a.abuseReportedName=e.abuseReportedName:a.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?a.abuseReportedImage=e.abuseReportedImage:a.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?a.hasSpotifyName=e.hasSpotifyName:a.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?a.hasSpotifyImage=e.hasSpotifyImage:a.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?a.color=e.color:a.color=void 0,a},toJSON(e){const a={};return void 0!==e.username&&(a.username=e.username),void 0!==e.name&&(a.name=e.name),e.images?a.images=e.images.map((e=>e?me.toJSON(e):void 0)):a.images=[],void 0!==e.verified&&(a.verified=e.verified),void 0!==e.editProfileDisabled&&(a.editProfileDisabled=e.editProfileDisabled),void 0!==e.reportAbuseDisabled&&(a.reportAbuseDisabled=e.reportAbuseDisabled),void 0!==e.abuseReportedName&&(a.abuseReportedName=e.abuseReportedName),void 0!==e.abuseReportedImage&&(a.abuseReportedImage=e.abuseReportedImage),void 0!==e.hasSpotifyName&&(a.hasSpotifyName=e.hasSpotifyName),void 0!==e.hasSpotifyImage&&(a.hasSpotifyImage=e.hasSpotifyImage),void 0!==e.color&&(a.color=e.color),a}},pe={encode:(e,a=Z.Writer.create())=>(void 0!==e.mask&&void 0!==e.mask&&Y.encode(e.mask,a.uint32(10).fork()).ldelim(),void 0!==e.userProfile&&void 0!==e.userProfile&&ge.encode(e.userProfile,a.uint32(18).fork()).ldelim(),a),decode(e,a){const t=e instanceof Uint8Array?new Z.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...ce};for(;t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:r.mask=Y.decode(t,t.uint32());break;case 2:r.userProfile=ge.decode(t,t.uint32());break;default:t.skipType(7&e)}}return r},fromJSON(e){const a={...ce};return void 0!==e.mask&&null!==e.mask?a.mask=Y.fromJSON(e.mask):a.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?a.userProfile=ge.fromJSON(e.userProfile):a.userProfile=void 0,a},fromPartial(e){const a={...ce};return void 0!==e.mask&&null!==e.mask?a.mask=Y.fromPartial(e.mask):a.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?a.userProfile=ge.fromPartial(e.userProfile):a.userProfile=void 0,a},toJSON(e){const a={};return void 0!==e.mask&&(a.mask=e.mask?Y.toJSON(e.mask):void 0),void 0!==e.userProfile&&(a.userProfile=e.userProfile?ge.toJSON(e.userProfile):void 0),a}},he=`${V.I_}/identity`;async function fe(e,a,{name:t,imageUploadToken:i}){void 0!==t&&await async function(e,a,t){const i=pe.encode(pe.fromPartial({mask:{paths:["name"]},userProfile:null!==t?{name:t}:{}}));await e.build().withHost(he).withMethod("POST").withPath(`/v3/user/username/${encodeURIComponent((0,q.v)(a))}`).withEndpointIdentifier("/v3/user/username/{username}").withBody(i.finish()).withoutMarket().send()}(e,a,t),void 0!==i&&(null!==i?await async function(e,a,t){await e.build().withHost(he).withMethod("POST").withPath(`/v3/profile-image/${encodeURIComponent((0,q.v)(a))}/${t}`).withEndpointIdentifier("/v3/profile-image/{username}/{uploadToken}").withoutMarket().send()}(e,a,i):await async function(e,a){await e.build().withHost(he).withMethod("DELETE").withPath(`/v3/profile-image/${encodeURIComponent((0,q.v)(a))}`).withEndpointIdentifier("/v3/profile-image/{username}").withoutMarket().send()}(e,a))}var ve=t(21361);const xe={type:"error",get message(){return c.Ru.get("user.edit-details.error.file-size-exceeded",10)}},be={type:"error",get message(){return c.Ru.get("user.edit-details.error.too-small",300,300)}},ye={type:"error",get message(){return c.Ru.get("user.edit-details.error.missing-name")}},ke={type:"error",get message(){return c.Ru.get("user.edit-details.error.failed-to-save")}},je={type:"error",get message(){return c.Ru.get("user.edit-details.error.file-upload-failed")}};function Re(e){return{type:"setLoading",loading:e}}function _e(e){return{type:"setMessage",message:e}}function Ie(e,a){switch(a.type){case"setName":return{...e,name:a.name};case"setMessage":return{...e,message:a.message,loading:!1};case"setLoading":return{...e,loading:a.loading,message:null};case"setImageData":return{...e,imageData:a.data,removeImage:!1};case"setImageToken":return{...e,imageToken:a.token,removeImage:!1};case"removeImage":return{...e,imageToken:void 0,imageData:void 0,image:void 0,removeImage:!0};default:return e}}var Te=t(22269),Pe=t(4320),Ne=t(78444),we=t(59392);const Ae="profile-userEditDetails-container",Ce="profile-userEditDetails-content",Se="profile-userEditDetails-header",Ee="profile-userEditDetails-closeButton",Ue="vAeyAmeLkDEDKdL9Hou0",Oe="dnmzO6yYKkxUV8jl7O1Z",Le="profile-userEditDetails-nameInput",Me="profile-userEditDetails-name",De="profile-userEditDetails-label",Fe="profile-userEditDetails-labelText",Be="dMhJaxli87_22jb_3d9x",He="profile-userEditDetails-saveButton",We="profile-userEditDetails-disclaimer",Ge=i.memo((function({uri:e,name:a,image:t,onClose:r,shouldOpenImagePicker:o,userCapabilities:s}){const[l,n]=(0,Ne.p)(),[u,d]=function({name:e,image:a}){return(0,i.useReducer)(Ie,{loading:!1,message:null,name:e,image:a})}({name:a,image:t}),m=(0,i.useMemo)((()=>{const e=u.imageData||u.image;return e?[{url:e,width:300,height:300}]:[]}),[u.image,u.imageData]);(0,i.useEffect)((()=>{o&&n()}),[n,o]);const g=(0,i.useCallback)((e=>{e===Pe.i.FILE_TOO_BIG?d(_e(xe)):e===Pe.i.IMAGE_TOO_SMALL&&d(_e(be))}),[d]),p=(0,i.useCallback)((()=>{d({type:"removeImage"})}),[d]),h=(0,i.useCallback)((async a=>{a.preventDefault();if(0!==u.name.trim().length){d(Re(!0));try{const a=u.removeImage?null:u.imageToken;await async function(e,{name:a,imageUploadToken:t}){await fe(ve.n.getInstance(),e,{name:a,imageUploadToken:t})}(e,{name:u.name,imageUploadToken:a}),r({name:u.name,image:u.imageData||u.image})}catch(e){d(_e(ke))}}else d(_e(ye))}),[d,r,u.image,u.imageData,u.imageToken,u.name,u.removeImage,e]);return(0,v.jsx)(Te.A,{isOpen:!0,contentLabel:c.Ru.get("user.edit-details.title"),onRequestClose:()=>r(),children:(0,v.jsxs)("div",{className:Ae,children:[(0,v.jsxs)("div",{className:Se,children:[(0,v.jsx)(O.E,{as:"h1",variant:"titleSmall",children:c.Ru.get("user.edit-details.title")}),(0,v.jsx)("button",{className:Ee,onClick:()=>r(),"aria-label":c.Ru.get("close"),children:(0,v.jsx)(L.M,{size:"small"})})]}),u.message&&(0,v.jsx)(we.z,{isErrorMessage:"error"===u.message.type,message:u.message.message}),(0,v.jsxs)("form",{className:Ce,onSubmit:h,children:[s.edit_image&&(0,v.jsx)(Pe.u,{isOpen:l,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:async function(e){if(!e)return;const{imageFile:a,imageDataUrl:t}=e;if(d(_e(null)),d({type:"setImageData",data:t}),a)try{d(Re(!0));const e=await async function(e){const a=await ve.n.getInstance().build().withEndpointIdentifier("image-upload/v4/user-profile").withHost("https://image-upload.spotify.com/v4").withMethod("POST").withPath("/user-profile").withBody(e).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:"image/jpeg"}]).withoutMarket().send();if(!a.body)throw new Error("No upload token recieved");return a.body.uploadToken}(a);d({type:"setImageToken",token:e}),d(Re(!1))}catch{d(_e(je))}},onError:g}),(0,v.jsxs)("div",{className:Ue,children:[(0,v.jsx)(K,{name:a,images:m,onClickEdit:n,onClickRemove:p,canEdit:s.edit_image}),u.loading&&(0,v.jsx)("div",{className:Oe,children:(0,v.jsx)(M.I,{})})]}),(0,v.jsxs)("div",{className:Me,children:[(0,v.jsx)("label",{htmlFor:"user-edit-name",className:De,children:(0,v.jsx)(O.E,{variant:"marginalBold",className:Fe,children:c.Ru.get("user.edit-details.name-label")})}),(0,v.jsx)("input",{"data-testid":"user-edit-name-input",id:"user-edit-name",type:"text",dir:"auto",className:j()(Le,Be),onChange:e=>{d(function(e){return{type:"setName",name:e}}(e.target.value))},placeholder:c.Ru.get("user.edit-details.name-placeholder"),maxLength:32,value:u.name,disabled:!s.edit_name})]}),(0,v.jsx)("div",{className:He,children:(0,v.jsx)(D.$,{colorSet:"invertedLight",onClick:h,disabled:u.loading,children:c.Ru.get("save")})}),(0,v.jsx)(O.E,{as:"p",variant:"marginalBold",className:We,children:c.Ru.get("image-upload.legal-disclaimer")})]})]})})}));var Je=t(82754),$e=t(31350),Qe=t(32593),ze=t(82031),Ke=t(8819),Ve=t(64658),qe=t(67302),Ze=t(24577),Xe=t(60957),Ye=t(29117),ea=t(61623),aa=t(6950),ta=t(96343),ia=t(36919),ra=t(46545),oa=t(80007),sa=t(67447),la=t(29969),na=t(32247),ua=t(19498),da=t(35828),ca=t(3775),ma=t(16990);const ga=new ca.l("userTopContent","query","feb6d55177e2cbce2ac59214f9493f1ef2e4368eec01b3d4c3468fa1b97336e2",null);function pa(e){return"Artist"===e.__typename}function ha(e){if("ArtistPageV2"!==e?.topArtists?.__typename)return null;const a=e.topArtists.items.map((e=>e.data)).filter(pa);return 0===a.length?null:{totalCount:e.topArtists.totalCount,items:a}}function fa(e){return"Track"===e.__typename}function va(e){if("TrackPageV2"!==e?.topTracks?.__typename)return null;const a=e.topTracks.items.map((e=>e.data)).filter(fa).filter((e=>null!==e.albumOfTrack));return 0===a.length?null:{totalCount:e.topTracks.totalCount,items:a}}const xa=da.xE.Affinity,ba=da.Nm.ShortTerm;function ya({includeTopArtists:e,includeTopTracks:a,topArtistsLimit:t,topTracksLimit:i}){const{data:r,loading:o,error:s}=(l={includeTopArtists:e,topArtistsInput:{offset:0,limit:t,sortBy:xa,timeRange:ba},includeTopTracks:a,topTracksInput:{offset:0,limit:i,sortBy:xa,timeRange:ba}},n={enabled:e||a,gcTime:18e5,staleTime:3e5},(0,ma.I)(ga,l,n));var l,n;return null!==s?{topTracks:null,topArtists:null,loading:o,error:new Error("Failed loading user top content!")}:{topTracks:va(r?.me?.profile??null),topArtists:ha(r?.me?.profile??null),loading:o,error:null}}var ka=t(63492),ja=t(65325),Ra=t(65594),_a=t(28413),Ia=t(36471),Ta=t(30939),Pa=t(12206),Na=t(97997),wa=t(5513),Aa=t(36833);const Ca=i.memo((function({openModal:e,spec:a,logger:t,name:r,backgroundColor:o,isCurrentUser:s,uri:l}){const[n,u]=(0,Pa.Y)(l),d=(0,Ia.W)(),m=!(0,Ta.n)(),g=(0,i.useCallback)((()=>{d({targetUri:l,intent:n?"unfollow":"follow",type:"click"});const e=a.actionBarFactory().followButtonFactory();n?(u(!1),t.logInteraction(e.hitUnfollow({itemToBeUnfollowed:l}))):(u(!0),t.logInteraction(e.hitFollow({itemToBeFollowed:l})))}),[n,t,d,u,a,l]),p=(0,i.useCallback)((()=>{const e=a.actionBarFactory().contextMenuButtonFactory().hitUiReveal();t.logInteraction(e)}),[t,a]),h=(0,Aa.j)();return(0,v.jsx)(Na.E,{backgroundColor:o,children:(0,v.jsxs)(wa.S,{children:[!s&&(0,v.jsx)(Ra.e,{children:(0,v.jsx)(_a.W,{isFollowing:Boolean(n),onClick:g,disabled:m})}),(0,v.jsx)(ja.b,{menu:(0,v.jsx)(A.B,{uri:l,onEditProfileCallback:e}),children:(0,v.jsx)(ka.e,{label:c.Ru.get("more.label.context",r),onClick:p,size:h})})]})})}));var Sa=t(52458),Ea=t(14494),Ua=t(13411),Oa=t(90923),La=t(74137),Ma=t(95999),Da=t(26271),Fa=t(9440),Ba=t(35814),Ha=t(13480),Wa=t(32334),Ga=t(97374),Ja=t(11437),$a=t(26903),Qa=t(47469),za=t(7283),Ka=t(41955),Va=t(82390),qa=t(18836),Za=t(28078),Xa=t(16482),Ya=t(53206),et=t(64652),at=t(43418),tt=t(49798),it=t(91058),rt=t(9138),ot=t(87358),st=t(77962),lt=t(92758),nt=t(20502),ut=t(38276),dt=t(92633),ct=t(18039);const mt=i.memo((function({uri:e,name:a,duration_ms:t,artists:i,album:r,contextUri:o,isExplicit:s,isMOGEFRestricted:l,isPlayable:n,index:u,imgUrl:d,usePlayContextItem:m}){const{spec:g}=(0,qe.r)(Ba.i,{data:{position:u,reason:"",uri:e}}),{isActive:p,isPlaying:h,triggerPlay:f,togglePlay:x}=m({uri:e,index:u}),b=(0,Ja.T)(e),y=(0,za.g)(e,n),{badges:k,hasBadges:j}=(0,$a.b)({downloadAvailability:b,isExplicit:s,isMOGEFRestricted:l}),R=i?.map((e=>e.name)).join(c.Ru.getSeparator())||"";return(0,v.jsx)(Ma.pZ,{value:"row",index:u,children:(0,v.jsx)(w.h,{menu:(0,v.jsx)(Ka.P,{uri:e,albumUri:r.uri,artists:i,contextUri:o}),children:(0,v.jsxs)(dt.w,{uri:e,contextUri:o,onTriggerPlay:(e,a)=>{f({loggingParams:a})},isActive:p,index:u,ariaRowIndex:u+1,isPlayable:y,ageRestricted:l,dragMetadata:{name:a,createdBy:R},spec:g,children:[(0,v.jsx)(ot.y,{ariaColIndex:0,children:(0,v.jsx)(at.$,{uri:e,playAriaLabel:c.Ru.get("tracklist.a11y.play",a,R),isPlaying:h,isActive:p,onClick:(e,a)=>{x({loggingParams:a})},spec:g,children:(0,v.jsx)(it.a,{children:u+1})})}),(0,v.jsxs)(st.U,{ariaColIndex:1,children:[(0,v.jsx)(Ya.e,{src:d}),(0,v.jsxs)(et.l,{children:[(0,v.jsx)(ut.p,{titleText:a,children:a}),j&&(0,v.jsxs)(Za.P,{children:[k.download&&(0,v.jsx)(Ha._,{}),k.explicit&&(0,v.jsx)(Wa.g,{}),k.nineteen&&(0,v.jsx)(Ga.q,{className:ct.A.nineteen,size:16})]}),(0,v.jsx)(nt.p,{children:(0,v.jsx)(qa.l,{artists:i,spec:g})})]})]}),(0,v.jsx)(lt.o,{ariaColIndex:2,children:(0,v.jsx)(Va.g,{uri:r.uri,name:r.name,creatorUri:i?.[0]?.uri,spec:g,children:r.name})}),(0,v.jsxs)(rt.l,{ariaColIndex:3,children:[(0,v.jsx)(Qa.d,{uri:e,spec:g}),(0,v.jsx)(Xa.P,{duration:t}),(0,v.jsx)(tt.Y,{menu:(0,v.jsx)(Ka.P,{uri:e,albumUri:r.uri,artists:i,contextUri:o}),label:c.Ru.get("more.label.track",a,R),spec:g})]})]})})})}),((e,a)=>e.uri===a.uri));var gt=t(94544);const pt=i.memo((function({tracks:e,hasHeaderRow:a=!1,nrTracksVisible:t,uri:r}){const o=(0,q.v)(r),l=(0,s.du)(o,"tracks").toURI(),n=(0,i.useMemo)((()=>t?e.slice(0,t):e),[t,e]),{usePlayContextItem:u}=(0,Da.P)({uri:l,pages:[{items:e.map((e=>({type:Fa.c.TRACK,uri:e.uri,uid:null,provider:null})))}]},{featureIdentifier:"profile",referrerIdentifier:"user_profile"}),d=(0,i.useCallback)(((e,a)=>{const t=(0,Ze.g)(e?.albumOfTrack?.coverArt?.sources,{desiredSize:40});return(0,v.jsx)(mt,{index:a,uri:(0,La.a)(e),duration_ms:e.duration.totalMilliseconds,name:e.name,artists:e.artists.items.map((({uri:e,profile:{name:a}})=>({uri:e,name:a}))),album:e.albumOfTrack,isPlayable:!0,isExplicit:e.contentRating?.label===da.x7.Explicit,isMOGEFRestricted:e.contentRating?.label===da.x7.NineteenPlus,imgUrl:t?.url||"",contextUri:l,usePlayContextItem:u},a+e.uri)}),[l,u]),m=(0,i.useMemo)((()=>[Ua.$.INDEX,Ua.$.TITLE_AND_ARTIST,Ua.$.ALBUM,Ua.$.DURATION]),[]),g=(0,i.useCallback)((e=>({uri:e.uri})),[]),p=(0,Oa.A)()?0:void 0;return(0,v.jsx)(Ma.pZ,{value:"user-top-tracks-tracklist",children:(0,v.jsx)(gt.S4,{ariaLabel:c.Ru.get("top_tracks_this_month"),renderRow:d,nrTracks:n.length,tracks:n,resolveItem:g,headerTop:p,hasHeaderRow:a,columns:m,columnPersistenceKey:"user-top-tracks-tracklist"})})}),((e,a)=>e.tracks===a.tracks)),ht=i.memo((function({tracks:e,title:a,tagline:t,seeAllUri:r,className:o,uri:s,spec:l}){const n=(0,Ea.s)(),u=(0,i.useCallback)((()=>{const e=l.titleLinkFactory().hitUiNavigate({destination:r});n.logInteraction(e)}),[n,r,l]),d=(0,i.useCallback)((()=>{const e=l.titleLinkFactory().hitUiNavigate({destination:r});n.logInteraction(e)}),[n,r,l]);if(!e||0===e.totalCount||0===e.items.length)return null;const c=e.totalCount>4;return(0,v.jsxs)("section",{className:o,children:[(0,v.jsx)(Sa.U,{title:a,tagline:t,seeAllUri:r,hasMoreElements:c,onClickTitle:u,onClickSeeAll:d}),(0,v.jsx)(Ve.r,{spec:l,children:(0,v.jsx)(pt,{tracks:e.items,uri:s,nrTracksVisible:4})})]})}),((e,a)=>e.tracks===a.tracks));function ft(e,a){switch(a.type){case"OPEN_MODAL":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!1};case"OPEN_MODAL_WITH_IMAGEPICKER":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!0};case"CLOSE_MODAL":return{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1};default:return e}}const vt="J6PX6RfvHlA4BPp7_8sJ",xt="DJCugGBTcU3io4Q28BHl",bt="vpTiIBeCfuGKOTj3Tzg6",yt="eGAuBpyB1eqsyPKbaQU7",kt="GoG_UTK1uLaPCfhipeF0",jt=18e5,Rt=3e5,_t=(0,_.Mz)($e.mB,(e=>e?.images||[])),It=({uri:e,isCurrentUser:a})=>{const t=(0,R.d4)($e.mB)?.uri,r=(0,R.d4)($e.Mn),o=(0,R.d4)(_t),l=(0,R.wA)(),u=(0,y.jE)(),d=(0,I.NC)(ua.DGB,{loadingValue:!0}),p=(0,i.useMemo)((()=>(0,Ze.g)(o)),[o]),[{isModalOpen:x,modalVariant:b,shouldOpenImagePicker:k},_]=function(){const[e,a]=(0,i.useReducer)(ft,{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1});return[e,a]}(),{data:O,loading:L,queryKey:M}=(0,f.Z)(h.E$,[{uri:e,playlists:10,artists:10,episodes:10}],{gcTime:jt,staleTime:Rt}),D=(0,n.V)();(0,na.N)(la.mc.OPERATION_COMPLETE,(()=>{u.invalidateQueries({queryKey:M})})),(0,Ke.l)(ze.UV.OPERATION_COMPLETE,(()=>{u.invalidateQueries({queryKey:M})}));const F=O?.public_playlists,B=O?.is_verified,H=O?.recently_played_artists,G=a?p?.url||"":O?.image_url||"",J=(0,q.v)(e),$=(a?r:O?.name)||"",Q=(0,Je.H)(O?.image_url||null),{spec:z,logger:K}=(0,qe.r)(T._,{data:{uri:e}}),V=(0,i.useMemo)((()=>z.sectionTopTracksFactory()),[z]),Z=!D&&(!1!==O?.show_follows||a),X=a&&d,{data:Y,loading:ee}=(0,f.Z)(h.mH,[e],{enabled:Z,gcTime:jt,staleTime:Rt}),ae=Y?.profiles,{data:te,loading:ie}=(0,f.Z)(h.SR,[e],{enabled:Z,gcTime:jt,staleTime:Rt}),re=te?.profiles,oe=ae?.some((e=>e.uri===t)),{topArtists:se,topTracks:le,loading:ne}=ya({includeTopArtists:X,includeTopTracks:X,topArtistsLimit:10,topTracksLimit:4}),ue=(0,i.useCallback)((e=>{_({type:"CLOSE_MODAL"}),e&&(l((0,Qe.IE)(e.name)),l((0,Qe.ZQ)(e.image?[{url:e.image,height:null,width:null}]:[])))}),[_,l]),de=(0,i.useCallback)((()=>{_({type:"OPEN_MODAL"});const e=z.headerFactory().usernameFactory().hitUiReveal();K.logInteraction(e)}),[K,_,z]),ce=(0,i.useCallback)((()=>{_({type:"OPEN_MODAL_WITH_IMAGEPICKER"});const e=z.headerFactory().profileImageFactory().hitUiReveal();K.logInteraction(e)}),[K,_,z]),me=(0,i.useMemo)((()=>[{url:G}]),[G]),ge=(0,i.useCallback)((()=>{const e=z.headerFactory().usernameFactory().hitUiReveal();K.logInteraction(e)}),[K,z]),pe=(0,i.useCallback)(((e,a)=>{if(!a)return;const t=z.headerFactory().followersLinkFactory().hitUiNavigate({destination:a});K.logInteraction(t)}),[K,z]),he=(0,i.useCallback)(((e,a)=>{if(!a)return;const t=z.headerFactory().followersLinkFactory().hitUiNavigate({destination:a});K.logInteraction(t)}),[K,z]);if(!O||L||ee||ie||ne)return(0,v.jsx)(g.A,{hasError:!1,errorMessage:c.Ru.get("error.not_found.title.page")});const fe=j()("contentSpacing",xt),ve=Z&&!!re?.length,xe=Z&&!!ae?.length;return(0,v.jsxs)("div",{className:vt,children:[(0,v.jsx)(C.Q,{children:$}),(0,v.jsxs)(Ye.z,{backgroundColor:Q,children:[(0,v.jsx)(E.h,{children:(0,v.jsx)(U.X,{text:$})}),(0,v.jsx)(w.h,{menu:(0,v.jsx)(A.B,{uri:O.uri}),children:(0,v.jsx)(ea.X,{children:(0,v.jsx)(S.M,{canEdit:a&&!O.edit_image_disabled,name:$,images:me,onClick:ce,placeholderType:"user",shape:W.u.CIRCLE})})}),(0,v.jsxs)(aa.Y,{children:[(0,v.jsx)(ia.B,{children:B?(0,v.jsx)(oa.M,{text:c.Ru.get("card.tag.profile")}):c.Ru.get("card.tag.profile")}),(0,v.jsx)(w.h,{menu:(0,v.jsx)(A.B,{uri:O.uri}),children:(0,v.jsx)(ra.mm,{canEdit:a&&!O.edit_name_disabled,editTitle:c.Ru.get("playlist.edit-details.title"),onClick:de,children:$})}),(0,v.jsx)(ta.t,{totalFollowers:O.followers_count,totalFollowing:O.following_count,publicPlaylists:O.total_public_playlists_count,userUri:e,onCreatorClick:ge,onTotalFollowersClick:pe,onTotalFollowingClick:he,theyFollowUs:oe})]})]}),(0,v.jsx)(Ca,{openModal:de,spec:z,logger:K,name:$,backgroundColor:Q,isCurrentUser:a,uri:e}),(0,v.jsxs)(Ve.r,{spec:z,children:[a&&(0,v.jsxs)(v.Fragment,{children:[null!==se&&(0,v.jsx)(sa.p,{className:fe,total:se.totalCount,title:c.Ru.get("top_artists_this_month"),tagline:c.Ru.get("only_visible_to_you"),seeAllUri:(0,s.Qj)(J,["top","artists"]).toURI(),id:"top-artists",index:0,children:se.items.map(((e,a)=>(0,v.jsx)(P.a,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources??[]},e.uri)))}),(0,v.jsx)(ht,{className:fe,title:c.Ru.get("top_tracks_this_month"),tagline:c.Ru.get("only_visible_to_you"),seeAllUri:(0,s.Qj)(J,["top","tracks"]).toURI(),uri:e,tracks:le,spec:V})]}),(0,v.jsx)(sa.p,{className:fe,total:O.total_public_playlists_count,title:c.Ru.get("public_playlists"),seeAllUri:(0,s.Qj)(J,["playlists"]).toURI(),id:"playlists",index:1,children:F?.map(((e,a)=>(0,v.jsx)(N.B,{index:a,uri:e.uri,name:e.name,images:[{url:(0,Xe.m)({imageUriOrUrl:e.image_url}),width:300,height:300}],authorName:e.owner_name,description:e.followers_count?c.Ru.get("user.followers",e.followers_count):""},e.uri)))}),H?.length?(0,v.jsx)(sa.p,{className:fe,total:H?.length,title:c.Ru.get("recently_played_artists"),seeAllUri:(0,s.Qj)(J,["recently-played-artists"]).toURI(),id:"recently-played-artists",index:2,children:H?.map(((e,a)=>(0,v.jsx)(P.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,ve?(0,v.jsx)(sa.p,{className:fe,title:c.Ru.get("followers"),total:re?.length,seeAllUri:(0,s.Qj)(J,["followers"]).toURI(),id:"followers",index:3,children:re?.map(((e,a)=>(0,v.jsx)(m.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,xe?(0,v.jsx)(sa.p,{className:fe,title:c.Ru.get("following"),total:ae?.length,seeAllUri:(0,s.Qj)(J,["following"]).toURI(),id:"following",index:4,children:ae?.map(((e,a)=>(0,v.jsx)(m.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,a&&x&&("editProfile"===b?(0,v.jsx)(Ge,{uri:e,name:$,image:G,onClose:ue,shouldOpenImagePicker:k,userCapabilities:{edit_image:!O?.edit_image_disabled,edit_name:!O?.edit_name_disabled}}):null)]})]})},Tt=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,f.Z)(h.Eo,[{uri:a}]),{public_playlists:o,total_public_playlists_count:s=0}=t||{};return i?(0,v.jsx)(g.A,{hasError:null!==r,errorMessage:c.Ru.get("error.not_found.title.page")}):(0,v.jsx)(p.$,{className:"contentSpacing",total:s,title:c.Ru.get("public_playlists"),showAll:!0,fullPage:!0,rowGap:d.lT,children:o?.map(((e,a)=>(0,v.jsx)(N.B,{index:a,uri:e.uri,name:e.name,authorName:e.owner_name,description:e.followers_count?c.Ru.get("user.followers",e.followers_count):"",images:[{url:(0,Xe.m)({imageUriOrUrl:e.image_url}),width:300,height:300}]},e.uri)))})},Pt=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,f.Z)(h.sL,[{uri:a,limit:50}]),o=t?.artists;return i?(0,v.jsx)(g.A,{hasError:null!==r,errorMessage:c.Ru.get("error.not_found.title.page")}):(0,v.jsx)(p.$,{className:"contentSpacing",total:o?.length,title:c.Ru.get("recently_played_artists"),showAll:!0,fullPage:!0,rowGap:d.lT,children:o?.map(((e,a)=>(0,v.jsx)(P.a,{index:a,name:e.name,uri:e.uri,images:[{url:e.image_url}]},e.uri)))})},Nt=()=>{const{topArtists:e,loading:a,error:t}=ya({includeTopArtists:!0,includeTopTracks:!1,topArtistsLimit:100,topTracksLimit:0});return a?(0,v.jsx)(g.A,{hasError:null!==t,errorMessage:c.Ru.get("error.not_found.title.page")}):null===e?null:(0,v.jsx)(p.$,{className:"contentSpacing",total:e.items.length,title:c.Ru.get("top_artists_this_month"),tagline:c.Ru.get("only_visible_to_you"),showAll:!0,fullPage:!0,rowGap:d.lT,children:e.items.map(((e,a)=>(0,v.jsx)(P.a,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources??[]},e.uri)))})},wt=({isCurrentUser:e})=>e?(0,v.jsx)(Nt,{}):(0,v.jsx)(g.A,{hasError:!0,errorMessage:c.Ru.get("error.not_found.title.page")}),At=({uri:e})=>{const{topTracks:a,loading:t,error:i}=ya({includeTopArtists:!1,includeTopTracks:!0,topArtistsLimit:0,topTracksLimit:100});return t?(0,v.jsx)(g.A,{hasError:null!==i,errorMessage:c.Ru.get("error.not_found.title.page")}):null===a?null:(0,v.jsxs)("div",{className:j()("contentSpacing",bt),children:[(0,v.jsxs)("div",{className:yt,children:[(0,v.jsx)(O.E,{as:"h1",variant:"titleMedium",className:kt,children:c.Ru.get("top_tracks_this_month")}),(0,v.jsx)(O.E,{as:"p",variant:"bodySmall",children:c.Ru.get("only_visible_to_you")})]}),(0,v.jsx)(pt,{tracks:a.items,uri:e,hasHeaderRow:!0})]})},Ct=({uri:e,isCurrentUser:a})=>a?(0,v.jsx)(At,{uri:e}):(0,v.jsx)(g.A,{hasError:!0,errorMessage:c.Ru.get("error.not_found.title.page")}),St=(0,i.memo)((function(){const{userId:e=""}=(0,r.g)(),a=decodeURIComponent(e),t=(0,s.Qj)(a).toURI(),i=(e=>{const a=(0,n.V)(),t=(0,l.C)()?.username;return!a&&t===e})(a);return(0,v.jsx)("section",{children:(0,v.jsxs)(r.BV,{children:[(0,v.jsx)(r.qh,{path:"playlists",element:(0,v.jsx)(u.e,{pageId:o.$h.PROFILE_PLAYLISTS,children:(0,v.jsx)(Tt,{uri:t})})}),(0,v.jsx)(r.qh,{path:"top/tracks",element:(0,v.jsx)(u.e,{pageId:o.$h.PROFILE_TOP_TRACKS,children:(0,v.jsx)(Ct,{uri:t,isCurrentUser:i})})}),(0,v.jsx)(r.qh,{path:"top/artists",element:(0,v.jsx)(u.e,{pageId:o.$h.PROFILE_TOP_ARTISTS,children:(0,v.jsx)(wt,{isCurrentUser:i})})}),(0,v.jsx)(r.qh,{path:"recently-played-artists",element:(0,v.jsx)(u.e,{pageId:o.$h.PROFILE_RECENTLY_PLAYED_ARTISTS,children:(0,v.jsx)(Pt,{uri:t})})}),(0,v.jsx)(r.qh,{path:"following",element:(0,v.jsx)(u.e,{pageId:o.$h.PROFILE_FOLLOWING,children:(0,v.jsx)(b,{uri:t})})}),(0,v.jsx)(r.qh,{path:"followers",element:(0,v.jsx)(u.e,{pageId:o.$h.PROFILE_FOLLOWERS,children:(0,v.jsx)(x,{uri:t})})}),(0,v.jsx)(r.qh,{path:"/",element:(0,v.jsx)(u.e,{pageId:o.$h.PROFILE,children:(0,v.jsx)(It,{uri:t,isCurrentUser:i})})})]})})}))},15127:(e,a,t)=>{t.d(a,{C:()=>o});var i=t(99754),r=t(9440);const o=()=>{const e=(0,i.d4)((e=>e.session?.user));return e?{type:r.c.USER,uri:e.uri,username:e.id,displayName:e.display_name??null,images:e.images.map((({url:e,width:a,height:t})=>({url:e,width:a||void 0,height:t||void 0})))}:null}},74137:(e,a,t)=>{t.d(a,{a:()=>i});const i=e=>e?.linked_from?.uri||e.uri},36894:(e,a,t)=>{t.d(a,{b:()=>o,g:()=>r});var i=t(79474);let r=function(e){return e[e.loading=0]="loading",e[e.loaded=1]="loaded",e[e.error=2]="error",e}({});function o(e,a){const t=e?r.loading:r.error,[o,s]=(0,i.useState)(t);return(0,i.useEffect)((()=>{const t=()=>{s(r.loaded)},i=()=>{s(r.error)};if(!e)return s(r.error),()=>{};s(r.loading);const o=document.createElement("img");return o.addEventListener("load",t),o.addEventListener("error",i),o.setAttribute("src",e),a&&o.setAttribute("srcSet",a),()=>{o.removeEventListener("load",t),o.removeEventListener("error",i)}}),[e,a]),o}}}]);
//# sourceMappingURL=xpui-routes-profile.js.map