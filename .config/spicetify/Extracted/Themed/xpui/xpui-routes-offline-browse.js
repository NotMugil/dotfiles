"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3569],{61341:(e,r,n)=>{n.d(r,{e:()=>f});n(59208),n(9555),n(80710),n(80766),n(10866),n(43864),n(18535),n(41681),n(62980),n(75231),n(21977),n(26980),n(46825);var t=n(66569),i=n(25259),a=n(26191);const u="k270skPbT7JOaSidSA2a";var s=n(86070),c=["iconSize"];function o(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?o(Object(n),!0).forEach((function(r){(0,t.A)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var f=function(e){var r=e.iconSize,n=void 0===r?64:r,t=(0,i.A)(e,c);return(0,s.jsx)("div",{className:u,children:(0,s.jsx)(a.E,l(l({iconSize:n},t),{},{semanticColor:"textBrightAccent","aria-hidden":!0}))})}},16587:(e,r,n)=>{n.r(r),n.d(r,{default:()=>Z});n(83603),n(76133);var t=n(97500),i=n.n(t),a=n(8539),u=(n(45803),n(90433)),s=n(70494),c=n(85653),o=n(54168),l=n(56578),f=n(22058),d=n(5752),p=n(86070);function g(e,r){switch(e.type){case f.c.ALBUM:return(0,p.jsx)(u.a,{uri:e.uri,name:e.name,images:e.images,sharingInfo:null,artists:e.artists,index:r},e.uri);case f.c.ARTIST:return(0,p.jsx)(s.a,{uri:e.uri,name:e.name,images:e.images,index:r},e.uri);case f.c.SHOW:return(0,p.jsx)(l.o,{uri:e.uri,name:e.name,images:e.images,publisher:e.publisher,sharingInfo:null,mediaType:d.Q.UNKNOWN,index:r},e.uri);case f.c.AUDIOBOOK:return(0,p.jsx)(c.M,{uri:e.uri,name:e.name,images:e.images,authorName:e.authorName,index:r},e.uri);case f.c.PLAYLIST:return(0,p.jsx)(o.B,{uri:e.uri,name:e.name,images:e.images,description:"",authorName:e.creatorName,index:r},e.uri);default:return null}}var m=n(98802),b=n(29969),v=n(66569),h=n(52618),j=n.n(h),x=(n(59208),n(9555),n(80710),n(80766),n(10866),n(43864),n(18535),n(41681),n(62980),n(75231),n(21977),n(26980),n(46825),n(30758)),O=n(8159),y=n(80597),w=n(36146),P=n(676),S=n(34606),A=n(83291),k=n(21280),I=n(73791),E=n(1058),D=n(60093),C=n(50082),N=n(87693),T=n(61341);function _(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function R(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?_(Object(n),!0).forEach((function(r){(0,v.A)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var L=function(e){var r,n=e.uri,t=e.name,i=e.images,u=e.index,s=(0,E.o)(),c=(0,x.useRef)(null),o=(0,x.useRef)(!0),l=(0,x.useContext)(k._),f=(0,C.l_)(A.bV).isPlaying,d=(0,D.P)({uri:A.bV,pages:[{items:(null===(r=c.current)||void 0===r?void 0:r.map((function(e){return R(R({},e),{},{provider:null})})))||[]}]},{featureIdentifier:"local_files"}).togglePlay;(0,x.useEffect)((function(){return o.current=!0,function(){o.current=!1}}),[]);var g=(0,I.P)(),m=(0,O.YQ)(function(){var e=(0,b.A)(j().mark((function e(r,n){var t,i;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.current){e.next=5;break}return e.next=3,l.getTracks();case 3:t=e.sent,c.current=t;case 5:o&&d({loggingParams:n},{uri:A.bV,pages:[{items:(null===(i=c.current)||void 0===i?void 0:i.map((function(e){return R(R({},e),{},{provider:null})})))||[]}]});case 6:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),S.d,{leading:!0,trailing:!1});return s.canFetchAllTracks&&g?(0,p.jsx)(y.Z,{index:u,delegatePlayback:!0,delegateLogging:!0,isPlaying:f,onPlay:m,headerText:t,featureIdentifier:"local_files",uri:n,renderCardImage:function(){return(0,p.jsx)(w.M,{images:i,FallbackComponent:T.e})},renderSubHeaderContent:function(){return(0,p.jsx)(N.c,{children:a.Ru.get("local-files.description")})}}):null},B=function(e){var r=e.index,n=(0,P.Iu)();return(0,p.jsx)(x.Suspense,{fallback:null,children:(0,p.jsx)(L,{index:r,name:n.name,uri:n.uri,images:n.images})})},U=n(59471),z=n(93697),M=n(98866),Q=n(67447);var V=n(87051);const Z=function(){var e=function(){var e=(0,Q.Q)(),r=(0,x.useState)(!0),n=(0,M.A)(r,2),t=n[0],i=n[1],a=(0,x.useState)(!1),u=(0,M.A)(a,2),s=u[0],c=u[1],o=(0,x.useState)([]),l=(0,M.A)(o,2),f=l[0],d=l[1];return(0,x.useEffect)((function(){var r=function(){var r=(0,b.A)(j().mark((function r(){var n;return j().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.getDownloads();case 3:n=r.sent,d(n),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),c(!0);case 10:return r.prev=10,i(!1),r.finish(10);case 13:case"end":return r.stop()}}),r,null,[[0,7,10,13]])})));return function(){return r.apply(this,arguments)}}();r()}),[e]),{isLoading:t,hasError:s,items:f}}(),r=e.hasError,n=e.items,t=(0,I.P)();return r?null:(0,p.jsx)("div",{className:i()(V.A.offline,"contentSpacing"),children:n.length>0||t?(0,p.jsxs)(z.pZ,{value:"headered-grid",children:[(0,p.jsx)(m.$,{title:a.Ru.get("music_downloads"),total:n.length,seeAllUri:"/collection/music-downloads",alwaysShowSeeAll:!0,children:n.map((function(e,r){return(0,p.jsx)(z.pZ,{value:"card",index:r,children:g(e,r)},e.uri)}))}),t&&(0,p.jsx)(m.$,{title:a.Ru.get("local-files"),total:1,showAll:!0,children:(0,p.jsx)(B,{index:0})})]}):(0,p.jsx)(U.I,{showDownloadInformation:!0})})}},73791:(e,r,n)=>{n.d(r,{P:()=>i});var t=n(5298);function i(){return(0,t.y)()[0]}},5298:(e,r,n)=>{n.d(r,{y:()=>u});var t=n(98866),i=n(30758),a=n(21280);function u(){var e=(0,i.useContext)(a._),r=(0,i.useState)(e.getIsEnabled()),n=(0,t.A)(r,2),u=n[0],s=n[1];return(0,i.useEffect)((function(){var r=e.subscribeIsEnabled(s);return function(){return r()}}),[e]),[u,(0,i.useCallback)((function(r){return e.setIsEnabled(r)}),[e])]}}}]);
//# sourceMappingURL=xpui-routes-offline-browse.js.map