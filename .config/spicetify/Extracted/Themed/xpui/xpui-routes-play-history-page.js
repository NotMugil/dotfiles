"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1460],{8878:(e,i,t)=>{t.d(i,{u:()=>x});var s=t(97500),r=t.n(s),a=t(98678),l=t(73956),n=t(14494),c=t(36471),d=t(54745),o=t(53206),u=t(18039),m=t(13274);const x=({uri:e,src:i,playAriaLabel:t,onClick:s,isPlaying:x,isActive:h,isLocked:j,isEpisode:p,isVideo:y,spec:g})=>{const f=(0,c.W)(),b=(0,n.s)(),k=(0,a.YQ)((i=>{let t;if(f({type:"click",intent:x?"pause":"play"}),g){const i=g.playbackButtonFactory();let s;s=h&&x?i.hitPause({itemToBePaused:e}):h&&!x?i.hitResume({itemToBeResumed:e}):i.hitPlay({itemToBePlayed:e}),t=b.logInteraction(s)}s(i,t)}),l.d,{leading:!0,trailing:!1});return(0,m.jsxs)("div",{className:u.A.rowImageWithPlay,children:[(0,m.jsx)(o.e,{src:i,isEpisode:p,isVideo:y}),(0,m.jsx)(d.x,{className:r()(u.A.rowPlayPauseButton,u.A.rowImagePlayPauseButton),iconClassName:u.A.rowPlayPauseIcon,onClick:k,isPlaying:x,isLocked:j,playAriaLabel:t})]})}},74817:(e,i,t)=>{t.d(i,{U:()=>_});var s=t(63508),r=t(79474),a=t(14056),l=t(97500),n=t.n(l),c=t(83648),d=t(98764),o=t(55138),u=t(3265),m=t(87882),x=t(98678),h=t(42360),j=t(74938);var p=t(20273),y=t(53603);const g="main-topBar-contentArea",f="queue-tabBar-headerIsCentered",b="queue-tabBar-headerItem",k="queue-tabBar-moreButton",v="queue-tabBar-moreButtonActive",P="yxf_6IsQEmHjijEBUMTP",E="queue-tabBar-active",R="queue-tabBar-headerItemLink",I="queue-tabBar-header",w="queue-tabBar-chevron";var C=t(13274);const A=({items:e,activeItemId:i})=>(0,C.jsx)(p.W,{children:e.map((e=>e.disabled?(0,C.jsx)(y.D,{disabled:!0,role:"menuitemradio",className:P,onClick:e.handleClick,children:e.title},e.uri):(0,C.jsx)(y.D,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===i,className:({isActive:e})=>n()(P,{[E]:e}),onClick:e.handleClick,children:e.title},e.uri)))});var N=t(21820);const T=(0,r.memo)((function({isCentered:e,links:i,landmarkLabel:t,className:s}){const l=(0,r.useRef)(null),[p,y]=(0,r.useState)([]),[P,T]=(0,r.useState)(0),[S,U]=(0,r.useState)([]),B=function(){const[e,i]=(0,r.useState)(window.innerWidth),{scrollNodeChildRef:t}=(0,r.useContext)(h.bi),s=(0,x.YQ)((e=>{e?.width&&i(e.width)}),250);return(0,j.w)({refOrElement:t,observeOnly:"width",onResize:s}),e}()??1/0,{pathname:L}=(0,c.zy)(),O=i.find((e=>e.to===L));return(0,r.useEffect)((()=>{l.current&&T(l.current.clientWidth)}),[B]),(0,r.useEffect)((()=>{if(!l.current)return;const e=Array.from(l.current.children).map((e=>e.clientWidth));y(e)}),[i]),(0,r.useEffect)((()=>{if(!l.current)return;if(p.slice(0,-1).reduce(((e,i)=>e+i),0)<=P)return void U([]);const e=p.reduce(((e,i)=>e>i?e:i),0),i=[];let t=e;p.forEach(((e,s)=>{P>=t+e?t+=e:i.push(s)})),U(i)}),[P,p]),(0,C.jsx)("nav",{className:n()(s,g),"aria-label":t,children:(0,C.jsxs)("ul",{className:e?f:I,ref:l,children:[i.filter(((e,i)=>!S.includes(i))).map((e=>{const i=e?.render??(e=>e);return(0,C.jsx)(r.Fragment,{children:i((0,C.jsx)("li",{className:b,children:e.disabled?(0,C.jsx)("div",{className:R,children:(0,C.jsx)(d.E,{variant:"bodySmallBold",children:e.title})}):(0,C.jsx)(N.k,{end:!0,className:({isActive:e})=>n()(R,{[E]:e}),to:e.to,onClick:e.handleClick,children:(0,C.jsx)(d.E,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),S.length||0===p.length?(0,C.jsx)("li",{className:b,children:(0,C.jsx)(m.t,{renderInline:!0,menu:(0,C.jsx)(A,{items:i.filter(((e,i)=>S.includes(i))),activeItemId:O?.itemId}),children:(e,i,t)=>(0,C.jsxs)("button",{className:n()(k,{[v]:O}),type:"button",onClick:i,ref:t,children:[(0,C.jsx)(d.E,{variant:"bodySmallBold",children:O?O.title:a.Ru.get("more")}),e?(0,C.jsx)(o.J,{size:"small",className:w,"aria-hidden":"true"}):(0,C.jsx)(u.y,{size:"small",className:w,"aria-hidden":"true"})]})})}):null]})})}));var S=t(86082),U=t(82115),B=t(65911);const L="XfifUos51Clgs5a6nf2m",O=()=>{const e=(0,B.U)(),i=(0,r.useCallback)((e=>(0,C.jsx)(U.u,{placement:"bottomEnd",arrow:"topStart",title:a.Ru.get("pick-and-shuffle.upsell.title.queue"),children:e})),[]),t=(0,r.useMemo)((()=>[{title:a.Ru.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue",render:i,disabled:e},{title:a.Ru.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}]),[e,i]);return(0,C.jsx)(S.g,{children:(0,C.jsx)(T,{className:L,links:t})})},_=({children:e})=>{const i=(0,s.y)();return(0,C.jsxs)("section",{className:"contentSpacing",children:[e,i&&(0,C.jsx)(O,{})]})}},40420:(e,i,t)=>{t.r(i),t.d(i,{default:()=>re});var s=t(63508),r=t(98832),a=t(98764),l=t(14056),n=t(7018),c=t(61648),d=t(79474),o=t(13411),u=t(74137),m=t(95999),x=t(33082),h=t(41982),j=t(57506),p=t(86412),y=t(54260),g=t(9440),f=t(45640),b=t(24577),k=t(24290),v=t(94544),P=t(83856),E=t(88291),R=t(47498),I=t(16975),w=t(41955),C=t(18039),A=t(92633),N=t(13480),T=t(32334),S=t(97374),U=t(11437),B=t(26271),L=t(26903),O=t(96567),_=t(82390),M=t(18836),q=t(28078),D=t(16482),G=t(8878),F=t(64652),H=t(49798),K=t(9138),Q=t(77962),W=t(92758),z=t(20502),J=t(38276),V=t(7283),Y=t(47469),X=t(13274);const Z=d.memo((function({uri:e,name:i,duration_ms:t,index:s,imgUrl:r,artists:a,album:n,isExplicit:c,isMOGEFRestricted:d,contextItem:o,type:u}){const{isActive:x,isPlaying:h,triggerPlay:j,togglePlay:p}=(0,B.P)({uri:e,pages:[{items:[{...o}]}]},{featureIdentifier:"history"}),y=u===g.c.TRACK,f=u===g.c.EPISODE,b=u===g.c.CHAPTER,k=(0,U.T)(e),v=(0,V.g)(e),{badges:Z,hasBadges:$}=(0,L.b)({downloadAvailability:k,isExplicit:c,isMOGEFRestricted:d}),ee=a?.map((e=>e.name)).join(l.Ru.getSeparator())||"";let ie;return f?ie=(0,X.jsx)(R.b,{uri:e,contextUri:e,showUri:n.uri}):b?ie=(0,X.jsx)(O.r,{uri:e}):y&&(0,P.Pk)(e)?ie=(0,X.jsx)(I.A,{uri:e,contextUri:e}):y&&(ie=(0,X.jsx)(w.P,{uri:e,contextUri:e,albumUri:n.uri,artists:a})),(0,X.jsx)(m.pZ,{value:"row",index:s,children:(0,X.jsx)(E.h,{menu:ie,children:(0,X.jsxs)(A.w,{uri:e,contextUri:e,index:s,ariaRowIndex:s,onTriggerPlay:()=>{j()},isActive:x,isPlayable:v,ageRestricted:d,dragMetadata:{name:i,createdBy:ee},children:[(0,X.jsxs)(Q.U,{ariaColIndex:0,children:[(0,X.jsx)(G.u,{uri:e,src:r,isPlaying:h,isActive:x,isLocked:!1,onClick:()=>{p()},isEpisode:(0,P.gH)(e),playAriaLabel:l.Ru.get("tracklist.a11y.play",i,ee)}),(0,X.jsxs)(F.l,{children:[(0,X.jsx)(J.p,{titleText:i,children:i}),$&&(0,X.jsxs)(q.P,{children:[Z.download&&(0,X.jsx)(N._,{}),Z.explicit&&(0,X.jsx)(T.g,{}),Z.nineteen&&(0,X.jsx)(S.q,{className:C.A.nineteen,size:16})]}),(0,X.jsx)(z.p,{children:(0,P.U_)(e)?(0,X.jsx)(M.l,{artists:a}):a[0]?.name??""})]})]}),(0,X.jsx)(W.o,{ariaColIndex:2,children:(0,X.jsx)(_.g,{nonInteractive:(0,P.Pk)(e),uri:n.uri,name:n.name,creatorUri:a?.[0]?.uri,children:n.name})}),(0,X.jsxs)(K.l,{ariaColIndex:1,children:[!b&&(0,X.jsx)(Y.d,{uri:e,type:u}),(0,X.jsx)(D.P,{duration:t}),(0,X.jsx)(H.Y,{menu:ie,label:l.Ru.get("more.label.track",i,ee)})]})]})})})}),((e,i)=>e.uri===i.uri)),$=d.memo((function({items:e}){const i=(0,d.useCallback)(((e,i)=>{const t=(0,b.g)(e.images??[],{desiredSize:40});return(0,p.v)(e)?(0,X.jsx)(Z,{index:i,uri:e.isLocal?e.uri:(0,u.a)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.album,artists:e.artists,isExplicit:e.isExplicit??!1,isMOGEFRestricted:e.is19PlusOnly??!1,contextItem:e,type:g.c.TRACK},i+e.uri):(0,j.p)(e)?(0,X.jsx)(Z,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:g.c.EPISODE},i+e.uri):(0,h.d)(e)?(0,X.jsx)(Z,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:g.c.CHAPTER},i+e.uri):((0,x.N)(e)||(0,y.v)(e)||(0,f.k)(e),(0,X.jsx)(k.qq,{height:`${v.FL}px`}))}),[]),t=(0,d.useMemo)((()=>[o.$.TITLE_AND_ARTIST,o.$.ALBUM_OR_PODCAST,o.$.DURATION]),[]),s=(0,d.useCallback)((e=>({uri:e.uri})),[]);return(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(m.pZ,{value:"play-history-tracklist",children:(0,X.jsx)(v.S4,{ariaLabel:"play-history",hasHeaderRow:!0,columns:t,renderRow:i,resolveItem:s,tracks:e,nrTracks:e.length,rowPlaceholder:k.qq,limit:50,columnPersistenceKey:"play-history-tracklist"})})})})),ee="j0idwRGPXbi0ampiGHUF",ie="V6Kms48prL8QhkQxTJ2d",te=()=>{const{isLoading:e,data:i}=(0,n.a)();return e?null:i?.items.length?(0,X.jsxs)("div",{className:ee,children:[(0,X.jsx)(a.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:ie,children:l.Ru.get("view.recently-played")}),(0,X.jsx)($,{items:i.items})]}):(0,X.jsx)(c.H,{})};var se=t(74817);const re=()=>(0,s.y)()?(0,X.jsx)(se.U,{children:(0,X.jsx)(te,{})}):(0,X.jsx)(r.InstrumentedRedirect,{to:"/"})},74137:(e,i,t)=>{t.d(i,{a:()=>s});const s=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map