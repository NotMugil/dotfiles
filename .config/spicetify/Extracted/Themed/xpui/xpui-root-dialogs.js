"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1206],{49529:(e,t,n)=>{n.d(t,{h:()=>d});var r=n(30758),a=n(8539),i=n(25931),s=n(93697),o=n(42021),c=n(16443),l=n(96615),u=n(86070),d=r.memo((function(e){var t=e.uri,n=(0,o.o)(t).spec;return(0,u.jsx)(s.pZ,{value:"generic",children:(0,u.jsx)(i.W,{children:(0,u.jsx)(l.h,{divider:"before",children:(0,u.jsx)(c.m,{spec:n,uri:t,displayText:a.Ru.get("context-menu.copy-generic-link")})})})})}))},36711:(e,t,n)=>{n.d(t,{a:()=>x});var r=n(66569),a=n(97500),i=n.n(a),s=n(59787),o=n(30777),c=n(58184),l=n(17635),u=n(8539),d=n(46600);const m="main-editImage-buttonContainer",p="main-editImageButton-image",g="main-editImageButton-overlay",f="main-editImageButton-rounded",v="main-editImageButton-icon",b="main-editImageButton-copy";var h=n(86070),x=function(e){var t=e.overlay,n=void 0!==t&&t,a=e.rounded,x=void 0!==a&&a,y=e.onClick,R=(0,l.NC)(d.vvY),k=R?"Create your own cover art":u.Ru.get("choose_photo"),E=R?(0,h.jsx)(s.S,{size:"xlarge","aria-hidden":"true"}):(0,h.jsx)(o.G,{size:"xlarge","aria-hidden":"true"});return(0,h.jsx)("div",{className:m,children:(0,h.jsx)("button",{"data-testid":"edit-image-button",className:i()(p,(0,r.A)((0,r.A)({},f,x),g,n)),"aria-haspopup":"true",onClick:y,type:"button",children:(0,h.jsxs)("div",{className:i()(v,"icon"),children:[E,(0,h.jsx)(c.E,{variant:"bodyMedium",className:b,children:k})]})})})}},62465:(e,t,n)=>{n.d(t,{u:()=>h,i:()=>b});n(59208),n(9555),n(80710),n(80766),n(10866),n(43864),n(18535),n(41681),n(62980),n(75231),n(21977),n(26980),n(46825);var r=n(98866),a=n(29969),i=n(66569),s=n(25259),o=n(52618),c=n.n(o),l=(n(59433),n(82368),n(32599),n(58470),n(36389),n(30758)),u=n(32989);const d="main-imagePicker-fileInput";var m=n(86070),p=["onChange","onError","isOpen","minImageWidth","minImageHeight","maxFileSizeMB"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={accept:"image/.jpg, image/.jpeg, image/.png"},b=function(e){return e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e}({}),h=function(e){var t=e.onChange,n=e.onError,i=e.isOpen,o=void 0!==i&&i,g=e.minImageWidth,h=void 0===g?0:g,x=e.minImageHeight,y=void 0===x?0:x,R=e.maxFileSizeMB,k=void 0===R?1/0:R,E=(0,s.A)(e,p),j=l.useRef(null),C=f(f({},v),E);(0,l.useEffect)((function(){j.current&&o&&j.current.click()}),[j,o]);var w=1048576*k;function O(){return(O=(0,a.A)(c().mark((function e(a){var i,s,o,l,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.target,s=Array.from(i.files||[]),o=(0,r.A)(s,1),l=o[0],e.next=4,N(l);case 4:return u=e.sent,e.prev=5,e.next=8,S(u);case 8:t(u),e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(5),"string"!=typeof e.t0||!Object.values(b).includes(e.t0)){e.next=17;break}n(e.t0),e.next=18;break;case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function S(e){return A.apply(this,arguments)}function A(){return(A=(0,a.A)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.imageWidth<h||t.imageHeight<y)){e.next=2;break}throw b.IMAGE_TOO_SMALL;case 2:if(!(t.imageFile.size>w)){e.next=4;break}throw b.FILE_TOO_BIG;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return I.apply(this,arguments)}function I(){return(I=(0,a.A)(c().mark((function e(t){var n,a,i,s,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.j)(t);case 2:return n=e.sent,e.next=5,(0,u.v)(n);case 5:return a=e.sent,i=(0,r.A)(a,2),s=i[0],o=i[1],e.abrupt("return",{imageFile:t,imageDataUrl:n,imageWidth:s,imageHeight:o});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,m.jsx)("input",f(f({},C),{},{type:"file","data-testid":"image-file-picker",ref:j,className:d,onChange:function(e){return O.apply(this,arguments)}}))}},37103:(e,t,n)=>{n.d(t,{z:()=>p});var r=n(66569),a=n(97500),i=n.n(a),s=n(58184),o=n(27770);const c="pIZVZOfjnJGth1BcoA1E",l="ZBBTIITnUdwh05dCI0tm",u="sz8Nwj2lvhOZxDwYWRQr",d="jjPsW7vuG9xH9qhEGL3I";var m=n(86070),p=function(e){var t=e.message,n=e.isErrorMessage,a=void 0!==n&&n;return t?(0,m.jsx)("div",{role:"alert",children:(0,m.jsx)("div",{className:i()(c,(0,r.A)({},l,a)),children:(0,m.jsxs)(s.E,{as:"p",variant:"marginal",className:u,children:[(0,m.jsx)(o.b,{size:"small",className:d,"aria-hidden":"true"}),t]})})}):null}},34353:(e,t,n)=>{n.d(t,{M:()=>v});n(59208),n(9555),n(80710),n(80766),n(10866),n(43864),n(18535),n(41681),n(62980),n(75231),n(21977),n(26980),n(46825);var r=n(66569),a=n(25259),i=n(30758),s=n(97500),o=n.n(s),c=n(17635);var l=n(46600);const u="JCoroLSoJO7iJzBU1n2W",d="aOxbsZDBlepfQptv_EfI";var m=n(86070),p=["children","isOpen","onRequestClose","className","animated","shouldCloseOnEsc","shouldCloseOnBackdropClick"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t,n=e.children,s=e.isOpen,g=e.onRequestClose,v=e.className,b=e.animated,h=void 0!==b&&b,x=e.shouldCloseOnEsc,y=void 0===x||x,R=e.shouldCloseOnBackdropClick,k=void 0===R||R,E=(0,a.A)(e,p),j=(0,i.useRef)(null);!function(e,t,n){(0,i.useEffect)((function(){var r=t.current,a=function(t){t.preventDefault(),e&&n&&n()};return null==r||r.addEventListener("cancel",a),function(){null==r||r.removeEventListener("cancel",a)}}),[t,n,e])}(y,j,g),t=j,(0,i.useEffect)((function(){var e=t.current;return function(){null==e||e.close()}}),[t]);var C=(0,c.NC)(l.rWU);return(0,i.useEffect)((function(){var e,t;s?null===(e=j.current)||void 0===e||e.showModal():null===(t=j.current)||void 0===t||t.close()}),[s]),(0,m.jsx)("dialog",f(f({ref:j,className:o()(u,v,(0,r.A)({"circular-sp-vietnamese":C},d,h)),onClick:function(e){var t=e.target;t instanceof HTMLElement&&"DIALOG"===t.nodeName&&k&&(null==g||g())}},E),{},{children:n}))}},63971:(e,t,n)=>{n.r(t),n.d(t,{RootDialogs:()=>dm});var r=n(66569),a=n(29969),i=n(52618),s=n.n(i),o=(n(59208),n(9555),n(80710),n(45191),n(45803),n(80766),n(10866),n(43864),n(18535),n(41681),n(62980),n(22711),n(36389),n(75231),n(21977),n(26980),n(46825),n(77020),n(30758)),c=n(41978),l=n(17635),u=n(20745),d=(n(83603),n(76133),n(53634)),m=n(22084),p=n(59943),g=n(92032),f=n(86070),v=function(){var e,t,n=(0,c.wA)(),r=(0,c.d4)((function(e){return e.ui.artistAboutDialog})).data;if(!r)return null;var a=r.artist,i=r.artistUri,s=r.visuals,o=r.stats,l=r.externalLinks,u=s.gallery,v=o.monthlyListeners,b=o.worldRank,h=o.followers,x=o.topCities,y=[];return u.items.forEach((function(e){var t=e.sources.map(m.m),n=(0,p.g)(t,{desiredLabel:"large",desiredSize:600});n&&y.push(n)})),(0,f.jsx)(g.y,{artistUri:i,name:a.name,bio:null===(e=a.biography)||void 0===e?void 0:e.text,bioSource:null===(t=a.biography)||void 0===t?void 0:t.type,worldRank:b||0,isOpen:!0,closeModal:function(){n((0,d.lM)())},images:y,externalLinks:l,topCities:null==x?void 0:x.items,followers:h,monthlyListeners:v})},b=(n(24847),n(20427),n(47246),n(15313)),h=n(8539),x=n(82543),y=n(79464),R=function(e){var t=e.uri,n=e.onConfirm,r=e.onCancel,a=e.remoteDeviceInfo,i=(0,y.s)(),s=(0,o.useMemo)((function(){return(0,b.c)()}),[]);(0,o.useEffect)((function(){i.logImpression(s.impression())}),[i,s]);var l=(0,c.wA)();return(0,f.jsx)(x.T,{"aria-label":h.Ru.get("web-player.download.remove-download-confirmation-dialog.title"),titleText:h.Ru.get("web-player.download.remove-download-confirmation-dialog.title"),descriptionText:a?h.Ru.get("web-player.download.remove-download-confirmation-dialog.message-remote",a.deviceName):h.Ru.get("web-player.download.remove-download-confirmation-dialog.message"),onConfirm:function(){n(),l((0,d.Kf)()),i.logInteraction(a?s.confirmRemoveDownloadButtonFactory().hitRemoveDownloadFromRemoteDevice({itemToRemoveFromDownloads:t,remoteDeviceId:a.deviceId,remoteDeviceType:a.deviceType.toString(),remoteClientPlatform:a.clientPlatform.toString()}):s.confirmRemoveDownloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:t}))},onClose:function(){r(),l((0,d.Kf)()),i.logInteraction(s.cancelButtonFactory().hitUiHide())},confirmText:h.Ru.get("web-player.download.remove-download-confirmation-dialog.confirm-button-text"),confirmLabel:h.Ru.get("web-player.download.remove-download-confirmation-dialog.confirm-button-label"),cancelText:h.Ru.get("web-player.download.remove-download-confirmation-dialog.cancel-button-text"),allowHTML:!0})},k=n(46600),E=n(30458),j=n(58184),C=n(11217),w=n(90441),O=n(16743),S=n(64308),A=n(98866),N=n(91315);var I=n(61270),_=n(87349),T=n(20610),L=n(2222),D=n(97500),P=n.n(D),M=n(33666),U=n(11137),B=n(93239),F=n(62329),W=n(85758),V=n(25931),H=n(86461),z=function(e){var t=e.onChangePermission,n=e.onRemoveMember,r=e.onLeave,a=e.member,i=e.capabilities;return(0,f.jsxs)(V.W,{children:[i.canAdministratePermissions&&"VIEWER"===a.permissionLevel&&(0,f.jsx)(H.D,{role:"menuitemradio","aria-checked":!1,onClick:function(){return t("CONTRIBUTOR")},leadingIcon:(0,f.jsx)(F.u,{size:"small"}),children:(0,f.jsx)(j.E,{variant:"bodySmall",children:h.Ru.get("contextmenu.make-collaborator")})}),i.canAdministratePermissions&&"CONTRIBUTOR"===a.permissionLevel&&(0,f.jsx)(H.D,{role:"menuitemradio","aria-checked":!1,onClick:function(){return t("VIEWER")},leadingIcon:(0,f.jsx)(F.u,{size:"small"}),children:(0,f.jsx)(j.E,{variant:"bodySmall",children:h.Ru.get("contextmenu.make-listener")})}),i.canAdministratePermissions&&(0,f.jsx)(H.D,{role:"menuitemradio","aria-checked":!1,onClick:function(){return n()},leadingIcon:(0,f.jsx)(W.r,{size:"small"}),children:(0,f.jsx)(j.E,{variant:"bodySmall",children:h.Ru.get("contextmenu.remove-user-from-playlist")})}),i.canCancelMembership&&(0,f.jsx)(H.D,{role:"menuitemradio","aria-checked":!1,onClick:function(){return r()},leadingIcon:(0,f.jsx)(W.r,{size:"small"}),children:(0,f.jsx)(j.E,{variant:"bodySmall",children:h.Ru.get("contextmenu.leave-playlist")})})]})};const G="uv2sbcK86mvObEP6I6hA",K="biDFn_kFEWlTdVmGaI4c",Y="EW1t5mbo9hvxGC_ptS6k",q="qEJiFwRQbUiOdb9xXQIa",Q="SexldtxY9c9V6RANcuod",Z="zW45u2gfu8HHBqbm745Z",J="vxjT7DTxVfyAxy3WcErT",X="llgv1BhpY3BwLUvcQ3Hx",$="aCyb8gmETLFf6lQmJs2v",ee="ZKrl2b1JEsPzkUo5X9hG",te="gaPaX1jusmGCAKSG5L7N",ne="Nhe2Q_5EbptALoVW3V4K",re="s9rTnCluVsYXlqj5OdMg",ae="FJrwM8ylEu9MfQEclH24",ie="olUpKnRVm_c2P5yQwddx";var se=function(e){var t=e.uri,n=e.member,i=e.capabilities,l=e.isCurrentUser,u=(0,c.wA)(),m=(0,o.useState)(!1),p=(0,A.A)(m,2),g=p[0],v=p[1],b=function(e){var t=(0,N.a)(),n=(0,o.useCallback)(function(){var n=(0,a.A)(s().mark((function n(r,a){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.setMemberPermission(e,r,a);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[t,e]),r=(0,o.useCallback)(function(){var n=(0,a.A)(s().mark((function n(r){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.removeMember(e,r);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e]),i=(0,o.useCallback)(function(){var n=(0,a.A)(s().mark((function n(r){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.setBasePermission(e,r);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e]);return{uri:e,changeMemberPermission:n,removeMember:r,changeBasePermission:i}}(t),x=b.changeMemberPermission,y=b.removeMember,R=(0,o.useCallback)((function(e){n.user&&(x(n.user.username,e),v(!0))}),[x,n.user]),k=(0,o.useCallback)((function(){n.user&&(y(n.user.username),v(!0))}),[n.user,y]),E=(0,o.useCallback)((function(){u((0,d.aP)(t))}),[u,t]),C=!n.isOwner&&((null==i?void 0:i.canAdministratePermissions)||(null==i?void 0:i.canCancelMembership)&&l),w="CONTRIBUTOR"===n.permissionLevel?h.Ru.get("permissions.collaborator"):h.Ru.get("permissions.listener");return n.isOwner&&(w=h.Ru.get("permissions.creator")),C&&i?(0,f.jsx)(B.b,{renderInline:!0,menu:(0,f.jsx)(z,{onChangePermission:R,onRemoveMember:k,onLeave:E,capabilities:i,member:n}),children:function(e,t,n){return(0,f.jsxs)("button",{className:P()(re,ae,(0,r.A)({},ie,g)),onClick:t,ref:n,type:"button","data-testid":"permissions-menu",children:[(0,f.jsx)(j.E,{variant:"bodySmall",children:w}),e?(0,f.jsx)(M.J,{size:"small"}):(0,f.jsx)(U.y,{size:"small"})]})}}):(0,f.jsx)(j.E,{variant:"bodySmall",className:re,children:w})},oe=function(e){var t=e.member,n=e.playlistUri,r=e.username,a=e.capabilities,i=e.onClose;if(!t.user)return null;var s=r===t.user.username,o=s&&t.user.displayName?h.Ru.get("permissions.current-user-name",t.user.displayName):t.user.displayName;return(0,f.jsxs)("div",{className:X,children:[(0,f.jsxs)("div",{className:$,children:[(0,f.jsx)(I.e,{label:t.user.displayName,images:t.user.images.map((function(e){return{url:e.url,width:e.width||null,height:e.height||null}})),width:32,userIconSize:"small"}),(0,f.jsxs)("div",{className:ee,children:[(0,f.jsx)(_.h,{menu:(0,f.jsx)(T.B,{uri:t.user.uri}),children:(0,f.jsx)(L.N,{title:null!=o?o:t.user.username,to:t.user.uri,dir:"auto",onClick:i,children:(0,f.jsx)(j.E,{variant:"bodySmallBold",children:o})})}),t.songsAdded>0&&(0,f.jsx)(j.E,{className:te,variant:"marginal",children:h.Ru.get("permissions.songs-added",t.songsAdded)})]})]}),(0,f.jsx)(se,{uri:n,member:t,capabilities:a,isCurrentUser:s})]},t.user.uri)};var ce=function(e){var t=e.isPublicPlaylist;return(0,f.jsx)("div",{className:Q,children:t?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(E.d,{size:"small"}),(0,f.jsx)(j.E,{className:Z,variant:"marginal",children:h.Ru.get("permissions.public-playlist")})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(C.u,{size:"small"}),(0,f.jsx)(j.E,{className:Z,variant:"marginal",children:h.Ru.get("permissions.private-playlist")})]})})},le=function(e){var t,n=e.isOpen,r=e.uri,a=e.onClose,i=function(e){var t=(0,N.a)(),n=(0,o.useState)(null),r=(0,A.A)(n,2),a=r[0],i=r[1],s=(0,o.useCallback)((function(e,t){i(e||!t?null:t)}),[]);return(0,o.useEffect)((function(){return t.subscribeToMembers(e,s)}),[t,e,s]),a}(r),s=(0,c.d4)((function(e){var t,n=e.session;return null==n||null===(t=n.user)||void 0===t?void 0:t.id}))||null;return i?(0,f.jsx)(O.A,{isOpen:n,onRequestClose:a,contentLabel:h.Ru.get("permissions.modal-label"),children:(0,f.jsxs)("div",{"data-testid":"playlist-permissions-modal",className:G,children:[(0,f.jsxs)("div",{className:K,children:[(0,f.jsxs)("div",{className:Y,children:[(0,f.jsx)(ce,{isPublicPlaylist:(t=i.basePermissionLevel,"VIEWER"===t||"CONTRIBUTOR"===t)}),(0,f.jsx)("button",{className:J,onClick:a,children:(0,f.jsx)(w.M,{size:"small","aria-label":h.Ru.get("close")})})]}),(0,f.jsx)(j.E,{as:"h1",variant:"titleMedium",children:h.Ru.get("permissions.shared-with")})]}),(0,f.jsx)(S.a,{className:ne,children:(0,f.jsx)("div",{className:q,children:(0,f.jsx)("div",{children:i.members&&i.members.map((function(e){var t;return(0,f.jsx)(oe,{playlistUri:r,member:e,username:s,capabilities:i.capabilities,onClose:a},null===(t=e.user)||void 0===t?void 0:t.username)}))})})})]})}):null},ue=n(28203),de=function(){var e=(0,l.NC)(k.G6N),t=(0,o.useContext)(ue.cM),n=t.isOpen,r=t.uri,a=(0,o.useContext)(ue.VV),i=(0,o.useCallback)((function(){a({type:"close"})}),[a]);return e&&n&&r?(0,f.jsx)(le,{isOpen:n,onClose:i,uri:r}):null},me=(n(40313),n(8849)),pe=(n(2944),n(70969)),ge=n(3532),fe=n(43735),ve=n(83086),be=function(e,t){switch(e){case me.EL.SESSION_ENDED:return{title:h.Ru.get("web-player.social-connect.session-ended.title"),description:h.Ru.get("web-player.social-connect.session-ended.sub-title"),confirmText:h.Ru.get("web-player.social-connect.session-ended.confirmation-button"),ubiIdentifier:fe.gw.SESSION_ENDED};case me.EL.ERROR:return{title:h.Ru.get("web-player.social-connect.generic-error.title"),description:h.Ru.get("web-player.social-connect.generic-error.sub-title"),confirmText:h.Ru.get("web-player.social-connect.generic-error.confirmation-button"),ubiIdentifier:fe.gw.ERROR};case me.EL.MOBILE_ONLY:return{title:h.Ru.get("web-player.social-connect.mobile-only.title"),description:h.Ru.get("web-player.social-connect.mobile-only.description"),confirmText:h.Ru.get("web-player.social-connect.mobile-only.confirmation-button"),ubiIdentifier:fe.gw.MOBILE_ONLY};case me.EL.END_SESSION:return{title:h.Ru.get("web-player.social-connect.end-session.title"),description:h.Ru.get("web-player.social-connect.end-session.sub-title"),confirmText:h.Ru.get("web-player.social-connect.end-session.confirm"),cancelText:h.Ru.get("web-player.social-connect.end-session.cancel")};case me.EL.LEAVE_SESSION:return{title:h.Ru.get("web-player.social-connect.leave-session.title"),description:h.Ru.get("web-player.social-connect.leave-session.sub-title"),confirmText:h.Ru.get("web-player.social-connect.leave-session.leave-session-button"),cancelText:h.Ru.get("web-player.social-connect.leave-session.cancel")};case me.EL.REMOVE_PARTICIPANT:return{title:h.Ru.get("web-player.social-connect.participant-list.remove-guest-dialog",{displayName:t}),description:"",confirmText:h.Ru.get("web-player.social-connect.participant-list.remove-guest"),cancelText:h.Ru.get("web-player.social-connect.participant-list.remove-guest-cancel")};default:return(0,ve.k)(e),{confirmText:"",description:"",title:""}}},he=n(44840),xe=n(58400),ye=n(57195),Re=n(96096),ke=function(e){var t,n,r,i=e.isOpen,l=(0,c.wA)(),u=(0,Re.D)(),m=u.currentSession,p=u.deleteSession,g=(t=(0,xe.r)(he.Z,{}),n=t.spec,r=t.logger,{logEndJam:(0,o.useCallback)((function(){r.logInteraction(n.endButtonFactory().hitStopHostingSocialListeningSession())}),[r,n])}).logEndJam,v=(0,ge.vh)(),b=be(me.EL.END_SESSION),h=b.title,y=b.description,R=b.confirmText,k=b.cancelText,E=(0,o.useCallback)((0,a.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(),e.next=3,p();case 3:v.send((0,pe.c)({session_id:null==m?void 0:m.sessionId,end_reason:ye.Mm.QUEUE_END_SESSION_BUTTON})),l((0,d.cQ)());case 5:case"end":return e.stop()}}),e)}))),[null==m?void 0:m.sessionId,p,l,v,g]),j=(0,o.useCallback)((function(){l((0,d.cQ)())}),[l]);return(0,f.jsx)(x.T,{isOpen:i,onClose:j,onConfirm:E,titleText:h,"aria-label":h,descriptionText:y,confirmText:R,confirmLabel:R,cancelText:k})},Ee=function(e){var t=e.isOpen,n=e.dialogType,r=(0,c.wA)(),a=be(n),i=a.title,s=a.description,l=a.confirmText,u=a.ubiIdentifier,m=(0,xe.r)(fe.Fh,{data:{identifier:u}}),p=m.spec,g=m.logger,v=(0,o.useCallback)((function(){r((0,d.cQ)())}),[r]);return(0,o.useEffect)((function(){t&&g.logImpression(p.impression())}),[t,g,p]),(0,f.jsx)(x.T,{isOpen:t,onClose:v,onConfirm:v,titleText:i,"aria-label":i,descriptionText:s,confirmText:l,confirmLabel:l})},je=n(9054),Ce=function(e){var t,n,r,i=e.isOpen,l=(0,c.wA)(),u=(0,Re.D)(),m=u.currentSession,p=u.leaveSession,g=(t=(0,xe.r)(je.Q,{}),n=t.spec,r=t.logger,{logLeaveJam:(0,o.useCallback)((function(){r.logInteraction(n.leaveButtonFactory().hitLeaveSocialListeningSession())}),[r,n])}).logLeaveJam,v=(0,ge.vh)(),b=be(me.EL.LEAVE_SESSION),h=b.title,y=b.description,R=b.confirmText,k=b.cancelText,E=(0,o.useCallback)((0,a.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(),e.next=3,p();case 3:v.send((0,pe.c)({session_id:null==m?void 0:m.sessionId,end_reason:ye.Mm.QUEUE_LEAVE_SESSION_BUTTON})),l((0,d.cQ)());case 5:case"end":return e.stop()}}),e)}))),[null==m?void 0:m.sessionId,l,v,p,g]),j=(0,o.useCallback)((function(){l((0,d.cQ)())}),[l]);return(0,f.jsx)(x.T,{isOpen:i,onClose:j,onConfirm:E,titleText:h,"aria-label":h,descriptionText:y,confirmText:R,confirmLabel:R,cancelText:k})},we=n(35574),Oe=function(e){var t,n,r,a=e.isOpen,i=(0,c.wA)(),s=(0,we.R)().logRemoveClick,l=(0,Re.D)(),u=l.currentSession,m=l.removeSessionMember,p=(0,c.d4)((function(e){return e.ui.jamModalState})).memberToRemove,g=null!==(t=null==p?void 0:p.id)&&void 0!==t?t:"",v=null!==(n=null==p?void 0:p.displayName)&&void 0!==n?n:"",b=null!==(r=null==u?void 0:u.sessionId)&&void 0!==r?r:"",h=be(me.EL.REMOVE_PARTICIPANT,v),y=h.title,R=h.description,k=h.confirmText,E=h.cancelText,j=(0,o.useCallback)((function(){s(g,b),g&&(m(g),i((0,d.cQ)()))}),[s,g,b,m,i]),C=(0,o.useCallback)((function(){i((0,d.cQ)())}),[i]);return(0,f.jsx)(x.T,{isOpen:a,onClose:C,onConfirm:j,titleText:y,"aria-label":y,descriptionText:R,confirmText:k,confirmLabel:k,cancelText:E})},Se=function(e){var t=e.isOpen,n=e.dialogType;switch(n){case me.EL.LEAVE_SESSION:return(0,f.jsx)(Ce,{isOpen:t});case me.EL.END_SESSION:return(0,f.jsx)(ke,{isOpen:t});case me.EL.REMOVE_PARTICIPANT:return(0,f.jsx)(Oe,{isOpen:t});case me.EL.SESSION_ENDED:case me.EL.MOBILE_ONLY:case me.EL.ERROR:return(0,f.jsx)(Ee,{isOpen:t,dialogType:n});default:return null}},Ae=n(91193),Ne=n(65630),Ie=n(15618),_e=n(48873),Te=function(e){var t=e.size,n=void 0===t?60:t,r=e.className;return(0,f.jsx)("img",{className:r,src:(0,_e.b)("images/group-session-logo.svg"),height:n,width:n,alt:h.Ru.get("web-player.social-connect.group-session-logo-alt")})},Le=n(95477),De=n(73005);const Pe="jav_0ddRdU3yOojQAq8w",Me="ldkgyfJfn34VlQ2thtaB",Ue="cHxs16ZqqJIr8OAcIG1h",Be="tIfl33R3uqA7AyIa0OHf",Fe="OEOcqiDA2mrxdAcZOXdj";var We=function(e){var t=e.imageElement,n=e.title,r=e.subtitle,a=e.confirmButtonText,i=e.confirmButtonIcon,s=e.onConfirm,o=e.cancelButtonText,c=e.onCancel,l=e.disabled,u=e.footerText;return(0,f.jsxs)("div",{className:Pe,children:[t,(0,f.jsxs)("div",{className:Me,children:["string"==typeof n?(0,f.jsx)(j.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",className:Ue,children:n}):n,"string"==typeof r?(0,f.jsx)(j.E,{variant:"bodyMedium",semanticColor:"textBase",children:r}):r]}),(0,f.jsxs)("div",{className:Be,children:[(0,f.jsx)(Le.$,{onClick:s,disabled:l,iconTrailing:i,children:a}),o&&(0,f.jsx)(De.H,{semanticColor:"textSubdued",onClick:c,disabled:l,children:o})]}),u&&(0,f.jsx)("div",{className:Fe,children:(0,f.jsx)(j.E,{variant:"marginal",semanticColor:"textSubdued",children:u})})]})},Ve=function(e){var t=e.setContentLabel,n=(0,Re.D)(),r=n.createSession,i=n.currentSession,l=n.deleteSession,u=(0,c.wA)(),m=(0,ge.vh)(),p=(0,Ne.Z)(),g=(0,o.useCallback)((0,a.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)}))),[r]);(0,o.useEffect)((function(){g()}),[g]);var v=(0,Ie.c)(),b=(0,o.useCallback)((0,a.A)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==i?void 0:i.joinSessionUri){e.next=10;break}return e.next=4,r();case 4:if(null==(t=e.sent)||!t.joinSessionUri){e.next=9;break}m.send((0,Ae.q)({session_id:t.sessionId,device_type:v.deviceType,tech_type:v.techType,session_uri:t.joinSessionUri,session_type:ye.dF.REMOTE})),e.next=10;break;case 9:return e.abrupt("return");case 10:null!=i&&i.joinSessionShortLink&&p(null==i?void 0:i.joinSessionShortLink),u((0,d.cQ)());case 12:case"end":return e.stop()}}),e)}))),[null==i?void 0:i.joinSessionUri,null==i?void 0:i.joinSessionShortLink,u,r,m,v.deviceType,v.techType,p]),x=(0,o.useCallback)((0,a.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=5;break}return e.next=3,l();case 3:e.sent&&m.send((0,pe.c)({session_id:i.sessionId,end_reason:ye.Mm.INVITATION_MODAL_CANCEL_BUTTON}));case 5:u((0,d.cQ)());case 6:case"end":return e.stop()}}),e)}))),[i,l,u,m]),y=h.Ru.get("web-player.social-connect.invitation-modal.title");return(0,o.useEffect)((function(){t(y)}),[y,t]),(0,f.jsx)(We,{imageElement:(0,f.jsx)(Te,{}),title:y,subtitle:h.Ru.get("web-player.social-connect.invitation-modal.subtitle"),confirmButtonText:h.Ru.get("web-player.social-connect.invitation-modal.button-primary"),onConfirm:b,cancelButtonText:h.Ru.get("web-player.social-connect.invitation-modal.button-tertiary"),onCancel:x})},He=(n(46686),n(62420),n(2052)),ze=n(68396),Ge=n(18428),Ke=n(92984),Ye=n(5821),qe=n(35674),Qe=n(724),Ze=n(26202),Je=n(28092),Xe=n(40003);const $e="H3UvfEgDtYPH0EL3aLwZ",et="LPVfHXRjItuJaNEQdlTT",tt="DD2yyz7nKDIMIXhFOAkl",nt="NQtJIrT4cCneGvSC152a",rt="xIKQXbFbxYFpBJfoOTFw",at="Bs13fjYCTb2TKzoO13sA",it="N6Pa7PkejWH5KojTMbfU",st="Uz7GyGSJMC1Cz7Cz0G6t",ot="hN61FwfX0b6x78GshoG3";var ct=n(46234),lt=n(31084);function ut(){var e=(0,ct.v)((function(e){var t,n,r=e.activeDevice;return{isLocalDevice:null===(t=null==r?void 0:r.isLocal)||void 0===t||t,deviceName:null!==(n=null==r?void 0:r.name)&&void 0!==n?n:""}}),(function(e,t){return e.deviceName===t.deviceName&&e.isLocalDevice===t.isLocalDevice}));return function(e,t){var n=(0,lt.Ek)();return e?n?h.Ru.get("web-player.social-connect.join-modal.device-name.this-computer"):h.Ru.get("web-player.social-connect.join-modal.device-name.this-browser"):t}(e.isLocalDevice,e.deviceName)}var dt=n(51529),mt=n(95667),pt=function(){return(0,f.jsxs)("div",{className:ot,children:[(0,f.jsx)(qe.D,{size:"xsmall",semanticColor:"textBase"}),(0,f.jsx)(j.E,{variant:"marginalBold",semanticColor:"textBase",children:h.Ru.get("navbar.premium")})]})},gt=function(e){var t=e.value,n=e.icon,r=e.title,a=e.subtitle,i=e.selected,s=e.onSelect,c=e.formWidth,l=e.setFormWidth,u=(0,o.useRef)(null);return(0,o.useLayoutEffect)((function(){if(u.current){var e=u.current.getBoundingClientRect().width;e>c&&l(Math.min(490,e+96+8))}}),[c,l]),(0,f.jsxs)("div",{className:nt,children:[(0,f.jsxs)("label",{className:rt,htmlFor:t,children:[n,(0,f.jsxs)("div",{className:at,style:{"--device-form-label-width":"".concat(c-96+8,"px")},ref:u,children:[(0,f.jsx)(j.E,{variant:i?"bodyMediumBold":"bodyMedium",semanticColor:i?"textBrightAccent":"textBase",className:st,children:r}),(0,f.jsx)(j.E,{variant:"bodySmall",semanticColor:i?"textBrightAccent":"textSubdued",className:st,children:a})]})]}),(0,f.jsx)(Qe.M,{value:t,id:t,className:it,name:"session-type-radio",checked:i,onChange:function(){s(t)}})]})},ft=function(e){var t=e.sessionType,n=e.setSessionType,r=e.hostName,a=ut(),i=(0,ct.v)((function(e){var t,n=e.activeDevice;return null!==(t=null==n?void 0:n.type)&&void 0!==t?t:mt.bq.COMPUTER})),s=(0,Xe.t)(i),c=(0,dt.l)(),l=(0,o.useState)(0),u=(0,A.A)(l,2),d=u[0],m=u[1];return(0,f.jsxs)(Ze.g,{className:tt,style:{"--device-form-width":"".concat(d,"px")},children:[(0,f.jsx)(gt,{value:ye.dF.REMOTE,icon:(0,f.jsx)(s,{semanticColor:t===ye.dF.REMOTE?"textBrightAccent":"textBase"}),title:h.Ru.get("web-player.social-connect.join-modal.continue-on-this-device",{device:a}),subtitle:h.Ru.get("web-player.social-connect.join-modal.continue-on-this-device-subtitle"),onSelect:n,selected:t===ye.dF.REMOTE,formWidth:d,setFormWidth:m}),c&&(0,f.jsx)(pt,{}),(0,f.jsx)(gt,{value:ye.dF.IN_PERSON,icon:(0,f.jsx)(Je.H,{semanticColor:t===ye.dF.IN_PERSON?"textBrightAccent":"textBase"}),title:h.Ru.get("web-player.social-connect.join-modal.play-from-host-speaker",{host:r}),subtitle:h.Ru.get("web-player.social-connect.join-modal.play-from-host-speaker-subtitle"),onSelect:n,selected:t===ye.dF.IN_PERSON,formWidth:d,setFormWidth:m})]})},vt=(n(60989),n(22073));const bt="V8Nnr6rCPzkQv7MCvvKM",ht="A8jOuTXM1E0dlFYJlV39",xt="D0L83_9SDaOFBzZT8EKO";var yt=function(){return(0,f.jsx)("div",{className:Pe,children:(0,f.jsxs)("div",{className:bt,children:[(0,f.jsx)(vt.Y,{as:"h3",variant:"titleSmall",className:xt,charCount:16,isLoading:!0}),[[20,50,25],[40,28,35]].map((function(e,t){return(0,f.jsx)("div",{className:ht,children:e.map((function(e,t){return(0,f.jsx)(vt.Y,{as:"div",variant:"bodySmall",className:xt,charCount:e,isLoading:!0},"".concat(e,"-").concat(t))}))},"skeleton-section-".concat(t))}))]})})},Rt=n(15281),kt=n(2693),Et=n(28578),jt=n(85372),Ct=function(e){return e.NONE="NONE",e.JOINING="JOINING",e.JOINED="JOINED",e.FAILED="FAILED",e}({}),wt=function(e){var t,n,r,i,l,u=e.joinToken,m=e.setContentLabel,p=(0,c.wA)(),g=(0,Re.D)(),v=g.getSessionInfo,b=g.joinSession,x=(0,Ke.L)().openURLWithSessionTransfer,y=(r=(0,xe.r)(kt.U,{}),i=r.spec,l=r.logger,{logJoin:(0,o.useCallback)((function(){var e=i.joinButtonFactory().hitJoinSocialListeningSession();l.logInteraction(e)}),[l,i])}).logJoin,R=(0,ge.vh)(),k=(0,o.useState)(null),E=(0,A.A)(k,2),C=E[0],w=E[1],O=(0,o.useState)(ye.dF.REMOTE),S=(0,A.A)(O,2),N=S[0],I=S[1],_=(0,Rt.C)(),T=_===Ye.l.FREE&&N===ye.dF.REMOTE;(0,o.useEffect)((function(){v(u).then((function(e){if(e){var t;w(e);var n=e.sessionMembers.find((function(t){return t.id===e.sessionOwnerId}));m(h.Ru.get("web-player.social-connect.join-modal.title",{host:null!==(t=null==n?void 0:n.displayName)&&void 0!==t?t:""}))}else p((0,d.A9)(me.EL.SESSION_ENDED))}))}),[p,v,u,m]);var L=(0,o.useState)(Ct.NONE),D=(0,A.A)(L,2),P=D[0],M=D[1],U=(0,o.useCallback)((0,a.A)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(Ct.JOINING),y(),e.prev=2,e.next=5,b(u,N);case 5:(t=e.sent)&&(M(Ct.JOINED),R.send((0,ze.X)({session_id:null==C?void 0:C.sessionId,join_type:ye.JO.DEEPLINKING,join_url:t.joinSessionUri,participation_mode:N})),_!==Ye.l.FREE&&p((0,d.cQ)())),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),M(Ct.FAILED),e.t0 instanceof Error&&R.send((0,ze.X)({session_id:null==C?void 0:C.sessionId,error_category:e.t0.name,error_data:e.t0.message})),p((0,d.A9)(me.EL.ERROR));case 14:case"end":return e.stop()}}),e,null,[[2,9]])}))),[p,R,_,b,u,y,null==C?void 0:C.sessionId,N]),B=(0,o.useCallback)((function(){x("".concat(Ge.M0,"&ref=jam"),"_blank"),p((0,d.cQ)())}),[p,x]),F=(0,o.useCallback)((function(){p((0,d.cQ)())}),[p]);if(!C)return(0,f.jsx)(yt,{});var W,V=C.sessionMembers.find((function(e){return e.id===C.sessionOwnerId})),H=C.sessionMembers.map(jt.c);return P===Ct.JOINED&&_===Ye.l.FREE?(0,f.jsx)(We,{imageElement:(0,f.jsx)(Et.g,{users:H,size:"xlarge",maxSlots:3}),title:(0,f.jsx)(j.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:h.Ru.get("web-player.social-connect.join-modal.success.title",{host:(0,f.jsx)("span",{className:$e,children:null!==(W=null==V?void 0:V.displayName)&&void 0!==W?W:""})})}),subtitle:(0,f.jsx)(j.E,{variant:"bodySmall",semanticColor:"textSubdued",className:et,children:h.Ru.get("web-player.social-connect.join-modal.success.subtitle")}),confirmButtonText:h.Ru.get("web-player.social-connect.generic-error.confirmation-button"),onConfirm:function(){p((0,d.cQ)())}}):(0,f.jsx)(We,{imageElement:(0,f.jsx)(Et.g,{users:H,size:"xlarge",maxSlots:3}),title:(0,f.jsx)(j.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:h.Ru.get("web-player.social-connect.join-modal.title",{host:(0,f.jsx)("span",{className:$e,children:null!==(t=null==V?void 0:V.displayName)&&void 0!==t?t:""})})}),subtitle:(0,f.jsx)(ft,{sessionType:N,setSessionType:I,hostName:null!==(n=null==V?void 0:V.displayName)&&void 0!==n?n:""}),confirmButtonText:T?h.Ru.get("web-player.social-connect.premium-upsell.confirmation-button"):h.Ru.get("web-player.social-connect.join-modal.button-primary"),confirmButtonIcon:T?He.H:void 0,onConfirm:T?B:U,cancelButtonText:h.Ru.get("web-player.social-connect.join-modal.button-tertiary"),onCancel:F,disabled:P===Ct.JOINING,footerText:h.Ru.get("web-player.social-connect.join-modal.privacy-notice")})},Ot=n(96839),St=n(60224),At=n(85739),Nt=function(e){var t,n,r,a=e.joinToken,i=(0,c.wA)(),s=(t=(0,xe.r)(At.e,{}),n=t.spec,r=t.logger,{logGetAppClick:(0,o.useCallback)((function(){var e=n.downloadButtonFactory().hitNavigateToExternalUri({destination:(0,St.rw)().href});r.logInteraction(e)}),[r,n])}).logGetAppClick,l=(0,Re.D)().getSessionInfo,u=(0,o.useState)(null),m=(0,A.A)(u,2),p=m[0],g=m[1],v=(0,o.useState)([]),b=(0,A.A)(v,2),x=b[0],y=b[1];(0,o.useEffect)((function(){l(a).then((function(e){if(e){var t,n=null==e?void 0:e.sessionOwnerId,r=null==e?void 0:e.sessionMembers.find((function(e){return e.id===n})),a=null!==(t=null==e?void 0:e.sessionMembers.map(jt.c))&&void 0!==t?t:[];if(y(a),!r)return;g(r.displayName)}else i((0,d.A9)(me.EL.SESSION_ENDED))}))}),[l,a,i]);var R=(0,o.useCallback)((function(){i((0,d.cQ)())}),[i]),k=(0,o.useCallback)((function(){s();var e=(0,Ot.MZ)(a);window.open((0,St.rw)(e).href),i((0,d.cQ)())}),[i,a,s]);return(0,f.jsx)(We,{imageElement:(0,f.jsx)(Et.g,{users:x,size:"xlarge",maxSlots:3}),title:(0,f.jsx)(j.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:h.Ru.get("web-player.social-connect.redirect-modal.title",{host:null!=p?p:""})}),subtitle:h.Ru.get("web-player.social-connect.redirect-modal.sub-title"),confirmButtonText:h.Ru.get("web-player.social-connect.redirect-modal.confirmation-button"),onConfirm:k,cancelButtonText:h.Ru.get("web-player.social-connect.redirect-modal.cancel-button"),onCancel:R})},It=function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.ui.jamModalState})),n=t.isOpen,r=t.modalType,a=t.joinToken,i=(0,o.useState)(null),s=(0,A.A)(i,2),l=s[0],u=s[1],m=(0,o.useState)(void 0),p=(0,A.A)(m,2),g=p[0],v=p[1];return(0,o.useEffect)((function(){switch(v(void 0),r){case me.EL.INVITE:u((0,f.jsx)(Ve,{setContentLabel:v}));break;case me.EL.JOIN:if(!a)throw new Error("trying to open JoinModal without providing a joinToken!");u((0,f.jsx)(wt,{joinToken:a,setContentLabel:v}));break;case me.EL.REDIRECT:if(!a)throw new Error("trying to open RedirectModal without providing a joinToken!");u((0,f.jsx)(Nt,{joinToken:a}));break;case me.EL.LEAVE_SESSION:case me.EL.END_SESSION:case me.EL.REMOVE_PARTICIPANT:case me.EL.SESSION_ENDED:case me.EL.MOBILE_ONLY:case me.EL.ERROR:u((0,f.jsx)(Se,{isOpen:n,dialogType:r}));break;default:u(null)}}),[n,r,a]),r?function(e){return e===me.EL.LEAVE_SESSION||e===me.EL.END_SESSION||e===me.EL.REMOVE_PARTICIPANT||e===me.EL.SESSION_ENDED||e===me.EL.MOBILE_ONLY||e===me.EL.ERROR}(r)?l:(0,f.jsx)(O.A,{isOpen:n,onRequestClose:function(){return e((0,d.cQ)())},shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animated:!0,contentLabel:g,children:l}):null},_t=function(){return null},Tt=n(93697),Lt=(n(85328),n(48355)),Dt=n(28695),Pt=n(66464),Mt=n(43596),Ut=n(3611),Bt=n(921);function Ft(e,t,n){return t=(0,Mt.A)(t),(0,Pt.A)(e,Wt()?Reflect.construct(t,n||[],(0,Mt.A)(e).constructor):t.apply(e,n))}function Wt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Wt=function(){return!!e})()}var Vt=function(e){function t(){return(0,Lt.A)(this,t),Ft(this,t,arguments)}return(0,Ut.A)(t,e),(0,Dt.A)(t,[{key:"handleRequestClose",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.closeModal;return(0,f.jsx)(Bt.x,{animated:!0,headingMessage:h.Ru.get("offline-error.device-limit-reached.header"),message:h.Ru.get("offline-error.device-limit-reached.message"),buttonLabel:h.Ru.get("close"),isOpen:t,onDismissDialog:n})}}])}(o.PureComponent);const Ht=(0,c.Ng)((function(e){return{isOpen:e.ui.offlineDeviceLimitReachedDialog.isOpen}}),(function(e){return{closeModal:function(){return e((0,d.kC)())}}}))(Vt);n(26247);var zt=n(9856),Gt=n.n(zt);function Kt(e,t,n){return t=(0,Mt.A)(t),(0,Pt.A)(e,Yt()?Reflect.construct(t,n||[],(0,Mt.A)(e).constructor):t.apply(e,n))}function Yt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yt=function(){return!!e})()}var qt=function(e){function t(e){var n;return(0,Lt.A)(this,t),(n=Kt(this,t,[e])).handleRequestClose=n.handleRequestClose.bind(n),n.browserName=Gt().getParser(window.navigator.userAgent).getBrowserName(),n}return(0,Ut.A)(t,e),(0,Dt.A)(t,[{key:"handleRequestClose",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.closeModal;return(0,f.jsx)(Bt.x,{headingMessage:h.Ru.get("fatal-error.header"),onDismissDialog:n,buttonLabel:h.Ru.get("close"),message:h.Ru.get("browser_upgrade_notice",this.browserName),isOpen:t})}}])}(o.PureComponent);const Qt=(0,c.Ng)((function(e){return{isOpen:e.ui.playbackNotSupportedErrorDialog.isOpen}}),(function(e){return{closeModal:function(){return e((0,d.e$)())}}}))(qt);var Zt=n(81919);n(11034),n(65083);const Jt="CMgJZD0JMx_Yz1tlE7hd";n(12924);var Xt=n(67939);const $t="SVnAziPF2z_cgAGrp6He",en="miG_SXrw265mkozdEHrJ",tn="RWLySPhsOTyK2EsAGUgx",nn="X_vuuyeQDD6IWI4aIE6k",rn="VdyeU78LKQdX8Dclnfxr",an="Z12I3N4OnNvzRSNKOeUn",sn="IDHZCFcj1ynmYu6Sm5SR",on="UmY163JiUcgJt2MKNyGW",cn="SYKOtPBDhPSs6zGwbk6A";var ln=n(86001),un=(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},ln.E.XSMALL,an),ln.E.SMALL,an),ln.E.MEDIUM,sn),ln.E.LARGE,on),ln.E.XLARGE,on),dn=function(e){var t,n,r=e.image,a=e.title,i=e.description,s=e.primaryButton,o=e.secondaryButton,c=e.renderExtraInfo,l=e.style,u=e.className,d=e.size,m=void 0===d?ln.E.SMALL:d,p="string"==typeof a?(0,f.jsx)("h2",{className:tn,children:a}):(0,f.jsx)("div",{className:tn,children:a});return i&&(t="string"==typeof i?(0,f.jsx)("p",{className:nn,children:i}):(0,f.jsx)("div",{className:nn,children:i})),o&&(n=(0,f.jsx)("div",{className:cn,children:o})),(0,f.jsxs)("div",{className:P()("".concat($t," ").concat(un[m]),u),style:l,"data-testid":"dialog-root",children:[r&&(0,f.jsx)("div",{className:rn,children:(0,f.jsx)(Xt._,{loading:"lazy",src:r})}),(0,f.jsxs)("div",{className:en,children:[p,t,s,n,c&&c()]})]})},mn=n(17893),pn=n(65370),gn=n(71309),fn=n(61229),vn=n(14908),bn=function(e){return e[e.SIGNUP=0]="SIGNUP",e[e.LOGIN=1]="LOGIN",e[e.DOWNLOAD=2]="DOWNLOAD",e}(bn||{}),hn=(0,o.memo)((function(e){var t=e.image,n=e.mediaType,r=e.backgroundColor,a=e.onSignupClick,i=e.onLoginClick,s=e.onDownloadClick,o=e.downloadLink,c=function(e){return function(t){switch(t.preventDefault(),e){case bn.DOWNLOAD:s&&s(),window.open(o,"_top","noopener");break;case bn.SIGNUP:a&&a(),(0,pn.ie)();break;case bn.LOGIN:i&&i(),(0,pn.PW)()}}},l=(0,vn.g)(),u="audio"===n?h.Ru.get("fta.wall.start-listening"):h.Ru.get("fta.wall.start-watching"),d=(0,f.jsx)(Le.$,{onClick:c(bn.SIGNUP),children:h.Ru.get("mwp.cta.sign.up.free")}),m=!l&&o?(0,f.jsx)(gn.n,{"data-testid":"upsell-download-app-button",onClick:c(bn.DOWNLOAD),children:h.Ru.get("mwp.cta.download.app")}):void 0,p=(0,mn.y)();return(0,f.jsx)(dn,{image:t,title:u,primaryButton:d,secondaryButton:m,size:p,style:r?{backgroundColor:r}:{},renderExtraInfo:function(){return(0,f.jsxs)("p",{className:Jt,onKeyDown:function(){return c(bn.LOGIN)},role:"presentation",children:[(0,f.jsx)(fn.Z,{as:"span",variant:"mesto",children:h.Ru.get("already_have_account")}),(0,f.jsx)(fn.Z,{as:"a",href:"#",onClick:c(bn.LOGIN),children:h.Ru.get("login")})]})}})})),xn=n(32028),yn=n(68262);const Rn="anllJYN1jeYGGE1iAJUJ",kn="YQRQdqiQ_iT0eo0owsJL",En="ftlV6Ixmq4wkKMg7hJ1v";var jn=(0,r.A)((0,r.A)((0,r.A)({},ln.E.SMALL,0),ln.E.MEDIUM,600),ln.E.LARGE,1024),Cn=function(e){var t,n=e.image,r=e.mediaType,a=e.backgroundColor,i=e.onClose,s=(0,yn.W)(),c=function(e){return function(){s({intent:e,type:"click"})}},l=(0,xn.x)(jn),u=l.ref,d=l.breakpoint;return(0,o.useEffect)((function(){var e=function(e){"Escape"===e.key&&(i(),s({intent:"close-upsell",type:"key-escape"}))};return s({intent:"open-upsell",type:"impression"}),window.addEventListener("keyup",e,!1),function(){return window.removeEventListener("keyup",e)}}),[s,i]),(0,f.jsx)(mn.o.Provider,{value:d,children:(0,f.jsx)("div",{className:"dialog ".concat(En),role:"presentation",ref:u,onClick:function(e){/dialog/.test(e.target.className)&&(s({intent:"close-upsell",type:"click",itemIdSuffix:"backdrop"}),i())},children:(0,f.jsxs)("div",{className:Rn,style:{backgroundColor:a},children:[(0,f.jsx)(hn,{image:n,mediaType:r,onDownloadClick:c("download-app"),onLoginClick:c("login"),onSignupClick:c("signup"),downloadLink:(t=(0,St.mb)(),t.searchParams.set("referrer","dwp"),t).toString()}),(0,f.jsx)("div",{className:kn,children:(0,f.jsx)(De.H,{onClick:function(){s({intent:"close-upsell",type:"click",itemIdSuffix:"close-button"}),i()},children:h.Ru.get("close")})})]})})})},wn=o.memo((function(e){var t=e.uri,n=(0,c.wA)(),r=(0,_e.b)("images/focused_stroy_play.png"),a=(0,Zt.h)(t,"#9BF0E1",r),i=(0,A.A)(a,2),s=i[0],o=i[1];return(0,f.jsx)(Tt.pZ,{value:"signup-modal",children:(0,f.jsx)(Cn,{image:s,mediaType:(0,Ot.WB)(null!=t?t:"")?"mixed":"audio",onClose:function(){n((0,d.BU)())},backgroundColor:o})})})),On=n(17714),Sn=n(21237),An=n(9037),Nn=n(27233);function In(e){var t=e.children,n=e.ctaUrl,r=e.spec,a=(0,c.wA)(),i=(0,y.s)(),s=(0,o.useCallback)((function(){a((0,d.us)()),i.logInteraction(r.consumptionCapModalFactory().topUpButtonFactory().hitUiHide())}),[a,i,r]),l=(0,o.useCallback)((function(){i.logInteraction(r.consumptionCapModalFactory().topUpButtonFactory().hitNavigateToExternalUri({destination:n}))}),[n,i,r]);return n?(0,f.jsx)(Le.$,{as:"a",href:n,target:"_blank",colorSet:"invertedLight",iconTrailing:Nn.p,onClick:l,children:t}):(0,f.jsx)(Le.$,{colorSet:"invertedLight",onClick:s,children:t})}function _n(e){var t=e.children,n=e.onClick;return t?(0,f.jsx)(De.H,{onClick:n,semanticColor:"textSubdued",children:t}):null}const Tn="NxTiDyoRCvpiMZga0txl",Ln="uEd5tll92zN6mh4YiQ6E",Dn="YQEvA2GajE9nCaNVxwuq",Pn="F12mp8xs0gc5ri9361Ap";var Mn=function(){var e=(0,c.wA)(),t=(0,xe.r)(Sn.M,{}),n=t.spec,r=t.logger,a=(0,c.d4)((function(e){return e.ui.bookConsumptionCapModal})),i=a.consumptionCapExplanation,s=a.isOpen,l=(0,o.useCallback)((function(){e((0,d.us)()),r.logInteraction(n.consumptionCapModalFactory().dismissButtonFactory().hitUiHide())}),[e,r,n]),u=(0,o.useCallback)((function(t){var n=t.data;n.consumptionCapExplanation?e((0,d._3)(n.consumptionCapExplanation)):e((0,d.us)())}),[e]);return(0,An.V)({callback:u}),(0,f.jsx)(O.A,{animated:!0,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,onRequestClose:l,contentLabel:i.title,isOpen:s,children:(0,f.jsxs)("div",{className:Tn,children:[(0,f.jsx)(On._,{className:Ln,src:(0,_e.b)("images/top-up.png"),alt:"",imageWidth:"200px",imageHeight:"196px"}),(0,f.jsxs)("div",{className:Dn,children:[(0,f.jsx)(j.E,{as:"h2",variant:"titleMedium",semanticColor:"textBase",children:i.title}),(0,f.jsx)(j.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:i.body}),(0,f.jsxs)("div",{className:Pn,children:[(0,f.jsx)(In,{ctaUrl:i.ctaUrl,spec:n,children:i.cta}),(0,f.jsx)(_n,{onClick:l,children:i.dismiss})]})]})]})})},Un=n(89667),Bn=n(79621),Fn=["yellow184","brownYellow135","orange100","red100","pink100","violetPink100","solidWhite200","yellowGreen155","green135","greenBlue100","blue100","blueViolet75","violet100","solidBlack0"],Wn=Fn.concat(["blue55","blue100","blue135","blueViolet135","blueViolet155","brownYellow100","brownYellow155","greenBlue55","greenBlue135","greenBlue155","orange55","orange155","pink55","pink100","pink135","pink155","red100","red155","violet55","violet100","violet155","yellowGreen100"]),Vn=Bn.blue100,Hn=Bn.blue135,zn=Bn.blue55,Gn=Bn.blueViolet135,Kn=Bn.blueViolet155,Yn=Bn.brownYellow100,qn=Bn.brownYellow155,Qn=Bn.greenBlue135,Zn=Bn.greenBlue155,Jn=Bn.greenBlue55,Xn=Bn.orange155,$n=Bn.orange55,er=Bn.pink100,tr=Bn.pink135,nr=Bn.pink155,rr=Bn.pink55,ar=Bn.red100,ir=Bn.red155,sr=Bn.violet100,or=Bn.violet155,cr=Bn.violet55,lr=Bn.yellowGreen100,ur=[[Xn,er,$n],[or,Vn,rr],[Zn,Vn,Jn],[nr,Yn,zn],[ir,ar,cr],[tr,Kn,Yn],[tr,qn,ar],[Gn,Zn,lr],[Qn,nr,Vn],[Hn,ir,sr]];function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pr={uri:"",name:"",isExporting:!1,coverArtData:{gradientColors:ur[0],imageSrc:"",imageScale:1,text:"",fontSize:44}},gr=(0,o.createContext)({state:pr,setState:function(){}}),fr=function(e){var t=e.uri,n=e.name,r=e.children,a=(0,o.useState)(pr),i=(0,A.A)(a,2),s=i[0],c=i[1];return(0,o.useEffect)((function(){c((function(e){return mr(mr({},e),{},{coverArtData:mr(mr({},e.coverArtData),{},{text:n}),uri:t,name:n})}))}),[n,t]),(0,f.jsx)(gr.Provider,{value:{state:s,setState:c},children:r})};function vr(){var e=(0,o.useContext)(gr),t=e.state,n=e.setState;return{state:t,setCoverArtData:(0,o.useCallback)((function(e){n((function(t){return mr(mr({},t),{},{coverArtData:mr(mr({},t.coverArtData),e)})}))}),[n])}}n(67601),n(20767),n(51338),n(14053),n(40675);const br="FsIncm0KExVFifC75avn";var hr=function(e,t,n,r){return void 0!==r?"rgba(".concat(e,",").concat(t,",").concat(n,",").concat(r,")"):"rgb(".concat(e,",").concat(t,",").concat(n,")")},xr=function(e){return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)]},yr=1280,Rr=function(){var e=(0,o.useContext)(gr).state.coverArtData,t=(0,o.useRef)(null);return(0,o.useEffect)((function(){var n=t.current;if(n){var r=n.getContext("2d"),a=e.gradientColors.flatMap(xr);!function(){var e=(0,A.A)(a,9),t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],c=e[5],l=e[6],u=e[7],d=e[8],m=r.createLinearGradient(0,0,yr,0);m.addColorStop(0,hr(t,n,i)),m.addColorStop(1,hr(s,o,c)),r.fillStyle=m,r.fillRect(0,0,yr,yr);var p=r.createLinearGradient(0,0,0,yr);p.addColorStop(0,hr(l,u,d,0)),p.addColorStop(1,hr(l,u,d)),r.fillStyle=p,r.fillRect(0,0,yr,yr)}()}}),[e.gradientColors]),(0,f.jsx)("canvas",{width:yr,height:yr,className:br,ref:t,id:"cover-canvas"})},kr=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=function(e){return n(e)},r.src=e}))};const Er="TheSJUuheGZeuRIblJ_t",jr="FmYBYArX3c4Ygck_PkWy",Cr="HKHBFC7Vb1LUnBHMcg4E";var wr=function(){var e=(0,o.useContext)(gr).state.coverArtData,t=e.imageSrc,n=e.imageScale,i=(0,o.useState)("fullHeight"),c=(0,A.A)(i,2),l=c[0],u=c[1];return(0,o.useEffect)((function(){if(t){var e=function(){var e=(0,a.A)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(t);case 2:n=e.sent,u((r=n).width/r.height>1?"fullHeight":"fullWidth");case 4:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[t]),t?(0,f.jsx)("div",{className:Er,children:(0,f.jsx)("img",{src:t,alt:h.Ru.get("web-player.create-cover-art.image-alt"),className:P()(jr,(0,r.A)({},Cr,"fullWidth"===l)),style:{transform:"scale(".concat(n,")")},id:"cover-base-image"},t)}):null};const Or="VJM2XyKYDKxuv8nIrA2H",Sr="JKSXxot3Ajemt2eBpX2x";var Ar=function(){var e=(0,o.useContext)(gr).state.coverArtData,t=e.text,n=e.fontSize;return(0,f.jsx)("div",{className:Or,id:"text-container",children:(0,f.jsx)(j.E,{as:"p",className:Sr,style:{fontSize:n,lineHeight:"".concat(n,"px")},children:t})})};const Nr="XX7i5Sor8cDePVmxLeUO";var Ir=function(){return(0,f.jsxs)("div",{className:Nr,id:"cover-preview",children:[(0,f.jsx)(Rr,{}),(0,f.jsx)(wr,{}),(0,f.jsx)(Ar,{})]})},_r=n(63104),Tr=n(82364),Lr=n(66460),Dr=n(97176),Pr=n(57669),Mr=n(90213),Ur=n(57991),Br=n(19069),Fr=n(17839),Wr=n(89889),Vr=n(39867),Hr=(n(60880),n(57168)),zr=n(25259);const Gr="kzLj8Z5C3S3a4X7_YteX",Kr="wms9RlBu8gBBYUlJw6hg";var Yr=["backgroundColor","onClick","selected"];function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Qr=function(e){var t=e.backgroundColor,n=e.onClick,a=e.selected,i=(0,zr.A)(e,Yr);return(0,f.jsx)(De.H,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:P()(Gr,(0,r.A)({},Kr,a)),style:{backgroundColor:t},onClick:n,condensedAll:!0},i))};n(32599);const Zr="obTWUazUo_3PxUU4z5xw";var Jr=function(e){var t=e.onSelect;return(0,f.jsx)("div",{className:Zr,"data-testid":"color-options",children:Object.values(Fn).map((function(e){return(0,f.jsx)(Qr,{onClick:function(){return t(Bn[e])},"aria-label":h.Ru.get("web-player.create-cover-art.gradient-color-add-color",e),backgroundColor:Bn[e]},e)}))})};const Xr="bB8ILwbJ_V5cF8mfu7ft";var $r=function(){var e=vr(),t=e.state.coverArtData.gradientColors,n=e.setCoverArtData,a=(0,o.useState)(0),i=(0,A.A)(a,2),s=i[0],c=i[1],l=(0,o.useState)(0),u=(0,A.A)(l,2),d=u[0],m=u[1];return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:Xr,children:[t.map((function(e,t){return(0,f.jsx)(Qr,{onClick:function(){return c(t)},"aria-label":h.Ru.get("web-player.create-cover-art.gradient-color-selection",(n=e,Wn.find((function(e){var t=Bn[e];return n===t})))),backgroundColor:e,selected:t===s},t);var n})),(0,f.jsx)(De.H,{iconOnly:Hr.H,"aria-label":h.Ru.get("web-player.create-cover-art.gradient-color-refresh-colors"),onClick:function(){var e=(d+1)%ur.length;m(e),n({gradientColors:ur[e]})}})]}),(0,f.jsx)(Jr,{onSelect:function(e){var a=Object.assign([],t,(0,r.A)({},s,e));n({gradientColors:a})}})]})},ea=n(64252),ta=function(e){return e.CONTAINS_NEW_LINE="CONTAINS_NEW_LINE",e.CONTAINS_HTML="CONTAINS_HTML",e.SAVE_WARNING="SAVE_WARNING",e.OFFLINE_WARNING="OFFLINE_WARNING",e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_FILE_UPLOAD_FAILED="IMAGE_FILE_UPLOAD_FAILED",e.NAME_REQUIRED="NAME_REQUIRED",e.UPDATE_DETAILS_FAILED="UPDATE_DETAILS_FAILED",e.IMAGE_INVALID_JPG="IMAGE_INVALID_JPG",e}(ta||{}),na={type:"info",code:ta.CONTAINS_NEW_LINE,get message(){return h.Ru.get("playlist.edit-details.error.description-breaks")}},ra={type:"info",code:ta.CONTAINS_HTML,get message(){return h.Ru.get("playlist.edit-details.error.invalid-html")}},aa={type:"info",code:ta.SAVE_WARNING,get message(){return h.Ru.get("playlist.edit-details.error.unsaved-changes")}},ia={type:"info",code:ta.OFFLINE_WARNING,get message(){return h.Ru.get("playlist.edit-details.error.no-internet")}},sa={type:"error",code:ta.FILE_TOO_BIG,get message(){return h.Ru.get("playlist.edit-details.error.file-size-exceeded",10)}},oa={type:"error",code:ta.IMAGE_TOO_SMALL,get message(){return h.Ru.get("playlist.edit-details.error.too-small",300,300)}},ca={type:"error",code:ta.IMAGE_FILE_UPLOAD_FAILED,get message(){return h.Ru.get("playlist.edit-details.error.file-upload-failed")}},la={type:"error",code:ta.NAME_REQUIRED,get message(){return h.Ru.get("playlist.edit-details.error.missing-name")}},ua={type:"error",code:ta.UPDATE_DETAILS_FAILED,get message(){return h.Ru.get("playlist.edit-details.error.failed-to-save")}},da=n(94285);const ma="jbPS9ioWM3oe1vjWNnj8";var pa=function(){var e=(0,o.useRef)(null),t=vr(),n=t.state.coverArtData,r=n.imageSrc,a=n.imageScale,i=t.setCoverArtData,s=(0,o.useCallback)((function(e){var t=new FileReader;t.onload=function(e){var t,n=null==e||null===(t=e.target)||void 0===t?void 0:t.result;"string"==typeof n&&i({imageSrc:n})};var n=e.target.files||[];n[0]&&(n[0].size>10485760||t.readAsDataURL(n[0]),e.target.value="")}),[i]),c=(0,o.useCallback)((function(e){i({imageScale:2*e})}),[i]),l=(0,o.useCallback)((function(e){i({imageScale:e})}),[i]);return(0,f.jsxs)("div",{className:ma,children:[(0,f.jsx)("input",{ref:e,type:"file",onChange:s,hidden:!0,"data-testid":"image-file-picker-cover-art",accept:"image/png, image/jpeg"}),(0,f.jsxs)("div",{children:[(0,f.jsx)(gn.n,{onClick:function(){var t;null===(t=e.current)||void 0===t||t.click()},children:r?h.Ru.get("web-player.create-cover-art.background-change.image"):h.Ru.get("web-player.create-cover-art.background-choose.image")}),r?(0,f.jsx)(De.H,{iconOnly:ea.x,"aria-label":h.Ru.get("web-player.create-cover-art.background-remove.image"),onClick:function(){return i({imageSrc:""})}}):null]}),(0,f.jsx)(j.E,{as:"p",children:h.Ru.get("image-upload.legal-disclaimer")}),r?(0,f.jsx)(da.z2,{labelText:h.Ru.get("web-player.create-cover-art.image-scale"),value:a,max:2,step:.1,onDragStart:c,onDragMove:c,onDragEnd:c,onStepBackward:function(){return l(Math.max(0,a-.1))},onStepForward:function(){return l(Math.min(2,a+.1))}}):null]})},ga=n(24111),fa=n(57126),va=n(7270),ba=n(77934),ha=n(20242);const xa="SBd2XCrfeyZ8wrJcbeuB",ya="IV3J50cojLwJZd3TP63g";var Ra=[12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100],ka=function(){var e=vr(),t=e.state.coverArtData,n=t.text,r=t.fontSize,a=e.setCoverArtData,i=(0,o.useState)(!1),s=(0,A.A)(i,2),c=s[0],l=s[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Ze.g,{label:h.Ru.get("web-player.create-cover-art.section-text"),children:(0,f.jsx)(ga.h,{value:n,onChange:function(e){e.target instanceof HTMLTextAreaElement&&a({text:e.target.value})}})}),(0,f.jsx)(j.E,{as:"p",variant:"bodySmallBold",paddingBottom:"var(--encore-spacing-tighter-2,8px)",children:h.Ru.get("web-player.create-cover-art.section-text-size")}),(0,f.jsx)(fa.u,{onShow:function(){return l(!0)},onHide:function(){return l(!1)},className:xa,overlay:c&&(0,f.jsx)(va.Q,{onBlur:function(){return l(!1)},className:ya,children:Ra.map((function(e){return(0,f.jsx)(ba.Q,{as:"li",role:"option",onClick:function(){return a({fontSize:e})},selected:e===r,"aria-selected":e===r,children:e},e)}))}),children:(0,f.jsx)(ha.m,{"aria-label":h.Ru.get("web-player.create-cover-art.section-text-size-selection",{fontSize:r}),children:r})})]})};const Ea="cIoamHeKI0rCEg1RyLKw";var ja=function(e){var t=e.type,n=e.name,r=e.activeIcon,a=e.icon,i=e.content,s=e.onClick,o=e.isOpen;return(0,f.jsxs)(_r.A,{children:[(0,f.jsx)(Tr.J,{onClick:function(){return s(t)},isExpanded:o,children:(0,f.jsx)(Lr.v,{icon:o?r:a,children:(0,f.jsx)(j.E,{children:n})})},t),(0,f.jsx)(Dr.u,{isExpanded:o,children:i})]})},Ca=function(){var e=(0,o.useState)(""),t=(0,A.A)(e,2),n=t[0],r=t[1],a=(0,o.useCallback)((function(e){r(e===n?"":e)}),[n]);return(0,f.jsxs)(Pr.n,{className:Ea,children:[(0,f.jsx)(ja,{type:"Background",name:h.Ru.get("web-player.create-cover-art.section-background"),icon:Mr.M,activeIcon:Ur.M,content:(0,f.jsx)($r,{}),onClick:a,isOpen:"Background"===n}),(0,f.jsx)(ja,{type:"Image",name:h.Ru.get("web-player.create-cover-art.section-image"),icon:Br.Q,activeIcon:Fr.Y,content:(0,f.jsx)(pa,{}),onClick:a,isOpen:"Image"===n}),(0,f.jsx)(ja,{type:"Text",name:h.Ru.get("web-player.create-cover-art.section-text"),icon:Wr.A,activeIcon:Vr.W,content:(0,f.jsx)(ka,{}),onClick:a,isOpen:"Text"===n})]})},wa=n(81162),Oa=n(32989);const Sa="chpnrv_mTqZjkPByUvsQ";var Aa=function(){var e=(0,o.useContext)(gr).state,t=function(){var e=(0,o.useContext)(gr).state,t=(0,c.wA)(),n=(0,wa.x)(e.uri),r=n.uploadImage,i=n.updateDetails,l=(0,o.useCallback)((0,a.A)(s().mark((function n(){var o,c,l,u,d,m,p,g,f,v,b,h,x,y,R;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=document.getElementById("cover-preview"),c=document.getElementById("cover-canvas"),l=null==c?void 0:c.cloneNode(!0),o&&c instanceof HTMLCanvasElement&&l instanceof HTMLCanvasElement){n.next=5;break}return n.abrupt("return");case 5:if(o.appendChild(l),l.style.zIndex="1",null==(u=l.getContext("2d"))||u.drawImage(c,0,0),u){n.next=11;break}return n.abrupt("return");case 11:d=c.width/c.clientWidth,(m=document.getElementById("cover-base-image"))instanceof HTMLImageElement&&(p=m.getBoundingClientRect().width*d,g=m.getBoundingClientRect().height*d,f=p===l.width?0:(p-l.width)/2*-1,v=g===l.height?0:(g-l.height)/2*-1,u.drawImage(m,f,v,p,g)),b=document.getElementById("text-container"),h=null==b?void 0:b.children[0],x=null==b?void 0:b.innerText,b instanceof HTMLElement&&h instanceof HTMLElement&&x&&(u.font="".concat(getComputedStyle(h).fontWeight,"\n        ").concat(parseInt(getComputedStyle(h).fontSize,10)*d,"px ").concat(getComputedStyle(h).fontFamily),u.fillStyle=getComputedStyle(h).color,u.textBaseline="top",u.textAlign="left",y=(h.getBoundingClientRect().x-b.getBoundingClientRect().x)*d,R=(h.getBoundingClientRect().y-b.getBoundingClientRect().y)*d,x.split("\n").forEach((function(e,t){u.fillText(e,y,R+t*parseInt(getComputedStyle(h).lineHeight,10)*d)}))),l.toBlob(function(){var t=(0,a.A)(s().mark((function t(n){var a,o,c,l,u,d,m,p,g;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n){t.next=3;break}return t.abrupt("return");case 3:return a=new File([n],"cover-art.png"),t.next=6,(0,Oa.j)(a);case 6:return o=t.sent,t.next=9,(0,Oa.v)(o);case 9:return c=t.sent,l=(0,A.A)(c,2),u=l[0],d=l[1],m={imageFile:a,imageDataUrl:o,imageWidth:u,imageHeight:d},t.prev=14,p=r(m.imageFile),g={name:e.name},t.next=19,p;case 19:return g.imageUploadToken=t.sent,t.next=22,i(g);case 22:t.next=26;break;case 24:t.prev=24,t.t0=t.catch(14);case 26:t.next=30;break;case 28:t.prev=28,t.t1=t.catch(0);case 30:case"end":return t.stop()}}),t,null,[[0,28],[14,24]])})));return function(e){return t.apply(this,arguments)}}()),t(Un.I3.actions.close());case 20:case"end":return n.stop()}}),n)}))),[t,e.name,i,r]);return{handleOnSave:l}}(),n=t.handleOnSave,r=(0,c.wA)(),i=(0,o.useCallback)((function(){r(Un.I3.actions.close())}),[r]);return(0,f.jsxs)("div",{className:Sa,children:[(0,f.jsx)(De.H,{onClick:i,children:h.Ru.get("web-player.create-cover-art.cancel")}),(0,f.jsx)(Le.$,{onClick:n,disabled:e.isExporting,children:h.Ru.get("web-player.create-cover-art.save")})]})};const Na="YFemDENgp3FhN7JLysrg";var Ia=function(){var e=(0,c.wA)(),t=(0,o.useCallback)((function(){e(Un.I3.actions.close())}),[e]);return(0,f.jsxs)("div",{className:Na,children:[(0,f.jsx)(j.E,{variant:"titleSmall",as:"h2",semanticColor:"textBase",children:h.Ru.get("web-player.create-cover-art.header-title")}),(0,f.jsx)(De.H,{condensedAll:!0,onClick:t,iconOnly:w.M,"aria-label":h.Ru.get("web-player.create-cover-art.close")})]})};const _a="lELkQYDlQ0e3m2N6c05j",Ta="Yo8no9ytbGQi5874D2OY";var La=function(e){var t=e.uri,n=e.name,r=(0,c.wA)(),a=(0,o.useCallback)((function(){r(Un.I3.actions.close())}),[r]);return(0,f.jsx)(O.A,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,isOpen:!0,onRequestClose:a,contentLabel:"Create cover art",children:(0,f.jsx)(fr,{uri:t,name:n,children:(0,f.jsxs)("div",{className:P()(_a),children:[(0,f.jsx)(Ia,{}),(0,f.jsxs)("div",{className:Ta,children:[(0,f.jsx)(Ir,{}),(0,f.jsx)(Ca,{})]}),(0,f.jsx)(Aa,{})]})})})},Da=n(8143),Pa=n(11957),Ma=n(13180),Ua=n(25227),Ba=n(50489),Fa=(0,o.lazy)((0,a.A)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(4151),n.e(1211),n.e(983)]).then(n.bind(n,74087));case 2:return t=e.sent,r=t.DebugWindowContents,e.abrupt("return",{default:r});case 5:case"end":return e.stop()}}),e)})))),Wa=function(){var e=(0,Ba.j)(),t=e.handle,n=e.show;return(0,Ua.x)(Ma.W.SHOW_DEBUG_WINDOW,(function(){n()})),null!==t?(0,Da.createPortal)((0,f.jsx)(Pa.IF,{handle:t,children:(0,f.jsx)(o.Suspense,{fallback:null,children:(0,f.jsx)(Fa,{})})}),t.document.body):null},Va=n(46125),Ha=n(33165),za=n(37252),Ga=n(90577),Ka=n(53465),Ya=n(69798),qa=n(16833),Qa="search-modal-listbox",Za=n(76285);const Ja="search-modal-searchBar",Xa="search-modal-searchIcon",$a="search-modal-input";var ei=(0,o.memo)((function(e){var t=e.value,n=e.onChange,r=e.onKeyPress,a=e.hasResults,i=e.activeResultId;return(0,f.jsxs)("div",{className:Ja,children:[(0,f.jsx)(Za.C,{className:Xa,"aria-hidden":!0}),(0,f.jsx)(j.E,{as:"input",variant:"bodyMedium",className:$a,value:t,onKeyDown:r,onChange:n,placeholder:h.Ru.get("web-player.search-modal.placeholder"),autoFocus:!0,role:"combobox","aria-expanded":a,"aria-controls":Qa,"aria-owns":Qa,"aria-activedescendant":i})]})}));const ti={SearchModalInstructions:"search-modal-keyboard-accessibility-bar",hidden:"KOpaRxg8Q8z9XEMKrRp4",key:"c4hmXDjs2Dv8n3VCLz1g"};var ni=function(e){var t=e.canOpen,n=e.canPlay,r=e.canSelect;return t||n||r?(0,f.jsxs)("div",{className:ti.SearchModalInstructions,children:[(0,f.jsx)(oi,{isActive:r,children:(0,f.jsx)(ri,{})}),(0,f.jsx)(oi,{isActive:t,children:(0,f.jsx)(ai,{})}),(0,f.jsx)(oi,{isActive:n,children:(0,f.jsx)(ii,{})})]}):null};function ri(){return h.Ru.get("web-player.search-modal.instructions.navigate",{keys:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(si,{children:""}),(0,f.jsx)(si,{children:""})]})})}function ai(){return h.Ru.get("web-player.search-modal.instructions.open",{keys:(0,f.jsx)(si,{children:"Enter"})})}function ii(){return h.Ru.get("web-player.search-modal.instructions.play",{keys:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(si,{children:"Shift"}),(0,f.jsx)(si,{children:"Enter"})]})})}function si(e){var t=e.children;return(0,f.jsx)(j.E,{as:"kbd",variant:"bodySmall",className:ti.key,semanticColor:"textBase",children:t})}function oi(e){var t=e.children,n=e.isActive;return(0,f.jsx)(j.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",className:P()((0,r.A)({},ti.hidden,!n)),children:t})}n(42363);var ci=n(67281),li=n(42344),ui=new ci.l("searchModalResults","query","34f48bca447d3420a9310ea259bfd4b89d2f7a3608c461d5c121d6232379fb22",null);function di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?di(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pi=(0,o.memo)((function(e){var t,n,r=e.query,a=e.onResults,i=e.numberOfResults,s=(0,Ga.n)(),c=(t={limit:i,numberOfTopResults:i,offset:0,searchTerm:r,includeAudiobooks:!0},n={gcTime:18e5,staleTime:3e5,enabled:r.trim().length>0&&s},(0,li.I)(ui,t,n)),l=c.data,u=c.error,d=c.loading;return(0,o.useEffect)((function(){for(var e,t,n,i,s=null!==(e=null==l||null===(t=l.searchV2)||void 0===t||null===(t=t.topResultsV2)||void 0===t?void 0:t.itemsV2)&&void 0!==e?e:[],o=[],c=0;c<s.length;c++){var m=s[c],p=m.item,g=m.matchedFields;if("UnknownTypeWrapper"!==p.__typename&&"PreReleaseResponseWrapper"!==p.__typename&&p.data)switch(p.data.__typename){case"Genre":o.push(mi(mi({},p.data),{},{uri:(n=p.data.uri,i=void 0,i=(0,Ot.o_)(n),i?n:"spotify:genre:".concat(n)),matchedFields:g}));break;case"Album":case"Artist":case"Track":case"Playlist":case"User":case"Episode":case"Podcast":case"Audiobook":o.push(mi(mi({},p.data),{},{matchedFields:g}));break;case"NotFound":case"RestrictedContent":case"GenericError":break;default:(0,ve.k)(p.data)}}a({query:r,error:!!u,loading:d,results:o})}),[l,u,d,a,r]),null}));n(82368),n(23833),n(58470);var gi=n(16493),fi=n(64961),vi=n(32439),bi=n(53485),hi=n(49529),xi=n(4717),yi=n(90751),Ri=n(87393),ki=n(67744),Ei=n(64526),ji=n(50082),Ci=n(36146),wi=n(80047);const Oi="XUU9nKfSDuNkadzFz_OQ";var Si=function(e){var t=e.children;return(0,f.jsx)(j.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Oi,children:t})},Ai=function(e){return"search-modal-result-".concat(e)};const Ni="search-modal-resultItem",Ii="mvQT8XMnLMFMikaUfHqO",_i="hEPIW_7QH4X3m4QrRPsP",Ti="bFrnKMII6LDDL6NbaYnZ",Li="dJtLqNpbjiE4oggCyFSQ",Di="mx8mS84MYJW_9iHyXNJu";var Pi=function(e){var t=e.position,n=e.uri,a=e.title,i=e.image,s=e.color,c=e.subtitle,l=e.isSelected,u=e.onClick,d=e.tag,m=e.label,p=e.menu,g=(0,o.useRef)(null);(0,o.useEffect)((function(){var e;l&&(null===(e=g.current)||void 0===e||e.scrollIntoView({behavior:"auto",block:"nearest"}))}),[l]);var v=(0,ji.l_)(n).isActive,b=(0,o.useCallback)((function(){u({uri:n,position:t})}),[u,t,n]),h=(0,r.A)({},"--position",t);return(0,f.jsx)(_.h,{menu:p,children:(0,f.jsxs)(wi.N,{ref:g,to:n,className:P()(Ni,(0,r.A)({},Ii,l)),role:"option","aria-selected":l,onClick:b,id:Ai(n),style:h,tabIndex:-1,children:[(0,f.jsx)("span",{className:"hidden-visually",children:m}),(0,f.jsx)("div",{className:Ti,"aria-hidden":!0,children:(0,f.jsx)(Ci.M,{images:[{url:i,width:40,height:40}],color:s,isCircular:(0,Ot.ec)(n)})}),(0,f.jsxs)("div",{className:Li,"aria-hidden":!0,children:[(0,f.jsx)(j.E,{as:"p",variant:"bodyMedium",className:_i,semanticColor:v?"textBrightAccent":"textBase",children:a}),(0,f.jsx)(j.E,{as:"p",variant:"bodySmall",className:_i,semanticColor:"textSubdued",children:c})]}),(0,f.jsx)("div",{className:Di,"aria-hidden":!0,children:(0,f.jsx)(Si,{children:d})})]})})},Mi=function(e){var t=e.results,n=e.onClick,r=e.selectedIndex;return(0,f.jsx)(f.Fragment,{children:t.map((function(e,t){return(0,f.jsx)(o.Fragment,{children:Ui(e,t,n,r===t)},t)}))})};function Ui(e,t,n,r){var a,i,s,o,c,l,u,d,m,p,g,v,b,x,y,R,k,E,j;switch(e.__typename){case"Album":var C,w,O,S=e.artists.items.map((function(e){return e.profile.name})).join(h.Ru.getSeparator());return(0,f.jsx)(Pi,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(C=null===(w=e.coverArt)||void 0===w||null===(w=w.sources)||void 0===w||null===(w=w[0])||void 0===w?void 0:w.url)&&void 0!==C?C:"",color:(0,ki.m)(null===(O=e.coverArt)||void 0===O?void 0:O.extractedColors),subtitle:S,uri:e.uri,tag:h.Ru.get("web-player.search-modal.result.album"),label:h.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:S,type:h.Ru.get("web-player.search-modal.result.album")}),menu:(0,f.jsx)(gi.h,{uri:e.uri})});case"Artist":return(0,f.jsx)(Pi,{isSelected:r,position:t,onClick:n,title:e.profile.name,image:null!==(a=null===(i=e.visuals.avatarImage)||void 0===i||null===(i=i.sources)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.url)&&void 0!==a?a:"",color:(0,ki.m)(null===(s=e.visuals.avatarImage)||void 0===s?void 0:s.extractedColors),subtitle:"",uri:e.uri,tag:h.Ru.get("web-player.search-modal.result.artist"),label:h.Ru.get("web-player.search-modal.a11y.label",{item:e.profile.name,type:h.Ru.get("web-player.search-modal.result.artist")}),menu:(0,f.jsx)(fi.t,{uri:e.uri})});case"Track":var A,N,I,_=e.artists.items.map((function(e){return e.profile.name})).join(h.Ru.getSeparator()),L=_;if(e.matchedFields.includes(Ei.tC.Lyrics)){var D=h.Ru.get("web-player.search-modal.lyrics-match");L="".concat(L,"  ").concat(D)}return(0,f.jsx)(Pi,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(A=null===(N=e.albumOfTrack)||void 0===N||null===(N=N.coverArt)||void 0===N||null===(N=N.sources)||void 0===N||null===(N=N[0])||void 0===N?void 0:N.url)&&void 0!==A?A:"",color:(0,ki.m)(null===(I=e.albumOfTrack)||void 0===I||null===(I=I.coverArt)||void 0===I?void 0:I.extractedColors),subtitle:L,uri:e.uri,tag:h.Ru.get("web-player.search-modal.result.track"),label:h.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:_,type:h.Ru.get("web-player.search-modal.result.track")}),menu:(0,f.jsx)(Ri.P,{uri:e.uri})});case"Playlist":var P,M,U,B="User"===(null===(P=e.ownerV2.data)||void 0===P?void 0:P.__typename)?e.ownerV2.data.name:"",F=e.images.items.find((function(e){return e.sources}));return(0,f.jsx)(Pi,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(M=null==F||null===(U=F.sources)||void 0===U?void 0:U[0].url)&&void 0!==M?M:"",color:(0,ki.m)(null==F?void 0:F.extractedColors),subtitle:B,uri:e.uri,tag:h.Ru.get("web-player.search-modal.result.playlist"),label:h.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:B,type:h.Ru.get("web-player.search-modal.result.playlist")}),menu:(0,f.jsx)(xi.W,{uri:e.uri})});case"User":return(0,f.jsx)(Pi,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(o=null===(c=e.avatar)||void 0===c||null===(c=c.sources)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.url)&&void 0!==o?o:"",color:(0,ki.m)(null===(l=e.avatar)||void 0===l?void 0:l.extractedColors),subtitle:"",uri:e.uri,tag:h.Ru.get("web-player.search-modal.result.user"),label:h.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:h.Ru.get("web-player.search-modal.result.user")}),menu:(0,f.jsx)(T.B,{uri:e.uri})});case"Genre":return(0,f.jsx)(Pi,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(u=null===(d=e.image)||void 0===d||null===(d=d.sources)||void 0===d||null===(d=d[0])||void 0===d?void 0:d.url)&&void 0!==u?u:"",color:(0,ki.m)(null===(m=e.image)||void 0===m?void 0:m.extractedColors),subtitle:"",uri:e.uri,tag:h.Ru.get("web-player.search-modal.result.genre"),label:h.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:h.Ru.get("web-player.search-modal.result.genre")}),menu:(0,f.jsx)(hi.h,{uri:e.uri})});case"Episode":var W,V,H,z,G="Podcast"===e.podcastV2.data.__typename&&e.podcastV2.data.name||void 0,K=[null!==(W=e.releaseDate)&&void 0!==W&&W.isoString?h.Ru.formatDate(new Date(e.releaseDate.isoString)):void 0,G].filter(Boolean).join("  "),Y=G?h.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:G,type:h.Ru.get("web-player.search-modal.result.episode")}):e.name;return(0,f.jsx)(Pi,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(V=null===(H=e.coverArt)||void 0===H||null===(H=H.sources)||void 0===H||null===(H=H[0])||void 0===H?void 0:H.url)&&void 0!==V?V:"",color:(0,ki.m)(null===(z=e.coverArt)||void 0===z?void 0:z.extractedColors),subtitle:K,uri:e.uri,tag:h.Ru.get("web-player.search-modal.result.episode"),label:Y,menu:(0,f.jsx)(bi.b,{uri:e.uri})});case"Podcast":return(0,f.jsx)(Pi,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(p=null===(g=e.coverArt)||void 0===g||null===(g=g.sources)||void 0===g||null===(g=g[0])||void 0===g?void 0:g.url)&&void 0!==p?p:"",color:(0,ki.m)(null===(v=e.coverArt)||void 0===v?void 0:v.extractedColors),subtitle:null!==(b=null===(x=e.publisher)||void 0===x?void 0:x.name)&&void 0!==b?b:"",uri:e.uri,tag:h.Ru.get("web-player.search-modal.result.podcast"),label:h.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:h.Ru.get("web-player.search-modal.result.podcast")}),menu:(0,f.jsx)(yi.H,{uri:e.uri})});case"Audiobook":return(0,f.jsx)(Pi,{isSelected:r,position:t,onClick:n,title:e.name,image:null!==(y=null===(R=e.coverArt)||void 0===R||null===(R=R.sources)||void 0===R||null===(R=R[0])||void 0===R?void 0:R.url)&&void 0!==y?y:"",color:(0,ki.m)(null===(k=e.coverArt)||void 0===k?void 0:k.extractedColors),subtitle:null!==(E=null===(j=e.publisher)||void 0===j?void 0:j.name)&&void 0!==E?E:"",uri:e.uri,tag:h.Ru.get("web-player.search-modal.result.audiobook"),label:h.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:h.Ru.get("web-player.search-modal.result.audiobook")}),menu:(0,f.jsx)(vi.p,{uri:e.uri})});default:return(0,ve.d)(e)}}const Bi="N9tnwm0XDrt_eGJd2D2A",Fi="zZMsUUWG29PYcwWPXhOV",Wi="_kfmGT75UTPoF_D2afwa",Vi="search-modal-listbox",Hi="Bn7PjpLWU6TcPCoeP98S",zi="QVqrI1qDRcHQgBn2uuWd",Gi="mXdNvIO9PYnBFoyoMyUO",Ki="Xf30G8NSPQ3pex0iD4zB",Yi="ixdB7tx1aniI9zfMECIi";var qi={modal:{base:Gi,afterOpen:Ki,beforeClose:Yi},overlay:{base:Gi,afterOpen:Ki,beforeClose:Yi}},Qi=function(){var e=(0,Ha.Zp)(),t=(0,qa.Nf)(),n=(0,xe.r)(za.I,{}),a=n.spec,i=n.logger,s=n.UBIFragment,c=(0,Ya.t)(a),l=(0,o.useState)(""),u=(0,A.A)(l,2),d=u[0],m=u[1],p=(0,o.useState)([]),g=(0,A.A)(p,2),v=g[0],b=g[1],x=(0,o.useState)(0),y=(0,A.A)(x,2),R=y[0],k=y[1],E=(0,o.useState)(!1),C=(0,A.A)(E,2),w=C[0],O=C[1],S=!(0,Ga.n)(),N=(0,o.useMemo)((function(){return(0,Ot.o_)(d,{parseUnknown:!0})}),[d]),I=N&&N.type!==Ot.NQ.AD,_=(0,o.useCallback)((function(e){var t=e.target.value;t!==d&&(m(t),k(0),i.logInteraction(a.inputFactory().keyStrokeChangeSearchQuery({searchQueryString:t})))}),[i,d,a]),T=(0,o.useCallback)((function(){m(""),t({type:"CLOSE"})}),[t]),L=(0,o.useCallback)((function(e){var t=e.uri,n=e.position;i.logInteraction(a.searchResultFactory({position:n}).hitUiNavigate({destination:t})),T()}),[T,i,a]),D=(0,Ka.K)(),M=(0,o.useCallback)((function(t){var n=t.key;if("ArrowUp"===n)k((function(e){return Math.max(e-1,0)})),t.preventDefault();else if("ArrowDown"===n)k((function(e){return Math.min(e+1,v.length-1)})),t.preventDefault();else if("Enter"===n){if(I)return e(N.toURLPath(!0)),void T();var r=v[R];if(r){var a=(0,Ot.o_)(r.uri);if(t.shiftKey)Ji(null==a?void 0:a.type)&&D.play({uri:r.uri},{featureIdentifier:"quick_search",referrerIdentifier:"PlayerStub_UnknownReferrer"});else{var i=null==a?void 0:a.toURLPath(!0);i&&(e(i),L({uri:r.uri,position:R}))}}t.preventDefault()}}),[I,T,L,e,D,N,v,R]),U=(0,o.useCallback)((function(e){O(e.loading),e.query===d&&b(e.results)}),[d]),B=v.length>0,F=v[R],W=F?Ai(F.uri):void 0,V=(0,Ot.o_)(null==F?void 0:F.uri),H=Ji(null==V?void 0:V.type);return(0,f.jsxs)(s,{spec:a,children:[(0,f.jsx)(pi,{query:I?"":d,numberOfResults:30,onResults:U}),(0,f.jsxs)("div",{className:Bi,ref:c,children:[(0,f.jsx)("div",{className:P()(Fi,(0,r.A)({},Wi,v.length)),children:(0,f.jsx)(ei,{value:d,onChange:_,onKeyPress:M,hasResults:B,activeResultId:W})}),(0,f.jsx)(ni,{canSelect:B&&!I,canPlay:H,canOpen:B||!!I}),d&&!I&&B&&(0,f.jsx)("div",{className:Vi,id:Qa,role:"listbox",children:(0,f.jsx)(Mi,{results:v,onClick:L,selectedIndex:R})}),!w&&d&&!B&&(0,f.jsxs)("div",{className:Hi,onClick:T,children:[(0,f.jsx)(j.E,{className:zi,as:"h1",variant:"titleSmall",semanticColor:"textBase",children:h.Ru.get("search.empty-results-title",d)}),S&&(0,f.jsx)(j.E,{as:"p",semanticColor:"textBase",children:h.Ru.get("web-player.search-modal.offline")})]})]})]})},Zi=function(){var e=(0,qa.Qc)().isOpen,t=(0,qa.Nf)(),n=(0,o.useCallback)((function(){t({type:"CLOSE"})}),[t]);return e?(0,f.jsx)(O.A,{contentLabel:h.Ru.get("web-player.search-modal.title"),isOpen:e,onRequestClose:n,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animation:qi,children:(0,f.jsx)(Qi,{})}):null};function Ji(e){switch(e){case"album":case"artist":case"track":case"playlist":case"playlist-v2":case"episode":case"show":return!0;default:return!1}}var Xi=function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.ui.personalizedRecommendationsErrorModal})).isOpen;return(0,f.jsx)(Bt.x,{headingMessage:h.Ru.get("error-dialog.generic.header"),message:h.Ru.get("web-player.settings.personalized-recommendations.error-modal-message"),buttonLabel:h.Ru.get("web-player.settings.personalized-recommendations.error-modal-button"),onDismissDialog:function(){e(Un.bL.actions.close())},animated:!0,isOpen:t})},$i=n(67264),es=n(34353),ts=n(67447);const ns="t1hN4Ju87afc5N5fDTnm",rs="kq4vSktBwa0pcc1zklAo",as="KSUTPJtu2PnuTb_RoGQX";var is=function(e){var t=e.onClose,n=e.handleRemove,r=e.primaryButtonText,a=e.secondaryButtonText,i=e.primaryButtonLabel,s=void 0===i?r:i;return(0,f.jsxs)("div",{className:as,children:[(0,f.jsx)(De.H,{onClick:t,semanticColor:"textSubdued","aria-label":"Cancel",children:a}),(0,f.jsx)(Le.$,{"aria-label":s,autofocus:"true",onClick:n,children:r})]})},ss=function(e){var t=e.onClose,n=e.primaryButtonText,r=e.secondaryButtonText;return(0,f.jsxs)("div",{className:as,children:[(0,f.jsx)(De.H,{onClick:t,semanticColor:"textSubdued",as:"a",href:Ge.nw,children:r}),(0,f.jsx)(Le.$,{autofocus:"true",onClick:t,children:n})]})},os=n(82092),cs=function(){var e=(0,c.wA)(),t=(0,os.d)().enqueueSnackbar,n=(0,ts.Q)(),r=(0,o.useState)(null),i=(0,A.A)(r,2),l=i[0],u=i[1],m=(0,o.useCallback)((function(){e((0,d.MB)())}),[e]),p=(0,o.useCallback)((0,a.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.removeAllDownloads();case 3:m(),t(h.Ru.get("desktop.settings.storage.downloads.success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(e.t0 instanceof Error?e.t0:new Error("Error when deleting all downloads."));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n,m,t]);return(0,f.jsx)(es.M,{animated:!0,className:rs,onRequestClose:m,"aria-describedby":"remove-downloads-dialog-heading",isOpen:!0,children:(0,f.jsxs)("div",{className:P()("encore-light-theme",ns),children:[(0,f.jsx)(j.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase","aria-live":"polite",id:"remove-downloads-dialog-heading",children:l?h.Ru.get("error.generic"):h.Ru.get("desktop.settings.storage.downloads.dialog.heading")}),(0,f.jsx)(j.E,{as:"p",variant:"bodySmall",paddingBottom:$i.CD,semanticColor:"textSubdued","aria-live":"polite",children:l?h.Ru.get("desktop.settings.storage.downloads.dialog.error"):h.Ru.get("desktop.settings.storage.downloads.dialog.text")}),l?(0,f.jsx)(ss,{onClose:m,primaryButtonText:h.Ru.get("desktop.settings.storage.close"),secondaryButtonText:h.Ru.get("desktop.settings.storage.help")}):(0,f.jsx)(is,{onClose:m,handleRemove:p,primaryButtonLabel:h.Ru.get("desktop.settings.storage.downloads.button"),primaryButtonText:h.Ru.get("desktop.settings.storage.downloads.remove"),secondaryButtonText:h.Ru.get("desktop.settings.storage.cancel")})]})})},ls=function(){var e=(0,c.wA)(),t=(0,os.d)().enqueueSnackbar,n=(0,ts.Q)(),r=(0,o.useState)(null),i=(0,A.A)(r,2),l=i[0],u=i[1],m=(0,o.useCallback)((function(){e((0,d.QK)())}),[e]),p=(0,o.useCallback)((0,a.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.removeCache();case 3:m(),t(h.Ru.get("desktop.settings.storage.cache.success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(e.t0 instanceof Error?e.t0:new Error("Error when clearing cache."));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t,n,m]);return(0,f.jsx)(es.M,{animated:!0,className:rs,onRequestClose:m,"aria-describedby":"clear-cache-dialog-heading",isOpen:!0,children:(0,f.jsxs)("div",{className:P()("encore-light-theme",ns),children:[(0,f.jsx)(j.E,{id:"clear-cache-dialog-heading",as:"h2",variant:"titleSmall",semanticColor:"textBase","aria-live":"polite",children:l?h.Ru.get("error.generic"):h.Ru.get("desktop.settings.storage.cache.dialog.heading")}),(0,f.jsx)(j.E,{as:"p",variant:"bodySmall",paddingBottom:$i.CD,semanticColor:"textSubdued","aria-live":"polite",children:l?h.Ru.get("desktop.settings.storage.cache.dialog.error"):h.Ru.get("desktop.settings.storage.cache.dialog.text")}),l?(0,f.jsx)(ss,{onClose:m,primaryButtonText:h.Ru.get("desktop.settings.storage.close"),secondaryButtonText:h.Ru.get("desktop.settings.storage.help")}):(0,f.jsx)(is,{onClose:m,handleRemove:p,primaryButtonText:h.Ru.get("desktop.settings.storage.cache.button"),secondaryButtonText:h.Ru.get("desktop.settings.storage.cancel")})]})})},us=n(63231);const ds="KmvydY9aOuhL7pSuUhCP",ms="yfp_lJM0XpzDc1TJz6Qc",ps="rqMR6HWbOuHuIQEMFrRv";var gs=function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.ui.introducingSmartShuffleModal})).isOpen,n=function(){e(Un.cI.actions.close())};return(0,f.jsx)(O.A,{isOpen:t,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:n,contentLabel:h.Ru.get("web-player.smart-shuffle.introduction-modal-title"),overlayClassName:ps,children:(0,f.jsxs)("div",{className:ds,children:[(0,f.jsx)(us.k,{size:"xxlarge",semanticColor:"textBrightAccent"}),(0,f.jsxs)("div",{className:ms,children:[(0,f.jsx)(j.E,{variant:"titleMedium",semanticColor:"textBase",children:h.Ru.get("web-player.smart-shuffle.introduction-modal-title")}),(0,f.jsx)(j.E,{variant:"bodyMedium",semanticColor:"textBase",children:h.Ru.get("web-player.smart-shuffle.introduction-modal-description")})]}),(0,f.jsx)(Le.$,{onClick:n,children:h.Ru.get("web-player.smart-shuffle.introduction-modal-ok-button")})]})})},fs=n(87858),vs=n(76705),bs=n(46683);var hs=n(74571),xs=n(76875),ys=n(57167),Rs=n(17515);var ks=n(92535),Es=n(4496);var js=n(676),Cs=n(3169),ws=n(92633);n(10565),n(2795);var Os=n(1380),Ss=n(39876),As=n(88420),Ns={get DEFAULT_PLAYBACK_STUCK(){return h.Ru.get("feedback.cant-play-track")},get FORCED_OFFLINE_MODE(){return h.Ru.get("feedback.track-not-available-forced-offline")},get CANT_OFFLINE_SYNC_PLAYLIST_IN_OFFLINE_MODE(){return h.Ru.get("feedback.cant-offline-sync-playlist-in-offline-mode")},get ARTIST_BANNED_BY_USER(){return h.Ru.get("feedback.artist-banned-by-user")},get TRACK_BANNED_BY_USER(){return h.Ru.get("feedback.track-banned-by-user")},get REGION_RESTRICTED(){return h.Ru.get("feedback.track-not-available-in-region-import")},get DEFAULT_PLAYER_ERROR(){return h.Ru.get("feedback.track-not-available-import")},get NETWORK_ERROR(){return h.Ru.get("feedback.video-playback-network-error")},get PREMIUM_RESTRICTED(){return h.Ru.get("feedback.track-exclusive-premium")},get CANT_SKIP_ADS(){return h.Ru.get("feedback.cant-skip-ads")},get CANT_PLAY_DURING_ADS(){return h.Ru.get("feedback.cant-play-during-ads")},get SKIP_ADS_TO_HEAR_SONG(){return h.Ru.get("feedback.skip-ads-to-hear-song")},get SKIP_AFTER_DELAY(){return h.Ru.get("feedback.skip-ads-after-delay")},get CAPPING_REACHED(){return h.Ru.get("capping.upsell-title")},get VIDEO_GEORESTRICTED(){return h.Ru.get("feedback.video-georestricted")},get VIDEO_UNSUPPORTED_CLIENT_VERSION(){return h.Ru.get("feedback.video-unsupported-client-version")},get VIDEO_UNSUPPORTED_PLATFORM_VERSION(){return h.Ru.get("feedback.video-unsupported-platform-version")},get VIDEO_COUNTRY_RESTRICTED(){return h.Ru.get("feedback.video-country-restricted")},get VIDEO_UNAVAILABLE(){return h.Ru.get("feedback.video-unavailable")},get VIDEO_CATALOGUE_RESTRICTED(){return h.Ru.get("feedback.video-catalogue-restricted")},get VIDEO_PLAYBACK_ERROR(){return h.Ru.get("feedback.video-playback-error")},get VIDEO_UNSUPPORTED_KEY_SYSTEM(){return h.Ru.get("feedback.video-unsupported-key-system")},get EXPLICIT_CONTENT_FILTERED(){return h.Ru.get("feedback.explicit-content-filtered")},get INTERRUPT_PLAYBACK_RESTRICTED(){return h.Ru.get("feedback.play-after-ad")}};function Is(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,Ss.N)(n)&&n.isSkippableAd}function _s(e,t,n){switch(t.code){case Os.Z9.PLAYBACK_STUCK:return Ns.DEFAULT_PLAYBACK_STUCK;case Os.Z9.ONE_TRACK_UNPLAYABLE:case Os.Z9.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED:case Os.Z9.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED:return(r=t.reasons).includes(Os.K7.NOT_AVAILABLE_IN_CURRENT_REGION)?Ns.REGION_RESTRICTED:r.includes(Os.K7.NOT_AVAILABLE_IN_NON_PREMIUM)?Ns.PREMIUM_RESTRICTED:r.includes(Os.K7.NOT_AVAILABLE_OFFLINE)?Ns.FORCED_OFFLINE_MODE:r.includes(Os.K7.USER_CAPPING_REACHED)?Ns.CAPPING_REACHED:r.includes(Os.K7.BANNED_BY_USER_ARTIST)?Ns.ARTIST_BANNED_BY_USER:r.includes(Os.K7.BANNED_BY_USER_TRACK)?Ns.TRACK_BANNED_BY_USER:r.includes(Os.K7.EXPLICIT_CONTENT_FILTERED)?Ns.EXPLICIT_CONTENT_FILTERED:Ns.DEFAULT_PLAYER_ERROR;case Os.Z9.INTERRUPT_PLAYBACK_RESTRICTED:return Ns.INTERRUPT_PLAYBACK_RESTRICTED;case Os.Z9.VIDEO_GEORESTRICTED:return Ns.VIDEO_GEORESTRICTED;case Os.Z9.VIDEO_UNSUPPORTED_CLIENT_VERSION:return Ns.VIDEO_UNSUPPORTED_CLIENT_VERSION;case Os.Z9.VIDEO_UNSUPPORTED_PLATFORM_VERSION:return Ns.VIDEO_UNSUPPORTED_PLATFORM_VERSION;case Os.Z9.VIDEO_COUNTRY_RESTRICTED:return Ns.VIDEO_COUNTRY_RESTRICTED;case Os.Z9.VIDEO_UNAVAILABLE:return Ns.VIDEO_UNAVAILABLE;case Os.Z9.VIDEO_CATALOGUE_RESTRICTED:return Ns.VIDEO_CATALOGUE_RESTRICTED;case Os.Z9.VIDEO_PLAYBACK_ERROR:return Ns.VIDEO_PLAYBACK_ERROR;case Os.Z9.VIDEO_UNSUPPORTED_KEY_SYSTEM:return Ns.VIDEO_UNSUPPORTED_KEY_SYSTEM;case Os.Z9.PAUSE_RESTRICTED:return t.reasons.some((function(e){return[Os.K7.ALREADY_PAUSED,Os.K7.NOT_PLAYING_LOCALLY].includes(e)}))?null:Ns.DEFAULT_PLAYER_ERROR;case Os.Z9.RESUME_RESTRICTED:return t.reasons.includes(Os.K7.NOT_PAUSED)?null:Ns.DEFAULT_PLAYER_ERROR;case Os.Z9.PLAY_RESTRICTED:return t.reasons.includes(Os.K7.AD_DISALLOW)?Is(e)?Ns.SKIP_ADS_TO_HEAR_SONG:Ns.CANT_SKIP_ADS:null;case Os.Z9.SKIP_TO_NEXT_RESTRICTED:return t.reasons.includes(Os.K7.AD_DISALLOW)?Is(e)?Ns.SKIP_AFTER_DELAY:Ns.CANT_PLAY_DURING_ADS:null;case Os.Z9.TIMEOUT:return Ns.NETWORK_ERROR;case Os.Z9.SKIP_TO_PREV_RESTRICTED:return t.reasons.includes(Os.K7.THROTTLED)?null:Ns.DEFAULT_PLAYER_ERROR;default:return function(e,t){return!(t||!e.cause||!("status"in e.cause))&&0===e.cause.status}(t,n)?Ns.NETWORK_ERROR:Ns.DEFAULT_PLAYER_ERROR}var r}var Ts=n(22393);var Ls=n(13001),Ds=n(33981);var Ps=n(59950),Ms=n(8159),Us=n(4726),Bs=n(31722),Fs=n(40555),Ws=function(){var e,t,n,r;return e=(0,Ka.K)(),t=(0,Ga.n)(),n=(0,Re.D)().currentSession,r=(0,os.d)().enqueueSnackbar,(0,bs.p)(vs.gd.ERROR,(function(a){var i,s=a.data,o=e.getState(),c=_s(o,s,t);null!==c&&(null!=n&&n.active&&s.code===Os.Z9.STOP_RESTRICTED||(0,As.d)(null!==(i=null==o?void 0:o.item)&&void 0!==i?i:void 0)||r(c))})),function(){var e=(0,os.d)().enqueueSnackbar,t=(0,Ga.n)();(0,bs.p)(vs.gd.QUEUE_ACTION_COMPLETE,(function(n){var r=n.data;r.action===vs.UC.ADD&&(r.error?t?((0,fs.$)("feedback_banner","error","error.generic"),e(h.Ru.get("error.generic"))):e(h.Ru.get("offline.feedback-text")):e(h.Ru.get("queue.added-to-queue")))}))}(),function(){var e=(0,os.d)().enqueueSnackbar,t=(0,Rs.W)(),n=(0,o.useContext)(xs.w),r=(0,Ga.n)();(0,ys.e)(hs.Lj.OPERATION_COMPLETE,function(){var i=(0,a.A)(s().mark((function a(i){var o,c,l,u,d;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((o=i.data).operation===hs.sP.ADD){a.next=3;break}return a.abrupt("return");case 3:if(!o.silent){a.next=5;break}return a.abrupt("return");case 5:if(!o.error){a.next=8;break}return r?((0,fs.$)("feedback_banner","error","error.generic"),e(h.Ru.get("error.generic"))):e(h.Ru.get("offline.feedback-text")),a.abrupt("return");case 8:return a.prev=8,a.next=11,n.getMetadata(o.uri);case 11:c=a.sent,l=c.name,u=c.images,d=(0,p.g)(u,{desiredSize:24}),t({message:h.Ru.get("feedback.added-to-playlist-specific",l),imageSrc:null==d?void 0:d.url}),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(8),e(h.Ru.get("feedback.added-to-playlist-generic"));case 21:case"end":return a.stop()}}),a,null,[[8,18]])})));return function(e){return i.apply(this,arguments)}}())}(),function(){var e=(0,N.a)().getEvents(),t=(0,Ga.n)(),n=(0,os.d)().enqueueSnackbar,r=(0,c.d4)((function(e){var t;return null===(t=e.session)||void 0===t||null===(t=t.user)||void 0===t?void 0:t.id}));(0,o.useEffect)((function(){var a=function(e){var a,i=e.data;if(i.error)t?((0,fs.$)("feedback_banner","error","error.generic"),n(h.Ru.get("error.generic"))):n(h.Ru.get("offline.feedback-text"));else switch(i.operation){case Ts.mA.SET_BASE_PERMISSION:return a="VIEWER"===i.permissionLevel?h.Ru.get("feedback.playlist-made-public"):h.Ru.get("feedback.playlist-made-private"),void n(a);case Ts.mA.SET_MEMBER_PERMISSION:return a="VIEWER"===i.permissionLevel?h.Ru.get("feedback.member-made-listener"):h.Ru.get("feedback.member-made-contributor"),void n(a);case Ts.mA.REMOVE_MEMBER:return a=r===i.username?h.Ru.get("feedback.left-playlist"):h.Ru.get("feedback.removed-member"),void n(a)}};return e.addListener(Ts.GV.OPERATION_COMPLETE,a),function(){e.removeListener(Ts.GV.OPERATION_COMPLETE,a)}}),[r,n,t,e])}(),function(){var e=(0,o.useContext)(Ls.S).getEvents(),t=(0,Ga.n)(),n=(0,os.d)().enqueueSnackbar;(0,o.useEffect)((function(){var r=function(e){var r=e.data;if(!r.silent)if(r.error)t?((0,fs.$)("feedback_banner","error","error.generic"),n(h.Ru.get("error.generic"))):n(h.Ru.get("offline.feedback-text"));else switch(r.operation){case Ds.ut.ADD:return void n(h.Ru.get("web-player.aligned-curation.feedback.added-to-library"));case Ds.ut.REMOVE:return void n(h.Ru.get("web-player.aligned-curation.feedback.removed-from-library"));case Ds.ut.MOVE:return void(r.showAddConfirmation&&n(h.Ru.get("web-player.aligned-curation.feedback.added-to-library")))}};return e.addListener(Ds.tD.OPERATION_COMPLETE,r),function(){e.removeListener(Ds.tD.OPERATION_COMPLETE,r)}}),[n,t,e])}(),function(){var e=(0,os.d)().enqueueSnackbar,t=(0,Rs.W)(),n=(0,Ga.n)();(0,ws.l)(Cs.UV.OPERATION_COMPLETE,function(){var r=(0,a.A)(s().mark((function r(a){var i,o,c,l,u,d,m,g,f,v;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!a.data.silent){r.next=2;break}return r.abrupt("return");case 2:if(!a.data.error){r.next=5;break}return n?((0,fs.$)("feedback_banner","error","error.generic"),e(h.Ru.get("error.generic"))):e(h.Ru.get("offline.feedback-text")),r.abrupt("return");case 5:if(o=(0,A.A)(a.data.uris,1),c=o[0],(l=null===(i=(0,Ot.o_)(c))||void 0===i?void 0:i.type)!==Ot.NQ.TRACK&&l!==Ot.NQ.LOCAL_TRACK){r.next=14;break}if(d=(0,js.zK)()){r.next=11;break}return r.abrupt("return");case 11:return m=a.data.operation===Cs.tS.ADD?h.Ru.get("web-player.aligned-curation.feedback.added",d.name):h.Ru.get("web-player.aligned-curation.feedback.removed",d.name),t({message:m,imageSrc:null===(u=(0,p.g)(d.images,{desiredSize:24}))||void 0===u?void 0:u.url}),r.abrupt("return");case 14:if(l!==Ot.NQ.EPISODE){r.next=21;break}if(f=(0,js.dB)()){r.next=18;break}return r.abrupt("return");case 18:return v=a.data.operation===Cs.tS.ADD?h.Ru.get("web-player.aligned-curation.feedback.added",f.name):h.Ru.get("web-player.aligned-curation.feedback.removed",f.name),t({message:v,imageSrc:null===(g=(0,p.g)(f.images,{desiredSize:24}))||void 0===g?void 0:g.url}),r.abrupt("return");case 21:e(a.data.operation===Cs.tS.ADD?h.Ru.get("web-player.aligned-curation.feedback.added-to-library"):h.Ru.get("web-player.aligned-curation.feedback.removed-from-library"));case 22:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}(),function(){var e=(0,Es.l)(),t=(0,os.d)().enqueueSnackbar;(0,o.useEffect)((function(){var n=e.getEvents(),r=function(e){var n=e.data;"client"===n.source&&"ignoreinrecs"===n.set&&t(h.Ru.get("feedback.exclude-playlist-from-recommendations"))},a=function(e){var n=e.data;"client"===n.source&&"ignoreinrecs"===n.set&&t(h.Ru.get("feedback.include-playlist-in-recommendations"))};return n.addListener(ks.ar.ADDED,r),n.addListener(ks.ar.REMOVED,a),function(){n.removeListener(ks.ar.ADDED,r),n.removeListener(ks.ar.REMOVED,a)}}),[t,e])}(),function(){var e=(0,Re.D)().currentSession,t=(0,os.d)().enqueueSnackbar,n=(0,o.useRef)([]),r=(0,o.useRef)([]),a=(0,Ms.YQ)((function(e){var a,i,s,o,c,l,u,d;if(e.isSessionOwner){switch(n.current.length){case 0:break;case 1:t(h.Ru.get("web-player.social-connect.toast.one-person-joined",{user:null!==(a=n.current[0])&&void 0!==a?a:""})),n.current=[];break;case 2:t(h.Ru.get("web-player.social-connect.toast.two-people-joined",{firstUser:null!==(i=n.current[0])&&void 0!==i?i:"",secondUser:null!==(s=n.current[1])&&void 0!==s?s:""})),n.current=[];break;default:t(h.Ru.get("web-player.social-connect.toast.multiple-people-joined",{user:null!==(o=n.current[n.current.length-1])&&void 0!==o?o:"",userCount:n.current.length-1})),n.current=[]}switch(r.current.length){case 0:break;case 1:t(h.Ru.get("web-player.social-connect.toast.one-person-left",{user:null!==(c=r.current[0])&&void 0!==c?c:""})),r.current=[];break;case 2:t(h.Ru.get("web-player.social-connect.toast.two-people-left",{firstUser:null!==(l=r.current[0])&&void 0!==l?l:"",secondUser:null!==(u=r.current[1])&&void 0!==u?u:""})),r.current=[];break;default:t(h.Ru.get("web-player.social-connect.toast.multiple-people-left",{user:null!==(d=r.current[r.current.length-1])&&void 0!==d?d:"",userCount:r.current.length-1})),r.current=[]}}}),3e3,{leading:!0,trailing:!0}),i=(0,o.useCallback)((function(e){var n,r=e.data;null===r.isSessionOwner||r.isSessionOwner||t(h.Ru.get("web-player.social-connect.toast.ended",{user:null!==(n=r.hostDisplayName)&&void 0!==n?n:""}))}),[t]),s=(0,o.useCallback)((function(e){var t=e.data;n.current=t.users?[].concat((0,Ps.A)(n.current),(0,Ps.A)(t.users)):n.current,a(t)}),[a]),c=(0,o.useCallback)((function(e){var t=e.data;r.current=t.users?[].concat((0,Ps.A)(r.current),(0,Ps.A)(t.users)):r.current,a(t)}),[a]),l=(0,o.useCallback)((function(n){var r=n.data;e&&((null==e?void 0:e.queueOnlyMode)!==(null==r?void 0:r.queueOnlyMode)&&(!1===(null==r?void 0:r.queueOnlyMode)?t(e.isSessionOwner?h.Ru.get("web-player.social-connect.toast.queue-only-mode.host.disabled"):h.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.disabled")):!0===(null==r?void 0:r.queueOnlyMode)&&t(e.isSessionOwner?h.Ru.get("web-player.social-connect.toast.queue-only-mode.host.enabled"):h.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.enabled"))),(null==e?void 0:e.participantVolumeControl)!==(null==r?void 0:r.participantVolumeControl)&&("ENABLED"===(null==r?void 0:r.participantVolumeControl)?t(h.Ru.get("web-player.social-connect.toast.participant-volume-control.enabled")):"DISABLED"===(null==r?void 0:r.participantVolumeControl)&&t(e.isSessionOwner?h.Ru.get("web-player.social-connect.toast.participant-volume-control.host.disabled"):h.Ru.get("web-player.social-connect.toast.participant-volume-control.guest.disabled"))))}),[e,t]),u=(0,o.useCallback)((function(e){e.data===Fs.RG.PERMISSIONS_RESTRICTED_GENERIC&&t(h.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.warning"))}),[t]);(0,Bs.J)(Us.K.SESSION_ENDED,i),(0,Bs.J)(Us.K.JOINED,s),(0,Bs.J)(Us.K.LEFT,c),(0,Bs.J)(Us.K.UPDATE,l),(0,Bs.J)(Us.K.SESSION_MESSAGE,u)}(),null},Vs=n(84613),Hs=n(71515),zs=n(43843);function Gs(e,t){if(e){var n=(0,Ot.o_)(e,{parseUnknown:!0});if(n){t(n.toURLPath(!0))}else{var r=document.createElement("a");r.href=e,r.target="_blank",r.click()}}}var Ks=function(e,t){return function(n){switch(n.action){case"DISMISS":default:return void e();case"URL":var r=n.url;return Gs(void 0===r?"":r,t),void e();case"EXTERNAL_URL":var a=n.url;return void Gs(void 0===a?"":a,t)}}},Ys=n(90907);function qs(e,t,n,r){if(e&&""===e.innerHTML){var a=function(e,t,n){var r=(0,Hs.kp)();if(r){var a=r.createIframe(e,n);return a.setAttribute("data-testid","inAppMessageIframe"),a.style.borderRadius="5px",a.style.margin="auto",a.style.opacity="0",a.style.transition="opacity 150ms linear",a.addEventListener("load",(function(){var e=a.contentWindow,n=a.contentDocument;e&&function(e){e&&e.focus()}(e),n&&(Ys.M.setup(n),function(e,t){var n=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=n[0],a=n[n.length-1];e.addEventListener("keydown",(function(e){"Tab"===e.key&&e.target===a&&(e.preventDefault(),r.focus()),e.shiftKey&&"Tab"===e.key&&a.focus(),"Escape"!==e.key&&27!==e.keyCode||t()}),!0)}(n,t)),a.style.opacity="1"})),a}return null}(t,n,r);a&&e.appendChild(a)}}function Qs(e){var t=e.message,n=(0,o.useRef)(null);return function(e,t){var n=(0,c.wA)(),r=(0,Ha.Zp)(),a=(0,o.useCallback)((function(){n((0,zs.yv)())}),[n]);(0,o.useEffect)((function(){var n=t.current;return qs(n,e,a,Ks(a,r)),function(){!function(e){e&&(e.innerHTML="")}(n)}}),[e,a,n,t,r])}(t,n),(0,f.jsx)("div",{"data-testid":"inAppMessageContainer",ref:n})}function Zs(){return(0,f.jsx)(o.Suspense,{fallback:null,children:(0,f.jsx)(Js,{})})}function Js(){var e,t=(0,l.NC)(k.e6f),n=(e=(0,c.wA)(),{message:(0,c.d4)((function(e){var t;return null===(t=e.inAppMessaging)||void 0===t?void 0:t.message})),dismissMessage:(0,o.useCallback)((function(){e((0,zs.yv)())}),[e])}),r=n.message,a=n.dismissMessage,i=!!r&&r.format===Hs.m0;return t?(0,f.jsx)(O.A,{animated:!0,contentLabel:"In-App Message Modal",isOpen:i,onRequestClose:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!1,children:i&&!!r&&(0,f.jsx)(Qs,{message:r})}):null}var Xs=n(22492),$s=(n(64465),n(47626));const eo="tJeH2W2to1A7d9tWBRoi",to="oNjdJbGQ9ypf7KR0nYJW",no="ibrRlYShsgThsh8VNS8Q",ro="Yl9jzsnP8e_5i9me3h7H",ao="vxBybZOmHdDF_nmLE4sa";var io=(0,o.memo)((function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.aboutRecs})).isOpen,n=(0,o.useCallback)((function(){e((0,$s.oK)())}),[e]),r=Bn.gray20.substr(1),a="https://about-recommendations.spotify.com/?bg=".concat(r,"&hideHeader=true");return(0,f.jsx)(O.A,{animated:!0,isOpen:t,onRequestClose:n,contentLabel:h.Ru.get("context-menu.about-recommendations"),children:(0,f.jsxs)("div",{className:eo,children:[(0,f.jsx)(j.E,{as:"h1",variant:"titleMedium",semanticColor:"textBase",className:to,children:h.Ru.get("context-menu.about-recommendations")}),(0,f.jsx)("div",{className:no,children:(0,f.jsx)("iframe",{className:ro,title:h.Ru.get("context-menu.about-recommendations"),src:a})}),(0,f.jsx)("button",{"aria-label":h.Ru.get("close_button_action"),className:ao,onClick:n,children:(0,f.jsx)(w.M,{size:"medium"})})]})})})),so=(n(48027),function(e){var t=e.className;return(0,f.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:[(0,f.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",fill:"#E22134",rx:"7.467"}),(0,f.jsx)("path",{fill:"#fff",d:"M6.143 12V4.437h-1.28c-.15.79-.907 1.387-1.995 1.419v1.003h1.813V12h1.462zm5.092-5.13c0 .82-.65 1.343-1.386 1.343-.758 0-1.387-.512-1.387-1.344 0-.81.64-1.333 1.387-1.333.736 0 1.386.533 1.386 1.333zm-4 4.874c.384.245 1.12.416 1.75.416 2.56 0 3.893-1.61 3.893-4.341 0-2.4-1.397-3.542-2.997-3.542-1.611 0-2.859 1.088-2.859 2.635 0 1.59 1.227 2.539 2.603 2.539.853 0 1.514-.363 1.802-.843-.074 1.397-.96 2.261-2.453 2.261-.512 0-1.067-.16-1.355-.32l-.384 1.195z"}),(0,f.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",stroke:"#fff",strokeWidth:"1.067",rx:"7.467"})]})});function oo(e,t,n,r){if(n<=0||r<=0||r>1)return{height:-1,width:-1,parentHeight:e,parentWidth:t};var a=e*t,i=1/r*n,s=Math.sqrt(a/i);return{height:s,width:s*n,parentHeight:e,parentWidth:t}}const co="dzS9k6yn4XzF3jWcS3W2",lo="ezHLQVkVclgu_n15ybG6",uo="gQ3lUcmizympex29IHL7",mo="VDUUJg30Ewzy9OP54arn";function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fo=(0,r.A)((0,r.A)((0,r.A)({},ln.E.SMALL,1),ln.E.MEDIUM,.72),ln.E.LARGE,1.82),vo=(0,r.A)((0,r.A)((0,r.A)({},ln.E.SMALL,0),ln.E.MEDIUM,600),ln.E.LARGE,1024),bo=function(e){var t=e.image,n=e.onConfirm,a=e.backgroundColor,i=function(e){return Object.keys(vo).reverse().find((function(t){var n=vo[t];return e>=n?t:null}))}(window.innerWidth),s=function(e,t){var n=(0,o.useState)((function(){return oo(window.innerHeight,window.innerWidth,e,t)})),r=(0,A.A)(n,2),a=r[0],i=r[1],s=(0,o.useRef)(),c=(0,o.useCallback)((function(){i(oo(window.innerHeight,window.innerWidth,e,t))}),[e,t]);return(0,o.useEffect)((function(){return s.current||(i(oo(window.innerHeight,window.innerWidth,e,t)),window.addEventListener("resize",c),s.current=!0),function(){s.current&&(i(oo(window.innerHeight,window.innerWidth,e,t)),window.removeEventListener("resize",c),s.current=!1)}}),[e,t,c]),a}(fo[i],.3333333333333333),c=a?{backgroundColor:a}:{},l=function(e,t,n,r){return e===ln.E.SMALL?{width:"100vw",height:"100vh"}:e===ln.E.MEDIUM&&r<750||e===ln.E.LARGE&&r<520?{width:"inherit",height:"inherit"}:{width:"".concat(Math.ceil(t),"px"),height:"".concat(Math.ceil(n),"px")}}(i,s.width,s.height,s.parentHeight),u=(0,f.jsxs)("span",{children:[(0,f.jsx)("span",{className:lo,children:h.Ru.get("age.restriction.explicitContent")}),(0,f.jsx)(so,{className:uo})]}),d=(0,f.jsx)(Le.$,{colorSet:"invertedLight",onClick:n,children:h.Ru.get("age.restriction.continue")});return(0,f.jsx)(dn,{className:P()(co,(0,r.A)({},mo,1===fo[i])),style:go(go({},l),c),image:t,title:h.Ru.get("age.restriction.confirmAge"),description:u,primaryButton:d,size:i})},ho=n(53150);const xo="J2uBhFKAVeDnSUb6Diq_",yo="dlCbZFZLaxVOGbVUleiV";var Ro=function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){var t=e.ageRestriction;return{image:"",backgroundColor:t.dialog.backgroundColor,providerUrl:t.dialog.providerUrl}}),(function(e,t){return e.image===t.image&&e.backgroundColor===t.backgroundColor&&e.providerUrl===t.providerUrl})),n=t.image,r=t.backgroundColor,a=t.providerUrl;return(0,f.jsxs)("div",{className:xo,children:[(0,f.jsx)(bo,{image:n,onConfirm:function(){window.location.assign(a)},backgroundColor:r}),(0,f.jsx)("div",{className:yo,children:(0,f.jsx)(De.H,{onClick:function(){e((0,ho.Rb)())},children:h.Ru.get("close")})})]})},ko=function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.ageRestriction.isOpen}));return(0,f.jsx)(O.A,{animated:!0,onRequestClose:function(){e((0,ho.Rb)())},contentLabel:h.Ru.get("age.restriction.confirmAge"),isOpen:t,children:(0,f.jsx)(Ro,{})})},Eo=n(1610),jo=n(82933),Co=n(68688);const wo="main-keyboardShortcutsHelpModal-container",Oo="gPDYH11Cr1B2ZtS9z0P8",So="IIQWD0tGOaagAN9uP_4h",Ao="LdrQgiV3Kav0IR6Oqsej";var No=(0,o.memo)((function(){var e=(0,c.wA)(),t=(0,c.d4)(Co.Ht).user,n=(0,c.d4)((function(e){return e.ui.blockUserDialog})),r=n.name,i=n.uri,l=n.isOpen,u=(0,os.d)().enqueueSnackbar,m=(0,jo.A9)(),p=(0,o.useCallback)((0,a.A)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&i){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,(0,Eo.rn)(m,{currentUserUri:null==t?void 0:t.uri,uri:i});case 5:e((0,d.xF)()),u(h.Ru.get("feedback.block-user")),n.next=13;break;case 9:throw n.prev=9,n.t0=n.catch(2),e((0,d.xF)()),n.t0;case 13:case"end":return n.stop()}}),n,null,[[2,9]])}))),[t,i,m,e,u]),g=(0,o.useCallback)((function(){e((0,d.xF)())}),[e]),v=(0,o.useCallback)((function(){e((0,d.xF)())}),[e]);return(0,f.jsx)(O.A,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:v,contentLabel:h.Ru.get("block-user.dialog.title",r),isOpen:l,children:(0,f.jsxs)("div",{className:wo,children:[(0,f.jsx)(j.E,{as:"h2",variant:"bodyMediumBold",className:Oo,children:h.Ru.get("block-user.dialog.title",r)}),(0,f.jsx)(j.E,{as:"p",variant:"bodySmall",className:So,paddingBottom:$i.lT,children:h.Ru.get("block-user.dialog.description",r)}),(0,f.jsxs)("div",{className:P()("encore-light-theme",Ao),children:[(0,f.jsx)(De.H,{buttonSize:De.H.md,onClick:g,children:h.Ru.get("block-user.dialog.cancel")}),(0,f.jsx)(Le.$,{onClick:p,buttonSize:Le.$.md,children:h.Ru.get("block-user.dialog.block")})]})]})})})),Io=(n(78618),n(42960)),_o=(0,o.memo)((function(){var e=(0,c.wA)(),t=(0,yn.W)(),n=(0,Io.Z)().removeFolder,r=(0,Ha.Zp)(),a=(0,Ha.zy)(),i=(0,c.d4)((function(e){return e.ui.deleteFolderDialog})),s=i.uri,l=i.onDeleteCallback,u=(0,o.useCallback)((function(){e((0,d.c$)())}),[e]),m=(0,o.useCallback)((function(){var e;s&&(t({targetUri:s,intent:"delete-folder",type:"click",itemIdSuffix:"delete"}),n(s),u(),null!==(e=(0,Ot.o_)(s))&&void 0!==e&&e.toURLPath().endsWith(a.pathname)&&r("/",{replace:!0}),l&&l())}),[s,t,n,u,a.pathname,l,r]);return(0,f.jsx)(x.T,{"aria-label":h.Ru.get("folder.delete-header"),titleText:h.Ru.get("folder.delete-header"),onConfirm:m,onClose:u,confirmText:h.Ru.get("contextmenu.delete"),confirmLabel:h.Ru.get("folder.delete-header"),cancelText:h.Ru.get("queue.cancel-button")})})),To=n(63994),Lo=n(76998),Do=(n(97563),n(34382),n(36096),n(82399),{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Po=/[&<>"']/g,Mo=RegExp(Po.source);var Uo=Object.values(Do);RegExp("".concat(Uo.join("|")),"g"),RegExp("".concat(Uo.join("|")));var Bo=(0,o.memo)((function(e){var t,n=e.uri,r=(0,Ha.Zp)(),a=(0,Ha.zy)(),i=(0,c.wA)(),s=(0,yn.W)(),l=(0,To.A)(n),u=(0,A.A)(l,2)[1],m=(0,Lo.J)(n),p=(0,o.useCallback)((function(){s({targetUri:n,intent:"delete-playlist",type:"click",itemIdSuffix:"delete"}),u(!1),i((0,d._P)()),(0,Ot.B2)(n,a.pathname)&&r("/",{replace:!0})}),[s,n,u,i,a.pathname,r]),g=(0,o.useCallback)((function(){i((0,d._P)())}),[i]);return m&&(0,f.jsx)(x.T,{"aria-label":h.Ru.get("playlist.delete",m.name),titleText:h.Ru.get("playlist.delete-title",m.name),descriptionText:h.Ru.get("playlist.delete-description",(t=m.name,t&&Mo.test(t)?t.replace(Po,(function(e){return e in Do?Do[e]:e})):t)),onConfirm:p,onClose:g,confirmText:h.Ru.get("contextmenu.delete"),confirmLabel:h.Ru.get("playlist.delete",m.name),cancelText:h.Ru.get("queue.cancel-button"),allowHTML:!0})})),Fo=function(){var e=(0,c.d4)((function(e){return e.ui.deletePlaylistDialog.uri}));return e?(0,f.jsx)(Bo,{uri:e}):null},Wo=(0,o.lazy)((0,a.A)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(8493).then(n.bind(n,62731));case 2:return t=e.sent,r=t.AboutSpotifyModal,e.abrupt("return",{default:r});case 5:case"end":return e.stop()}}),e)})))),Vo=(0,o.lazy)((0,a.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(8493).then(n.bind(n,12033));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));function Ho(){return(0,f.jsxs)(o.Suspense,{fallback:null,children:[(0,f.jsx)(Wo,{}),(0,f.jsx)(Vo,{})]})}var zo=n(42551),Go=n(87236);const Ko="main-duplicateTrackModal-container",Yo="main-duplicateTrackModal-title",qo="main-duplicateTrackModal-description",Qo="main-duplicateTrackModal-buttonContainer";function Zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xo=(0,zo.Mz)((function(e){return e.duplicateTracks}),(function(e){var t=!!e.uri;return Jo(Jo({},e),{},{onlyOneTrack:t,uris:t&&e.uri?[e.uri]:e.uris})})),$o=(0,o.memo)((function(){var e,t=(0,c.wA)(),n=(0,o.useContext)(xs.w),r=(0,c.d4)(Xo),a=r.isOpen,i=r.playlistName,s=r.playlistUri,l=r.uris,u=void 0===l?[]:l,d=r.onlyOneTrack,m=r.position,p=void 0===m?{after:"end"}:m,g=r.newUris,v=void 0===g?[]:g,b=null==v?void 0:v.length,x=!d&&b,y=(0,o.useCallback)((function(){x&&n.add(s,v,p),t((0,Go.Qo)())}),[n,x,v,p,s,t]),R=(0,o.useCallback)((function(){n.add(s,u,p),t((0,Go.Qo)())}),[n,u,p,s,t]),k=(0,o.useCallback)((function(){t((0,Go.Qo)())}),[t]);return e=x?h.Ru.get("duplicate.tracks.someAlreadyAddedDescription",i):d?h.Ru.get("duplicate.tracks.oneAlreadyAdded",i):h.Ru.get("duplicate.tracks.allAlreadyAdded",i),(0,f.jsx)(O.A,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:k,contentLabel:h.Ru.get("duplicate.tracks.alreadyAdded"),isOpen:a,children:(0,f.jsxs)("div",{className:Ko,children:[(0,f.jsx)(j.E,{as:"h2",variant:"bodyMediumBold",className:Yo,children:x?h.Ru.get("duplicate.tracks.someAlreadyAdded"):h.Ru.get("duplicate.tracks.alreadyAdded")}),(0,f.jsx)(j.E,{as:"p",variant:"bodySmall",className:qo,paddingBottom:$i.lT,children:e}),(0,f.jsxs)("div",{className:P()("encore-light-theme",Qo),children:[(0,f.jsx)(De.H,{onClick:R,children:x?h.Ru.get("duplicate.tracks.addAll"):h.Ru.get("duplicate.tracks.addAnyway")}),(0,f.jsx)(Le.$,{onClick:y,children:x?h.Ru.get("duplicate.tracks.addNewOnes"):h.Ru.get("duplicate.tracks.dontAdd")})]})]})})})),ec=n(84571),tc=n(75745),nc=n(31763),rc=n(86470),ac=n(41554),ic=n(1567),sc=n(41914),oc=n(99242),cc=n(2328),lc=function(){var e,t,n=(0,Ha.Zp)(),r=(0,c.wA)(),i=(0,Ha.zy)(),o=(0,c.d4)((function(e){return e.ui.history.canGoBack})),l=(0,c.d4)((function(e){return e.ui.history.canGoForward})),u=(0,ac.A)().createPlaylist,m=(0,Io.Z)().createFolder,p=(0,Ke.L)(),g=p.openURL,f=p.openURLWithSessionTransfer,v=(0,xe.r)(ec.r,{data:{uri:null!==(e=null===(t=(0,Ot.o_)(i.pathname))||void 0===t?void 0:t.toURI())&&void 0!==e?e:""},parentAbsoluteLocation:{locations:[]}}),b=v.spec,x=v.logger;return(0,Ua.x)(Ma.W.CREATE_NEW_PLAYLIST,(0,a.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:case"end":return e.stop()}}),e)})))),(0,Ua.x)(Ma.W.CREATE_NEW_FOLDER,(0,a.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(h.Ru.get("playlist.default_folder_name"),{before:"start"});case 2:case"end":return e.stop()}}),e)})))),(0,Ua.x)(Ma.W.BROWSE_BACKWARD,(function(){o&&n(-1)})),(0,Ua.x)(Ma.W.BROWSE_FORWARD,(function(){l&&n(1)})),(0,Ua.x)(Ma.W.LOGOUT,(function(){r((0,ic.wH)())})),(0,Ua.x)(Ma.W.SHOW_ABOUT,(function(){r((0,sc.Uu)())})),(0,Ua.x)(Ma.W.SHOW_PREFERENCES,(function(){n("/preferences")})),(0,Ua.x)(Ma.W.SHOW_SEARCH,(function(){/\/search(\/.*|)$/.test(i.pathname)||n("/search",{state:{preventMoveFocus:!0}})})),(0,Ua.x)(Ma.W.SHOW_ACCOUNT,(function(){f("https://spotify.com/account/overview/")})),(0,Ua.x)(Ma.W.SHOW_COMMUNITY,(function(){f("https://community.spotify.com/")})),(0,Ua.x)(Ma.W.SHOW_HELP,(function(){f("https://support.spotify.com/")})),(0,Ua.x)(Ma.W.SHOW_LICENSES,(function(){r((0,oc.FS)())})),(0,Ua.x)(Ma.W.SHOW_LICENSING_INFORMATION,(function(){g("https://www.spotify.com/int/legal/licensing-info/")})),(0,Ua.x)(Ma.W.SHOW_SCTA_INFORMATION,(function(){g("https://www.spotify.com/int/legal/specified-commercial-transactions")})),(0,Ua.x)(Ma.W.ENTER_FULLSCREEN,(function(){x.logInteraction(b.fullscreenButtonFactory().hitUiReveal()),r((0,d.Kk)())})),(0,Ua.x)(Ma.W.LEAVE_FULLSCREEN,(function(){x.logInteraction(b.fullscreenButtonFactory().hitUiHide()),r((0,d.DH)())})),(0,Ua.x)(Ma.W.SET_PLATFORM_EMULATION_AUTO,(function(){(0,cc.O)((0,nc.My)(),(0,rc.D)())})),(0,Ua.x)(Ma.W.SET_PLATFORM_EMULATION_MACOS,(function(){(0,cc.O)((0,nc.My)(),tc.f.macOS)})),(0,Ua.x)(Ma.W.SET_PLATFORM_EMULATION_WINDOWS,(function(){(0,cc.O)((0,nc.My)(),tc.f.Windows)})),(0,Ua.x)(Ma.W.SET_PLATFORM_EMULATION_LINUX,(function(){(0,cc.O)((0,nc.My)(),tc.f.Linux)})),null},uc=n(11891);const dc="main-keyboardShortcutsHelpModal-container",mc="main-keyboardShortcutsHelpModal-header",pc="main-keyboardShortcutsHelpModal-closeBtn",gc="main-keyboardShortcutsHelpModal-sectionsContainer",fc="main-keyboardShortcutsHelpModal-sections",vc="main-keyboardShortcutsHelpModal-sectionHeading",bc="main-keyboardShortcutsHelpModal-sectionItem",hc="main-keyboardShortcutsHelpModal-sectionItemName",xc="main-keyboardShortcutsHelpModal-key";var yc=function(e){switch(e){case"mod":return"macOS"===Gt().getParser(window.navigator.userAgent).getOSName()?"":"Ctrl";case"command":return"";case"alt":return"macOS"===Gt().getParser(window.navigator.userAgent).getOSName()?"":"Alt";case"shift":case"ctrl":case"space":return e[0].toUpperCase()+e.slice(1);case"up":return"";case"right":return"";case"down":return"";case"left":return"";default:return e.toUpperCase()}},Rc=(0,o.memo)((function(e){var t=e.children;return(0,f.jsx)(j.E,{as:"kbd",variant:"bodyMedium",className:xc,children:yc(t)})})),kc=function(e){var t=e.combinations;return(0,f.jsx)(f.Fragment,{children:t.map((function(e,n){var r=e.split("+");return(0,f.jsxs)(o.Fragment,{children:[r.map((function(e){return(0,f.jsx)(Rc,{children:e},e)})),n<t.length-1&&(0,f.jsxs)(j.E,{variant:"bodyMedium",children:[" ",h.Ru.get("keyboard.shortcuts.or")," "]})]},e)}))})},Ec=function(e){var t=e.shortcuts,n=e.sectionTitle;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(j.E,{as:"h2",className:vc,variant:"titleSmall",children:n}),(0,f.jsx)("ul",{children:t.map((function(e){return e.enabled?(0,f.jsxs)("li",{className:bc,children:[(0,f.jsx)(j.E,{variant:"bodyMedium",className:hc,children:e.description}),(0,f.jsx)(kc,{combinations:uc.gO[e.action]})]},e.action):null}))})]})},jc=n(71078),Cc=(0,o.memo)((function(){var e=(0,uc.dr)(),t=(0,c.wA)(),n=(0,c.d4)((function(e){return e.ui.keyboardShortcutsHelpModal.isOpen})),r=(0,o.useCallback)((function(){t((0,d.wi)(!1))}),[t]),a=e.employee.filter((function(e){return e.enabled}));return(0,f.jsx)(O.A,{isOpen:n,onRequestClose:r,contentLabel:h.Ru.get("keyboard.shortcuts.help.heading"),children:(0,f.jsxs)("div",{className:dc,children:[(0,f.jsxs)("div",{className:mc,children:[(0,f.jsx)(j.E,{as:"h1",variant:"titleMedium",children:h.Ru.get("keyboard.shortcuts.help.heading")}),(0,f.jsx)("button",{"aria-label":h.Ru.get("close"),className:pc,onClick:r,children:(0,f.jsx)(jc.A,{width:18,height:18,fill:"currentColor"})}),(0,f.jsxs)(j.E,{variant:"bodyMedium",as:"p",children:[h.Ru.get("keyboard.shortcuts.help.subheading.press")," ",(0,f.jsx)(kc,{combinations:uc.gO.OPEN_HELP})," ",h.Ru.get("keyboard.shortcuts.help.subheading.toToggle")]})]}),(0,f.jsx)("div",{className:gc,children:(0,f.jsxs)("div",{className:fc,tabIndex:0,children:[(0,f.jsx)(Ec,{shortcuts:e.basic,sectionTitle:h.Ru.get("keyboard.shortcuts.section.basic")}),(0,f.jsx)(Ec,{shortcuts:e.playback,sectionTitle:h.Ru.get("keyboard.shortcuts.section.playback")}),(0,f.jsx)(Ec,{shortcuts:e.navigation,sectionTitle:h.Ru.get("keyboard.shortcuts.section.navigation")}),(0,f.jsx)(Ec,{shortcuts:e.layout,sectionTitle:h.Ru.get("keyboard.shortcuts.section.layout")}),a.length>0?(0,f.jsx)(Ec,{shortcuts:a,sectionTitle:"Employee"}):null]})})]})})}));const wc="ABD0FGjBGqGZG33bP7Lc",Oc="iV_SwHyMafiGlMDhlcB5",Sc="gMEKhUL8rKx7DhSDUVk7",Ac="Z0v7BXnINL5FxFXjQIzE";var Nc=o.memo((function(e){var t,n=e.playlistUri,r=(0,c.wA)(),a=(0,Ha.Zp)(),i=(0,yn.W)(),s=(0,To.A)(n),l=(0,A.A)(s,2),u=l[0],m=l[1],p=(0,c.d4)(Co.Ht).user,g=(0,Lo.J)(n),v=(0,wa.x)(n).removeMember,b=null==g||null===(t=g.permissions)||void 0===t?void 0:t.isPrivate,x=null==g?void 0:g.canAdd,y=(0,o.useCallback)((function(){null!=p&&p.id&&(i({intent:"playlisting",type:"click"}),u&&b&&m(!1),v(null==p?void 0:p.id),r((0,d.mE)()),a("/"))}),[null==p?void 0:p.id,i,u,b,v,r,a,m]),R=(0,o.useCallback)((function(){r((0,d.mE)())}),[r]),k=h.Ru.get("leave-playlist.dialog.leave"),E=h.Ru.get("leave-playlist.dialog.private-description");return b||(E=x?h.Ru.get("leave-playlist.dialog.public-contributor-description"):h.Ru.get("leave-playlist.dialog.public-listener-description")),(0,f.jsx)(O.A,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:R,contentLabel:k,isOpen:!0,children:(0,f.jsxs)("div",{className:wc,children:[(0,f.jsx)(j.E,{as:"h2",variant:"bodyMediumBold",className:Oc,children:h.Ru.get("leave-playlist.dialog.title")}),(0,f.jsx)(j.E,{as:"p",variant:"bodySmall",className:Sc,paddingBottom:$i.lT,children:E}),(0,f.jsxs)("div",{className:P()("encore-light-theme",Ac),children:[(0,f.jsx)(De.H,{onClick:R,children:h.Ru.get("leave-playlist.dialog.cancel")}),(0,f.jsx)(Le.$,{onClick:y,children:k})]})]})})})),Ic=o.memo((function(){var e=(0,c.d4)((function(e){return e.ui.leavePlaylistDialog})),t=e.isOpen,n=e.playlistUri;return n&&t?(0,f.jsx)(Nc,{playlistUri:n}):null})),_c=n(30023);function Tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Lc=function(e){return(0,f.jsx)("img",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tc(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({alt:"Zara Larsson",src:(0,_e.b)("images/zara-larsson-singles.png")},e))},Dc=n(63617);const Pc="m7yI2BjDd8Jfq4bwU_IT",Mc="A0uXWh53dpxhad3t59v_",Uc="jN93nx_3NxRM0qYmOmjB",Bc="x_mFp6qsLw0AgSON4gdy",Fc="aS3WvPBqyZdP1S28pn6r",Wc="FvaVPD0bBm4QOZEKRYOm",Vc="nRjGqzP1Yyg9utpJtFEG",Hc="lljaf1wMpxMQY1AVr1sf",zc="Mhj98HFd0jXE916R2Ggz",Gc="TicfIwifH276e2046RzG",Kc="ONMHZOOfFwfCPGr5rKNp",Yc="ZQ94gWpWwDhhvQ7bRv9S",qc="DNkhD0rW2qSWeBj4HBIZ";var Qc=o.memo((function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.ui.loginToListenDialog.isOpen})),n=(0,yn.W)();n({intent:"navigate",type:"view"});var r=(0,o.useCallback)((function(){n({intent:"close",type:"click"}),e((0,d.k0)())}),[e,n]),a=(0,o.useCallback)((function(t){n({intent:"upgrade-to-premium",type:"click"}),e((0,d.k0)()),t?window.open(Ge.BW,"_blank"):window.open(Ge.zd,"_blank")}),[e,n]);return(0,f.jsx)(_c.u,{property:k.StW,renderOldExperience:function(){return(0,f.jsx)(O.A,{animated:!0,isOpen:t,className:Vc,overlayClassName:Hc,contentLabel:h.Ru.get("mwp.d2p.modal.title"),onRequestClose:r,children:(0,f.jsxs)("div",{className:Pc,children:[(0,f.jsx)("div",{className:Wc,children:(0,f.jsx)(Lc,{className:Mc})}),(0,f.jsxs)("div",{className:"".concat(Wc),children:[(0,f.jsx)("div",{className:Uc,children:(0,f.jsx)(Dc.T,{color:"var(--spice-text)",height:"23"})}),(0,f.jsx)(j.E,{as:"h1",variant:"titleMedium",children:h.Ru.get("mwp.d2p.modal.title")}),(0,f.jsx)(j.E,{as:"p",variant:"bodyMedium",children:h.Ru.get("mwp.d2p.modal.description")}),(0,f.jsx)(Le.$,{onClick:a.bind(null,!0),className:"".concat(Bc),children:h.Ru.get("mwp.d2p.modal.cta")}),(0,f.jsx)(De.H,{onClick:r,className:"".concat(Bc," ").concat(Fc),children:h.Ru.get("mwp.d2p.modal.dismiss")})]})]})})},renderNewExperience:function(){return(0,f.jsx)(O.A,{animated:!0,isOpen:t,className:Vc,overlayClassName:Hc,contentLabel:h.Ru.get("mwp.d2p.modal.title"),onRequestClose:r,children:(0,f.jsxs)("div",{className:"".concat(Pc," ").concat(zc),children:[(0,f.jsx)("div",{className:"".concat(Wc," ").concat(qc),children:(0,f.jsx)("img",{alt:h.Ru.get("midyear.cta"),src:(0,_e.b)("images/mid-year.png")})}),(0,f.jsxs)("div",{className:"".concat(Wc),children:[(0,f.jsx)(j.E,{as:"h1",variant:"titleMedium",children:h.Ru.get("midyear.title")}),(0,f.jsx)(j.E,{as:"p",variant:"bodyMedium",children:h.Ru.get("midyear.intro")}),(0,f.jsx)(Le.$,{onClick:a.bind(null,!1),className:"".concat(Bc," ").concat(Gc),children:h.Ru.get("midyear.cta")}),(0,f.jsx)(De.H,{onClick:r,className:"".concat(Bc," ").concat(Fc," ").concat(Kc),children:h.Ru.get("mwp.d2p.modal.dismiss")}),(0,f.jsx)(j.E,{as:"p",className:Yc,variant:"marginal",dangerouslySetInnerHTML:{__html:h.Ru.get("midyear.terms",{help_link:"https://www.spotify.com/legal/premium-promotional-offer-terms/"})}})]})]})})}})})),Zc=o.memo((function(){return(0,f.jsx)(o.Suspense,{fallback:null,children:(0,f.jsx)(Qc,{})})})),Jc=n(69505),Xc=n(23105),$c=n(74004),el=n(46722);const tl="Gq0nmqrHqipmGwpzAmPM",nl="SlF1l98yxyaNXDn4clyB";var rl=function(){var e=(0,c.wA)(),t=(0,Ha.Zp)(),n=(0,y.s)(),r=(0,el.j)(),a=(0,c.d4)((function(e){return e.ui.learnMorePersonalizedRecommendationsModal})).isOpen,i=function(){e(Un.r8.actions.close()),n.logInteraction(r.cancelButtonFactory().hitUiHide())};return(0,f.jsx)(O.A,{isOpen:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:i,contentLabel:h.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),animated:!0,children:(0,f.jsx)(Jc.Q,{className:tl,dialogTitle:h.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),"aria-label":h.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),body:(0,f.jsxs)("div",{className:nl,children:[(0,f.jsx)(j.E,{variant:"bodySmall",semanticColor:"textSubdued",as:"p",children:h.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body")}),(0,f.jsx)(j.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:h.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body-missing-features-intro")}),(0,f.jsxs)(Xc.b,{as:"ul",children:[(0,f.jsx)($c.K,{condensed:!0,semanticColor:"textSubdued",children:h.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-1")}),(0,f.jsx)($c.K,{condensed:!0,semanticColor:"textSubdued",children:h.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-2")}),(0,f.jsx)($c.K,{condensed:!0,semanticColor:"textSubdued",children:h.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-3")})]}),(0,f.jsx)(j.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:h.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body-persistent-features-intro")}),(0,f.jsx)(Xc.b,{condensed:!0,as:"ul",children:(0,f.jsx)($c.K,{condensed:!0,semanticColor:"textSubdued",children:h.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-1")})})]}),footer:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(De.H,{onClick:i,size:"small",condensed:!0,children:h.Ru.get("web-player.settings.personalized-recommendations.modal-cancel")}),(0,f.jsx)(Le.$,{onClick:function(){t("/preferences?highlight=dsa"),e(Un.r8.actions.close()),n.logInteraction(r.goToSettingsButtonFactory().hitUiNavigate({destination:"/preferences"}))},size:"small",colorSet:"invertedLight",children:h.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-confirm")})]}),legal:(0,f.jsx)(j.E,{variant:"marginal",semanticColor:"textBase",as:"p",children:h.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-disclaimer")})})})},al=n(36148),il=function(){var e=(0,c.wA)(),t=(0,y.s)(),n=(0,al.H)(),r=(0,c.d4)((function(e){return e.ui.turnOffPersonalizedRecommendationsModal})),a=r.isOpen,i=r.onConfirm,s=function(){e(Un.UU.actions.close()),t.logInteraction(n.cancelButtonFactory().hitUiHide())};return(0,f.jsx)(O.A,{isOpen:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:s,contentLabel:h.Ru.get("web-player.settings.personalized-recommendations.modal-header"),animated:!0,children:(0,f.jsx)(Jc.Q,{className:tl,dialogTitle:h.Ru.get("web-player.settings.personalized-recommendations.modal-header"),"aria-label":h.Ru.get("web-player.settings.personalized-recommendations.modal-header"),body:(0,f.jsxs)("div",{className:nl,children:[(0,f.jsx)(j.E,{variant:"bodySmall",semanticColor:"textSubdued",as:"p",children:h.Ru.get("web-player.settings.personalized-recommendations.modal-body")}),(0,f.jsx)(j.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:h.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-intro")}),(0,f.jsxs)(Xc.b,{as:"ul",children:[(0,f.jsx)($c.K,{condensed:!0,semanticColor:"textSubdued",children:h.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-1")}),(0,f.jsx)($c.K,{condensed:!0,semanticColor:"textSubdued",children:h.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-2")}),(0,f.jsx)($c.K,{condensed:!0,semanticColor:"textSubdued",children:h.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-3")})]}),(0,f.jsx)(j.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:h.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-intro")}),(0,f.jsx)(Xc.b,{condensed:!0,as:"ul",children:(0,f.jsx)($c.K,{condensed:!0,semanticColor:"textSubdued",children:h.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-1")})})]}),footer:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(De.H,{onClick:s,size:"small",condensed:!0,children:h.Ru.get("web-player.settings.personalized-recommendations.modal-cancel")}),(0,f.jsx)(Le.$,{onClick:function(){i(),e(Un.UU.actions.close()),t.logInteraction(n.turnOffPersonalizedRecommendationsButtonFactory().hitSettingDisable())},size:"small",colorSet:"invertedLight",children:h.Ru.get("web-player.settings.personalized-recommendations.modal-confirm")})]}),legal:(0,f.jsx)(j.E,{variant:"marginal",semanticColor:"textBase",as:"p",children:h.Ru.get("web-player.settings.personalized-recommendations.modal-delay-disclaimer")})})})},sl=n(16249),ol=(n(92031),n(39029)),cl=n(3838),ll=n(78834);const ul="main-playlistEditDetailsModal-container",dl="main-playlistEditDetailsModal-content",ml="main-playlistEditDetailsModal-header",pl="main-playlistEditDetailsModal-closeBtn",gl="main-playlistEditDetailsModal-albumCover",fl="main-playlistEditDetailsModal-imageLoadingContainer",vl="main-playlistEditDetailsModal-imageChangeButton",bl="main-playlistEditDetailsModal-imageDropDownContainer",hl="main-playlistEditDetailsModal-imageDropDownButton",xl="main-playlistEditDetailsModal-textElement",yl="main-playlistEditDetailsModal-textElementError",Rl="main-playlistEditDetailsModal-textElementInfo",kl="main-playlistEditDetailsModal-title",El="main-playlistEditDetailsModal-textElementLabel",jl="main-playlistEditDetailsModal-description",Cl="main-playlistEditDetailsModal-titleInput",wl="main-playlistEditDetailsModal-titleInputWithPadding",Ol="main-playlistEditDetailsModal-descriptionTextarea",Sl="main-playlistEditDetailsModal-save",Al="main-playlistEditDetailsModal-disclaimer",Nl="main-playlistEditDetailsModal-characterCounter",Il="main-playlistEditDetailsModal-titleCharacterCounter",_l="main-playlistEditDetailsModal-descriptionCharacterCounter",Tl="main-playlistEditDetailsModal-insertLinkButton";var Ll=function(e){var t=e.openImagePicker,n=e.onRemoveImage;return(0,f.jsx)("div",{className:bl,children:(0,f.jsx)(B.b,{menu:(0,f.jsxs)(V.W,{children:[(0,f.jsx)(H.D,{role:"menuitem",onClick:t,leadingIcon:(0,f.jsx)(cl.d,{semanticColor:"textSubdued",size:"small"}),children:h.Ru.get("playlist.edit-details.change-photo")}),(0,f.jsx)(H.D,{role:"menuitem",onClick:n,leadingIcon:(0,f.jsx)(ea.x,{semanticColor:"textSubdued",size:"small"}),children:h.Ru.get("playlist.edit-details.remove-photo")})]}),children:(0,f.jsxs)("button",{className:hl,type:"button",children:[(0,f.jsx)(ll.x,{size:"small","aria-hidden":"true"}),(0,f.jsx)("span",{className:"hidden-visually",children:h.Ru.get("edit_photo")})]})})})},Dl=n(50845),Pl=function(e){var t=e.onClick;return(0,f.jsx)("button",{title:"Insert link",className:Tl,onClick:t,children:(0,f.jsx)(Dl.b,{size:"small","aria-hidden":"true"})})},Ml=n(79133),Ul=n.n(Ml),Bl=n(10871);var Fl=function(e){var t=e.className,n=e.usedCharacters,a=e.maxCharacters,i=e.isVisible,s=void 0===i||i,o=function(e){var t,n;return e<=20?(t="assertive",n=!0):e<=60?(t="polite",n=!1):e<=70?(t="polite",n=!0):(t="off",n=!0),{ariaLive:t,ariaAtomic:n}}(a-n),c=o.ariaLive,l=o.ariaAtomic;return(0,f.jsx)("span",{className:P()(Nl,t,(0,r.A)({},"hidden-visually",!s)),"aria-label":h.Ru.get("character-counter"),"aria-live":c,"aria-atomic":l,children:"".concat(n,"/").concat(a)})},Wl=(0,o.forwardRef)((function(e,t){var n=e.autoFocus,a=e.handleOnChange,i=e.playlistDescription,s=e.maxNumCharacters,c=void 0===s?300:s,l=(0,o.useMemo)((function(){return"text-input-".concat((0,Bl.Yu)(8))}),[]),u=c-20,d=(0,o.useState)(!1),m=(0,A.A)(d,2),p=m[0],g=m[1],v=Ul()(i).length;return(0,o.useEffect)((function(){var e;n&&"function"!=typeof t&&(null==t||null===(e=t.current)||void 0===e||e.select())}),[n,t]),(0,f.jsxs)("div",{className:jl,children:[(0,f.jsx)(j.E,{htmlFor:l,as:"label",variant:"marginalBold",className:El,children:h.Ru.get("playlist.edit-details.description-label")}),(0,f.jsx)("textarea",{ref:t,"data-testid":"playlist-edit-details-description-input",autoFocus:n,className:P()(xl,Ol,(0,r.A)({},Rl,p)),onChange:function(e){var t=a(Ul()(e.target.value).slice(0,c).join(""));g(!!t)},placeholder:h.Ru.get("playlist.edit-details.description-placeholder"),value:i}),(0,f.jsx)(Fl,{className:_l,maxCharacters:c,usedCharacters:v,isVisible:v>=u})]})})),Vl=function(e){var t=e.autoFocus,n=e.handleOnChange,a=e.maxNumCharacters,i=void 0===a?100:a,s=e.playlistName,c=e.onSubmit,l=(0,o.useState)(!1),u=(0,A.A)(l,2),d=u[0],m=u[1],p=(0,o.useMemo)((function(){return"text-input-".concat((0,Bl.Yu)(8))}),[]),g=i-10,v=Ul()(s).length,b=v>=g,x=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e;t&&(null===(e=x.current)||void 0===e||e.select())}),[t]),(0,f.jsxs)("div",{className:kl,children:[(0,f.jsx)(j.E,{as:"label",htmlFor:p,variant:"marginalBold",className:El,children:h.Ru.get("playlist.edit-details.name-label")}),(0,f.jsx)("input",{"data-testid":"playlist-edit-details-name-input",id:p,autoFocus:t,ref:x,type:"text",className:P()(xl,Cl,(0,r.A)((0,r.A)({},wl,b),yl,d)),onKeyDown:function(e){"Enter"===e.key&&c()},onChange:function(e){var t=n(Ul()(e.target.value).slice(0,i).join(""));m(!!t)},placeholder:h.Ru.get("playlist.edit-details.name-placeholder"),value:s}),(0,f.jsx)(Fl,{isVisible:b,maxCharacters:i,usedCharacters:v,className:Il})]})},Hl=n(26173);function zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zl(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kl={name:"",description:"",image:void 0,loading:!1,message:null,hasWarnedAboutUnsavedChanges:!1};function Yl(e){return{type:"setPlaylistDescription",data:e}}function ql(e){return{type:"setLoading",data:e}}function Ql(e){return{type:"setMessage",data:e}}function Zl(e,t){switch(t.type){case"setImageData":return Gl(Gl({},e),{},{loading:!1,image:{width:Hl.B.SMALL,height:Hl.B.SMALL,url:t.data}});case"removeImage":return Gl(Gl({},e),{},{loading:!1,imageToken:null,image:void 0});case"setImageToken":return Gl(Gl({},e),{},{imageToken:t.data});case"setPlaylistName":return Gl(Gl({},e),{},{name:t.data});case"setPlaylistDescription":return Gl(Gl({},e),{},{description:t.data});case"setLoading":return Gl(Gl({},e),{},{loading:t.data,message:null});case"setHasWarnedAboutUnsavedChanges":return Gl(Gl({},e),{},{hasWarnedAboutUnsavedChanges:t.data});case"setMessage":return Gl(Gl({},e),{},{loading:!1,message:t.data});case"reset":return Gl(Gl({},Kl),{},{name:t.data.name,description:t.data.description,image:t.data.image});default:return e}}var Jl=n(36711),Xl=n(60003),$l=n(62465),eu=n(11070),tu=n(37103),nu=/[\b\f\n\r\t\v\0]/,ru=/<[bi]/i,au=function(e){var t=e.isOpen,n=e.isImagePickerOpen,r=e.focusedElement,i=e.name,l=e.description,u=e.image,d=e.uri,m=e.onClose;l=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}(l);var p=(0,wa.x)(d),g=p.uploadImage,v=p.updateDetails,b=function(e){var t=e.name,n=e.description,r=e.image,a=(0,o.useReducer)(Zl,Gl(Gl({},Kl),{},{name:t,description:n,image:r})),i=(0,A.A)(a,2);return[i[0],i[1]]}({name:i,description:l,image:u}),x=(0,A.A)(b,2),y=x[0],R=x[1],k=(0,eu.p)(),E=(0,A.A)(k,2),C=E[0],S=E[1],N=!(0,Ga.n)(),I=(0,o.useRef)(null),_=(0,c.d4)((function(e){var t;return"1"===(null===(t=e.session.productState)||void 0===t?void 0:t["playlist-annotations-markup"])}));(0,o.useEffect)((function(){R(Ql(N?ia:null))}),[N,R]),(0,o.useEffect)((function(){n&&S()}),[n,S]);var T=(0,o.useCallback)((function(){R({type:"removeImage"})}),[R]),L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null===y.imageToken,n=y.imageToken;!(i!==y.name||l!==y.description||n||t)||y.hasWarnedAboutUnsavedChanges||e?(R(function(e){return{type:"reset",data:e}}({name:i,description:l,image:u})),m()):(R(Ql(aa)),R({type:"setHasWarnedAboutUnsavedChanges",data:!0}))};function D(){return(D=(0,a.A)(s().mark((function e(t){var n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n=t.imageFile,r=t.imageDataUrl,R(Ql(null)),R({type:"setImageData",data:r}),!n){e.next=16;break}return e.prev=6,a=g(n),R({type:"setImageToken",data:a}),e.next=11,a;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),R(Ql(ca));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function P(){return M.apply(this,arguments)}function M(){return(M=(0,a.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.loading){e.next=2;break}return e.abrupt("return");case 2:if(0!==y.name.length){e.next=5;break}return R(Ql(la)),e.abrupt("return");case 5:return R(ql(!0)),e.prev=6,e.next=9,U();case 9:R(ql(!1)),!0,L(true),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),R(Ql(ua));case 17:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}function U(){return B.apply(this,arguments)}function B(){return(B=(0,a.A)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},i!==y.name&&(t.name=y.name),l!==y.description&&(t.description=y.description),!y.imageToken){e.next=9;break}return e.next=6,y.imageToken;case 6:t.imageUploadToken=e.sent,e.next=10;break;case 9:null===y.imageToken&&(t.imageUploadToken=null);case 10:return t.image=y.image,e.next=13,v(t);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,f.jsx)(O.A,{isOpen:t,onRequestClose:function(){L()},contentLabel:h.Ru.get("playlist.edit-details.title"),children:(0,f.jsxs)("div",{"data-testid":"playlist-edit-details-modal",className:ul,children:[(0,f.jsxs)("div",{className:ml,children:[(0,f.jsx)(j.E,{as:"h1",variant:"titleSmall",children:h.Ru.get("playlist.edit-details.title")}),(0,f.jsx)("button",{className:pl,onClick:function(){L()},children:(0,f.jsx)(w.M,{size:"small","aria-label":h.Ru.get("close")})})]}),y.message&&(0,f.jsx)(tu.z,{isErrorMessage:"error"===y.message.type,message:y.message.message}),_?(0,f.jsx)(Pl,{onClick:function(){if(I.current){var e=I.current,t=e.selectionStart,n=e.selectionEnd,r=y.description.substring(t,n),a=r,i=!!(0,Ot.o_)(a);!a.startsWith("http://")&&!a.startsWith("https://")&&!i&&(a="https://".concat(a)),R(Yl([y.description.substring(0,t),'<a href="'.concat(a,'">').concat(r,"</a>"),y.description.substring(n)].join("")))}}}):null,(0,f.jsxs)("div",{className:dl,children:[(0,f.jsx)($l.u,{isOpen:C,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:function(e){return D.apply(this,arguments)},onError:function(e){e===$l.i.FILE_TOO_BIG?R(Ql(sa)):e===$l.i.IMAGE_TOO_SMALL&&R(Ql(oa))}}),(0,f.jsxs)("div",{className:gl,children:[(0,f.jsx)(Xl.b,{loading:"eager",name:y.name,images:y.image?[y.image]:[],placeholderType:"playlist"}),(0,f.jsx)("div",{className:vl,children:(0,f.jsx)(Jl.a,{overlay:!!y.image,onClick:S})}),(0,f.jsx)(Ll,{onRemoveImage:T,openImagePicker:S}),!!y.imageToken&&y.loading&&(0,f.jsx)("div",{className:fl,children:(0,f.jsx)(ol.I,{})})]}),(0,f.jsx)(Vl,{autoFocus:r===sl.NV.TITLE,handleOnChange:function(e){return R({type:"setPlaylistName",data:e}),0===e.length?(R(Ql(la)),la):(R(Ql(null)),null)},playlistName:y.name,onSubmit:P}),(0,f.jsx)(Wl,{ref:I,autoFocus:r===sl.NV.DESCRIPTION,handleOnChange:function(e){var t=e;return ru.test(t)?(R(Ql(ra)),ra):nu.test(t)?(t=(e||"").replace(nu,""),R(Ql(na)),na):(R(Yl(t)),null)},playlistDescription:y.description}),(0,f.jsx)("div",{className:Sl,children:(0,f.jsx)(Le.$,{colorSet:"invertedLight",onClick:P,disabled:y.loading,"data-testid":"playlist-edit-details-save-button",children:h.Ru.get("save")})}),(0,f.jsx)(j.E,{as:"p",variant:"marginalBold",className:Al,children:h.Ru.get("image-upload.legal-disclaimer")})]})]})})},iu=function(){var e=(0,o.useContext)(sl.iE),t=e.isOpen,n=e.isImagePickerOpen,r=e.playlistDetails,a=e.focusedElement,i=(0,o.useContext)(sl.$$),s=(0,o.useCallback)((function(){i({type:"close"})}),[i]),c=r.name,l=r.description,u=r.uri,d=r.image;return t?(0,f.jsx)(au,{isOpen:t,isImagePickerOpen:n,onClose:s,focusedElement:a,uri:u,name:c,description:l,image:d}):null},su=(n(34640),new Map);su.set("ad"," 9,99"),su.set("ar","$ 69,00"),su.set("at"," 9,99"),su.set("au","$11.99"),su.set("be"," 9,99"),su.set("bg","4.99 EUR"),su.set("bo","5.99 USD"),su.set("br","R$ 16,90"),su.set("ca","9.99 CAD"),su.set("ch","Fr. 12.95"),su.set("cl","$ 3.490,00"),su.set("co","$ 14.900,00"),su.set("cr","5.99 USD"),su.set("cy","6.99 EUR"),su.set("cz","5.99 EUR"),su.set("de","9,99 "),su.set("dk","kr 99,00"),su.set("do","5.99 USD"),su.set("ec","5.99 USD"),su.set("ee","6.99 EUR"),su.set("es","9,99 "),su.set("fi","9,99 "),su.set("fr","9,99 "),su.set("uk","9.99"),su.set("gr","6.99 EUR"),su.set("gt","5.99 USD"),su.set("hk","HK$58.00"),su.set("hn","5.99 USD"),su.set("hu","4.99 EUR"),su.set("id","Rp 49.990"),su.set("ie","9.99"),su.set("is","9.99 EUR"),su.set("it"," 9,99"),su.set("kr","10,900"),su.set("li","12.95 CHF"),su.set("lt","6.99 EUR"),su.set("lu","9.99 EUR"),su.set("lv","6.99 EUR"),su.set("mc","9.99 EUR"),su.set("mt","6.99 EUR"),su.set("mx","$ 99.00"),su.set("my","RM14.90"),su.set("ni","5.99 USD"),su.set("nl","9,99"),su.set("no","kr109,00"),su.set("nz","$14.99"),su.set("pa","5.99 USD"),su.set("pe","S/ 18.90"),su.set("ph","129"),su.set("pl","19,99 z"),su.set("pt","6.99 EUR"),su.set("py","5.99 USD"),su.set("se","99,00 kr"),su.set("sg","S$9.90"),su.set("sk","5.99 EUR"),su.set("sv","5.99 USD"),su.set("th","129.00"),su.set("tr","13,99 TL"),su.set("tw","NT$149.00"),su.set("us","$9.99"),su.set("uy","5.99 USD");var ou=new Map;ou.set("ad"," 0,00"),ou.set("ar","$ 0,00"),ou.set("at"," 0,00"),ou.set("au","$0.00"),ou.set("be"," 0,00"),ou.set("bg","0.00 EUR"),ou.set("bo","0.00 USD"),ou.set("br","R$ 0,00"),ou.set("ca","0.00 CAD"),ou.set("ch","Fr. 0.00"),ou.set("cl","$ 0,00"),ou.set("co","$ 0,00"),ou.set("cr","0.00 USD"),ou.set("cy","0.00 EUR"),ou.set("cz","0.00 EUR"),ou.set("de","0,00 "),ou.set("dk","kr 0,00"),ou.set("do","0.00 USD"),ou.set("ec","0.00 USD"),ou.set("ee","0.00 EUR"),ou.set("es","0,00 "),ou.set("fi","0,00 "),ou.set("fr","0,00 "),ou.set("uk","0.00"),ou.set("gr","0.00 EUR"),ou.set("gt","0.00 USD"),ou.set("hk","HK$0.00"),ou.set("hn","0.00 USD"),ou.set("hu","0.00 EUR"),ou.set("id","Rp 0.00"),ou.set("ie","0.00"),ou.set("is","0.00 EUR"),ou.set("it"," 0,00"),ou.set("li","0.00 CHF"),ou.set("lt","0.00 EUR"),ou.set("lu","0.00 EUR"),ou.set("lv","0.00 EUR"),ou.set("mc","0.00 EUR"),ou.set("mt","0.00 EUR"),ou.set("mx","$ 0.00"),ou.set("my","RM0.00"),ou.set("ni","0.00 USD"),ou.set("nl","0,00"),ou.set("no","kr0,00"),ou.set("nz","$0.00"),ou.set("pa","0.00 USD"),ou.set("pe","S/ 0.00"),ou.set("ph","0.00"),ou.set("pl","0,00 z"),ou.set("pt","0.00 EUR"),ou.set("py","0.00 USD"),ou.set("se","0,00 kr"),ou.set("sg","S$0.00"),ou.set("sk","0.00 EUR"),ou.set("sv","0.00 USD"),ou.set("th","0.00"),ou.set("tr","0,00 TL"),ou.set("tw","NT$0.00"),ou.set("us","$0.00"),ou.set("uy","0.00 USD");var cu=n(25598);const lu="jqvEr4MvCdQ1QA_FSpe7",uu="sRkNI1Gya5aBxtf_vS1S",du="WShxRrLdX9LzzqlCmWZy",mu="rlMoP29GxtDlHkDK_aci";var pu=(0,o.memo)((function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.ui.premiumDialog.isOpen})),n=(0,c.d4)((function(e){var t=function(e){var t=e.toLowerCase();return{premiumPrice:su.has(t)?su.get(t):"99,00 kr",freePrice:ou.has(t)?ou.get(t):"0,00 kr"}}((0,cu.JJ)(e));return t.premiumPrice})),r=(0,c.d4)(cu.q),a=(0,o.useCallback)((function(){return e((0,ic.wH)())}),[e]),i=(0,Ke.L)().openURLWithSessionTransfer;return(0,f.jsx)(O.A,{isOpen:t,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:h.Ru.get("premium.dialog.title"),children:(0,f.jsxs)("div",{className:lu,children:[(0,f.jsx)("h1",{className:uu,children:h.Ru.get("premium.dialog.title")}),(0,f.jsx)("p",{className:du,children:h.Ru.get("premium.dialog.description",r?3:1)}),(0,f.jsx)(Le.$,{colorSet:"invertedLight",onClick:function(){return i(Ge.BW)},children:h.Ru.get("premium.dialog.subscribe")}),(0,f.jsx)(De.H,{semanticColor:"textBase",onClick:a,children:h.Ru.get("user.log-out")}),(0,f.jsx)("p",{className:mu,children:r?h.Ru.get("premium.dialog.disclaimer.noprice"):h.Ru.get("premium.dialog.disclaimer",{price:n})})]})})})),gu=(n(79548),n(1952),n(43899)),fu=n(44472),vu=n(70483),bu=n(89848),hu=(0,o.memo)((function(){var e,t=(0,c.wA)(),n=(0,gu.L)(),r=(0,c.d4)((function(e){return e.ui.removeFromLibraryDialog})),i=r.uri,l=r.isPrerelease,u=(0,To.A)(null!=i?i:""),m=(0,A.A)(u,2),p=m[0],g=m[1],v=(0,bu.p)("prerelease").remove,b=(0,vu.o)("prerelease",i?[i]:[]).at(0),y=null===(e=(0,Ot.o_)(i))||void 0===e?void 0:e.type,R=(0,o.useState)(""),k=(0,A.A)(R,2),E=k[0],j=k[1];(0,o.useEffect)((function(){var e=function(){var e=(0,a.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=y,e.next=e.t0===Ot.NQ.PRERELEASE||e.t0===Ot.NQ.ALBUM?3:e.t0===Ot.NQ.ARTIST?5:e.t0===Ot.NQ.SHOW?7:e.t0===Ot.NQ.PLAYLIST||e.t0===Ot.NQ.PLAYLIST_V2?20:22;break;case 3:return j(h.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-album")),e.abrupt("break",24);case 5:return j(h.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-artist")),e.abrupt("break",24);case 7:return e.t1=j,e.t2=fu.Go,e.next=11,n.getMetadata(null!=i?i:"");case 11:if(e.t3=e.sent,!(0,e.t2)(e.t3)){e.next=16;break}e.t4=h.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-audiobook"),e.next=17;break;case 16:e.t4=h.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-show");case 17:return e.t5=e.t4,(0,e.t1)(e.t5),e.abrupt("break",24);case 20:return j(h.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-playlist")),e.abrupt("break",24);case 22:return j(h.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description")),e.abrupt("break",24);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n,y,i]);var C=(0,o.useCallback)((function(){t((0,d.yh)())}),[t]),w=(0,o.useCallback)((function(){if(i){if(l){if(!b)return;v(i)}else{if(!p)return;g(!1)}C()}}),[i,l,C,b,v,p,g]);return(0,f.jsx)(x.T,{"aria-label":"".concat(h.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-title")," ").concat(E),titleText:h.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-title"),descriptionText:E,onConfirm:w,onClose:C,confirmText:h.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-confirm-button"),cancelText:h.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-cancel-button"),allowHTML:!0})}));const xu="ZjyLlDvxh8QqNVY2vMsF",yu="sx8Bf4udHt_kPAnxmGW8",Ru="sfaREUmOnuxlr99uOYnS",ku="RTGGeDA2P3rKc6r96vqA",Eu="e1NO8ZuDIwSef3E4ppfX",ju="Fo3Fe1PpXtQ3G32BqnwP",Cu="aRZZo0b_4ktkI0mPQ7Vw";var wu=function(e){var t=e.name,n=e.onRename,r=(0,c.wA)(),a=(0,o.useState)(null),i=(0,A.A)(a,2),s=i[0],l=i[1],u=(0,o.useCallback)((function(e){null!==e&&l(e)}),[]);(0,o.useEffect)((function(){null==s||s.select()}),[s]);var m=function(){r((0,d.Yk)())},p=function(){var e;n(null!==(e=null==s?void 0:s.value)&&void 0!==e?e:""),m()};return(0,f.jsx)(O.A,{contentLabel:h.Ru.get("playlist.edit-details.title"),shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:m,shouldFocusAfterRender:!0,isOpen:!0,children:(0,f.jsxs)("div",{"data-testid":"playlist-edit-details-modal",className:xu,children:[(0,f.jsxs)("div",{className:Ru,children:[(0,f.jsx)(j.E,{as:"h1",variant:"titleSmall",children:h.Ru.get("web-player.your-library-x.rename-folder")}),(0,f.jsx)("button",{className:ku,onClick:m,children:(0,f.jsx)(w.M,{size:"medium","aria-label":h.Ru.get("close")})})]}),(0,f.jsxs)("form",{className:yu,onSubmit:function(e){e.preventDefault(),p()},children:[(0,f.jsx)("input",{ref:u,type:"text",defaultValue:t,onSubmit:p,className:P()(Eu,ju)}),(0,f.jsx)("div",{className:Cu,children:(0,f.jsx)(Le.$,{colorSet:"invertedLight",type:"submit",children:h.Ru.get("save")})})]})]})})},Ou=(n(59433),n(7264)),Su=n(47933),Au=n(26662),Nu=n(23243),Iu=n(28340),_u=n(65982),Tu=n(93240),Lu=n(51884);var Du=new ci.l("showItemsPlayedState","query","4a070b9bfab2e8537a5271e6839bc3ef51501dcac8170b5fb69a98f967c5fb60",null),Pu=3e4;function Mu(e){var t,n,r=(t={uri:e,limit:arguments.length>1&&void 0!==arguments[1]?arguments[1]:100},n={staleTime:0,gcTime:18e5},(0,li.I)(Du,t,n)),a=r.data,i=r.loading,s=function(e){var t=null==e?void 0:e.lookup.at(0);if("PodcastOrAudiobookResponseWrapper"===(null==t?void 0:t.__typename)){if("Audiobook"===t.data.__typename){var n,r=t.data;return"ContextChapterPage"===(null===(n=r.chaptersV2)||void 0===n?void 0:n.__typename)&&r.chaptersV2.items.some((function(e){var t=e.entity;return"Chapter"===t.data.__typename&&Uu(t.data)}))}if("Podcast"===t.data.__typename){var a,i=t.data;return"ContextEpisodePage"===(null===(a=i.episodesV2)||void 0===a?void 0:a.__typename)&&i.episodesV2.items.some((function(e){var t=e.entity;return"Episode"===t.data.__typename&&Uu(t.data)}))}}return!1}(a);return{hasUserListenedToShow:s,loading:i}}function Uu(e){return"COMPLETED"===e.playedState.state||e.playedState.playPositionMilliseconds>=Pu}const Bu="osuFIR_6Jo9yKsmLL4y2",Fu="r1F2okBwH7F8pEGF7MEG",Wu="H2z72R8YxQVQF8UU_ymH",Vu="Pq5dXGGJ3mlXY0HFuhCS",Hu="plZRpYfm5PMEiSYLRj8P",zu="B8OPJYenwKO45OLDwLyY",Gu="HwHP6Y0kc7ksENQMXJ75",Ku="l2w2Hl3YN3bb4TcgyXcb",Yu="hWmnoRh1uj8ciMRAgL4f",qu="MXT688TwrGLq4tvesXwc",Qu="hQIFH0LbkGEHIdsQ20tQ";var Zu=function(e){var t=e.uri,n=e.rating,r=e.isBook,i=e.closeRatingModal,c=(0,o.useState)(null!=n?n:null),l=(0,A.A)(c,2),u=l[0],d=l[1],m=function(e,t){var n,r=(0,gu.L)(),i=(0,Tu.dh)().enqueueSnackbar,o=(0,xe.r)(Lu.b,{}),c=o.spec,l=o.logger,u=(0,_u.n)({mutationFn:(n=(0,a.A)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=3;break}return n.next=3,r.updateUserRating(e,t);case 3:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)}),onSuccess:function(){var n=c.submitRatingButtonFactory().hitSubmitRating({rating:t,entityUri:e});l.logInteraction(n),i(h.Ru.get("web-player.show.rating.snackbarSuccess"))},onError:function(){i(h.Ru.get("web-player.show.rating.snackbarFailure"))}});return{onSubmitRating:u.mutateAsync}}(t,null!=u?u:0),p=m.onSubmitRating,g=null!==u&&u!==n,v=Array.from(Array(5).keys(),(function(e){return e+1}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:qu,children:v.map((function(e){return(0,f.jsx)(De.H,{"aria-label":r?h.Ru.get("web-player.audiobooks.rating.starAriaLabel",e):h.Ru.get("web-player.show.rating.starAriaLabel",e),className:Qu,onClick:function(){return d(e)},iconOnly:function(){return u&&u>=e?(0,f.jsx)(Ou.j,{size:"large",semanticColor:"textBase"}):(0,f.jsx)(Su.a,{size:"large"})}},e)}))}),(0,f.jsx)(Le.$,{"aria-label":h.Ru.get("web-player.show.rating.submit"),colorSet:"invertedLight",disabled:!g,onClick:function(){u&&p(),i()},children:h.Ru.get("web-player.show.rating.submit")})]})},Ju=function(e){var t=e.isBook,n=e.onDismiss;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(j.E,{as:"p",variant:"titleSmall",className:Ku,children:t?h.Ru.get("web-player.audiobooks.rating.listenFirstTitle"):h.Ru.get("web-player.show.rating.listenFirstTitle")}),(0,f.jsx)(j.E,{as:"p",className:Yu,variant:"bodyMedium",children:t?h.Ru.get("web-player.audiobooks.rating.listenFirstDescription"):h.Ru.get("web-player.show.rating.listenFirstDescription")}),(0,f.jsx)(Le.$,{colorSet:"invertedLight",onClick:n,children:h.Ru.get("web-player.audiobooks.rating.ok")})]})},Xu=function(e){var t,n,r=e.uri,a=e.isBook,i=e.rating,s=e.spec,o=e.logger,c=e.closeRatingModal,l=Mu(r),u=l.hasUserListenedToShow;return l.loading?(0,f.jsx)(Iu.m,{}):null!=i&&i.canRate&&u?(0,f.jsx)(Zu,{uri:r,rating:null!==(t=null==i||null===(n=i.rating)||void 0===n?void 0:n.rating)&&void 0!==t?t:null,isBook:a,closeRatingModal:c}):(0,f.jsx)(Ju,{isBook:a,onDismiss:function(){o.logInteraction(s.okButtonFactory().hitUiNavigateBack()),c()}})},$u=o.memo((function(e){var t=e.uri,n=e.metadata,r=e.isOpen,a=(0,c.wA)(),i=Boolean(n&&(0,fu.Go)(n)),s=(0,p.g)(null==n?void 0:n.coverArt,{desiredSize:320}),o=(0,xe.r)(Au.e,{data:{identifier:i?Nu.$h.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK:Nu.$h.RATINGS_AND_REVIEWS_RATINGS,uri:t}}),l=o.spec,u=o.logger,m=null==n?void 0:n.rating,g=function(){a((0,d.Kc)())};return(0,f.jsx)(O.A,{contentLabel:"podcast-rating-modal",isOpen:r,onRequestClose:g,children:(0,f.jsxs)("div",{className:Bu,children:[(0,f.jsxs)("div",{className:Wu,children:[(0,f.jsx)(j.E,{as:"h1",variant:"titleSmall",className:Gu,children:i?h.Ru.get("web-player.audiobooks.rating.rateAudiobook"):h.Ru.get("web-player.show.rating.header")}),(0,f.jsxs)("button",{className:Vu,onClick:function(){var e=l.closeButtonFactory().hitUiNavigateBack();u.logInteraction(e),g()},children:[(0,f.jsx)(w.M,{role:"presentation"}),(0,f.jsx)("span",{className:"hidden-visually",children:h.Ru.get("web-player.audiobooks.rating.closeModal")})]})]}),(0,f.jsxs)("div",{className:Hu,children:[(0,f.jsx)(Xt._,{loading:"eager",src:null==s?void 0:s.url,className:Fu}),(0,f.jsx)("div",{className:zu,children:(0,f.jsx)(_c.u,{property:k.skl,renderNewExperience:function(){return(0,f.jsx)(Xu,{uri:t,rating:m,isBook:i,closeRatingModal:g,spec:l,logger:u})},renderOldExperience:function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(j.E,{as:"p",variant:"bodyMediumBold",className:Ku,children:i?h.Ru.get("web-player.audiobooks.rating.wantToRate"):h.Ru.get("web-player.show.rating.want-to-rate")}),(0,f.jsx)(j.E,{as:"p",className:Yu,children:h.Ru.get("web-player.audiobooks.rating.goToApp")}),(0,f.jsx)(Le.$,{colorSet:"invertedLight",onClick:function(){var e=l.okButtonFactory().hitUiNavigateBack();u.logInteraction(e),g()},children:h.Ru.get("web-player.audiobooks.rating.ok")})]})}})})]})]})})})),ed=function(){var e=(0,c.d4)((function(e){return e.ui.showRatingModalState})),t=e.uri,n=e.isOpen,r=e.metadata;return t&&r?(0,f.jsx)($u,{uri:t,metadata:r,isOpen:n}):null},td=(n(12771),n(70209)),nd=n(39261),rd=n(36169),ad={macOS:"https://download.scdn.co/SpotifyInstaller.zip",Windows:"https://download.scdn.co/SpotifySetup.exe"},id={iOS:"https://app.adjust.com/wp2zrj?adgroup=signup_to_listen&campaign=default&tracker_limit=250000",Android:"https://app.adjust.com/ff0trr?adgroup=signup_to_listen&campaign=default&tracker_limit=250000"};const sd="nA6L5ghQWwxyiSLduNyb",od="CgsDbaLb2DCGHkrw4wiw",cd="qp1xbhJfglEmJAWm6pdy",ld="fFk09sW_YL0Qsk8lYOfD",ud="BDNNVyxsxgQQvGmij9M1",dd="ChX5nojraEtlxQULfJFk",md="XV07akXqG5L_suY2X8ML",pd="j8qAQ6XAb2YSBUEzUqEV",gd="xZnbvSzpNSY7qnC6X8Rf",fd="FZncbwv9M2sxuY27K8YO";var vd=(0,o.memo)((function(){var e,t=(0,c.wA)(),n=(0,c.d4)((function(e){return e.ui.signupToListenDialog.isOpen})),r=(0,nd.W)(),a=(0,c.d4)((function(e){return e.session.userCountry})),i=(0,c.d4)((function(e){return e.features.isPodcastEnabled})),s=(0,yn.W)(),l=(e=(0,rd.f)(),Object.keys(ad).includes(e)?ad[e]:Object.keys(id).includes(e)?id[e]:"https://spotify.com/download"),u=(0,ge.vh)();(0,o.useEffect)((function(){s({intent:"navigate",type:"view"})}),[s]);var m=(0,o.useCallback)((function(){var e={category:"in_app_message",action:"click",label:"dismiss",destination_url:"open.spotify.com",os:(0,rc.f)(),country:a,context:window.location.search},n=(0,td._)(e);u.send(n),s({intent:"close",type:"click"}),t((0,d.BY)())}),[t,s,u,a]),p=(0,o.useCallback)((function(){var e={category:"in_app_message",action:"click",label:"download",destination_url:l,os:(0,rc.f)(),country:a,context:window.location.search},n=(0,td._)(e);u.send(n),s({intent:"download",type:"click"}),t((0,d.BY)()),window.open(l,"_self")}),[t,s,l,u,a]);return(0,f.jsx)(O.A,{animated:!0,isOpen:n,className:sd,overlayClassName:od,contentLabel:h.Ru.get("s2l.download_spotify"),onRequestClose:m,children:(0,f.jsxs)("div",{className:cd,children:[(0,f.jsxs)("div",{className:ld,children:[(0,f.jsx)("div",{className:"".concat(dd),children:(0,f.jsx)("img",{className:md,alt:"Web Player",src:(0,_e.b)(r?"images/s2l-desktopui-rtl.png":"images/s2l-desktopui-ltr.png")})}),(0,f.jsxs)("div",{className:ud,children:[(0,f.jsx)(j.E,{as:"h1",variant:"titleSmall",className:pd,children:h.Ru.get("s2l.download_spotify")}),(0,f.jsx)(j.E,{as:"p",semanticColor:"textSubdued",className:gd,children:i?h.Ru.get("s2l.play_millions_podcasts"):h.Ru.get("s2l.play_millions")}),(0,f.jsx)(Le.$,{onClick:p,children:h.Ru.get("s2l.download")})]})]}),(0,f.jsx)(De.H,{onClick:m,semanticColor:"textBase",className:fd,children:h.Ru.get("s2l.dismiss")})]})})})),bd=(0,o.memo)((function(){return(0,f.jsx)(Tt.pZ,{value:"signup-to-listen",children:(0,f.jsx)(o.Suspense,{fallback:null,children:(0,f.jsx)(vd,{})})})})),hd=n(19730),xd=n(31822),yd=n(39509),Rd=n(87246),kd=n(14357),Ed=n(40399),jd=n(50778),Cd=function(e,t){return e.build().withHost(jd.i6).withPath("/v0/experimental/".concat(t,"/credits")).withoutMarket().withEndpointIdentifier("/v0/experimental/{trackId}/credits").send()},wd=n(59518);function Od(e){switch(e){case"Performers":return h.Ru.get("track-credits.performers");case"Writers":return h.Ru.get("track-credits.writers");case"Producers":return h.Ru.get("track-credits.producers");default:return e}}function Sd(e){switch(e){case"assistant recording engineer":return h.Ru.get("track-credits.assistant-recording-engineer");case"engineer":return h.Ru.get("track-credits.engineer");case"assistant engineer":return h.Ru.get("track-credits.assistant-engineer");case"trumpet":return h.Ru.get("track-credits.trumpet");case"guitar":return h.Ru.get("track-credits.guitar");case"composer and lyricist":return h.Ru.get("track-credits.composer-and-lyricist");case"associated performer":return h.Ru.get("track-credits.associated-performer");case"background vocals":return h.Ru.get("track-credits.background-vocals");case"bass":return h.Ru.get("track-credits.bass");case"co-producer":return h.Ru.get("track-credits.co-producer");case"additional engineer":return h.Ru.get("track-credits.additional-engineer");case"masterer":return h.Ru.get("track-credits.masterer");case"mixer":return h.Ru.get("track-credits.mixer");case"recording engineer":return h.Ru.get("track-credits.recording-engineer");case"accordion":return h.Ru.get("track-credits.accordion");case"piano":return h.Ru.get("track-credits.piano");case"organ":return h.Ru.get("track-credits.organ");case"background vocal":return h.Ru.get("track-credits.background-vocal");case"recorded by":return h.Ru.get("track-credits.recorded-by");case"mixing engineer":return h.Ru.get("track-credits.mixing-engineer");case"editor":return h.Ru.get("track-credits.editor");case"fiddle":return h.Ru.get("track-credits.fiddle");case"additional vocals":return h.Ru.get("track-credits.additional-vocals");case"violin":return h.Ru.get("track-credits.violin");case"viola":return h.Ru.get("track-credits.viola");case"percussion":return h.Ru.get("track-credits.percussion");case"mastering engineer":return h.Ru.get("track-credits.mastering-engineer");case"composer":return h.Ru.get("track-credits.composer");case"additional keyboards":return h.Ru.get("track-credits.additional-keyboards");case"mix engineer":return h.Ru.get("track-credits.mix-engineer");case"mandolin":return h.Ru.get("track-credits.mandolin");case"acoustic guitar":return h.Ru.get("track-credits.acoustic-guitar");case"keyboards":return h.Ru.get("track-credits.keyboards");case"synthesizer":return h.Ru.get("track-credits.synthesizer");case"drum programmer":return h.Ru.get("track-credits.drum-programmer");case"programmer":return h.Ru.get("track-credits.programmer");case"assistant mixer":return h.Ru.get("track-credits.assistant-mixer");case"assistant mixing engineer":return h.Ru.get("track-credits.assistant-mixing-engineer");case"digital editor":return h.Ru.get("track-credits.digital-editor");case"drums":return h.Ru.get("track-credits.drums");case"drum programming":return h.Ru.get("track-credits.drum-programming");case"conga":return h.Ru.get("track-credits.conga");case"samples":return h.Ru.get("track-credits.samples");case"audio recording engineer":return h.Ru.get("track-credits.audio-recording-engineer");case"audio additional mix engineer":return h.Ru.get("track-credits.audio-additional-mix-engineer");case"recording":return h.Ru.get("track-credits.recording");case"assistant producer":return h.Ru.get("track-credits.assistant-producer");case"writer":return h.Ru.get("track-credits.writer");case"strings":return h.Ru.get("track-credits.strings");case"music publisher":return h.Ru.get("track-credits.music-publisher");case"programming":return h.Ru.get("track-credits.programming");case"music production":return h.Ru.get("track-credits.music-production");case"background vocalist":return h.Ru.get("track-credits.background-vocalist");case"producer":return h.Ru.get("track-credits.producer");case"vocal":return h.Ru.get("track-credits.vocal");case"songwriter":return h.Ru.get("track-credits.songwriter");case"lyricist":return h.Ru.get("track-credits.lyricist");case"additional mixer":return h.Ru.get("track-credits.additional-mixer");case"upright bass":return h.Ru.get("track-credits.upright-bass");case"clapping":return h.Ru.get("track-credits.clapping");case"electric bass":return h.Ru.get("track-credits.electric-bass");case"horn arranger":return h.Ru.get("track-credits.horn-arranger");case"flugelhorn":return h.Ru.get("track-credits.flugelhorn");case"second engineer":return h.Ru.get("track-credits.second-engineer");case"rhythm guitar":return h.Ru.get("track-credits.rhythm-guitar");case"bass guitar":return h.Ru.get("track-credits.bass-guitar");case"electric guitar":return h.Ru.get("track-credits.electric-guitar");case"dobro":return h.Ru.get("track-credits.dobro");case"instruments":return h.Ru.get("track-credits.instruments");case"vocal ensemble":return h.Ru.get("track-credits.vocal-ensemble");case"recording arranger":return h.Ru.get("track-credits.recording-arranger");case"arranger":return h.Ru.get("track-credits.arranger");case"steel guitar":return h.Ru.get("track-credits.steel-guitar");case"executive producer":return h.Ru.get("track-credits.executive-producer");case"additional production":return h.Ru.get("track-credits.additional-production");case"designer":return h.Ru.get("track-credits.designer");case"assistant mix engineer":return h.Ru.get("track-credits.assistant-mix-engineer");case"studio musician":return h.Ru.get("track-credits.studio-musician");case"voice performer":return h.Ru.get("track-credits.voice-performer");case"orchestra":return h.Ru.get("track-credits.orchestra");case"chamber ensemble":return h.Ru.get("track-credits.chamber-ensemble");case"additional percussion":return h.Ru.get("track-credits.additional-percussion");case"cajon":return h.Ru.get("track-credits.cajon");case"miscellaneous production":return h.Ru.get("track-credits.miscellaneous-production");case"backing vocals":return h.Ru.get("track-credits.backing-vocals");case"pedal steel":return h.Ru.get("track-credits.pedal-steel");case"additional producer":return h.Ru.get("track-credits.additional-producer");case"keyboard arrangements":return h.Ru.get("track-credits.keyboards-arrangements");case"saxophone":return h.Ru.get("track-credits.saxophone");case"sound engineer":return h.Ru.get("track-credits.sound-engineer");case"assistant remix engineer":return h.Ru.get("track-credits.assistant-remix-engineer");case"double bass":return h.Ru.get("track-credits.double-bass");case"co-writer":return h.Ru.get("track-credits.co-writer");case"pro tools":return h.Ru.get("track-credits.pro-tools");case"tape realization":return h.Ru.get("track-credits.tape-realization");case"ambient sounds":return h.Ru.get("track-credits.ambient-sounds");case"sound effects":return h.Ru.get("track-credits.sound-effects");case"harp":return h.Ru.get("track-credits.harp");case"cymbals":return h.Ru.get("track-credits.cymbals");case"vocal engineer":return h.Ru.get("track-credits.vocal-engineer");case"mellotron":return h.Ru.get("track-credits.mellotron");case"recorder":return h.Ru.get("track-credits.recorder");case"main artist":return h.Ru.get("track-credits.main-artist");case"production":return h.Ru.get("track-credits.production");case"artist":return h.Ru.get("track-credits.artist");case"vocals":return h.Ru.get("track-credits.vocals");case"featuring":return h.Ru.get("track-credits.featuring");case"featured artist":return h.Ru.get("track-credits.featured-artist");case"work arranger":return h.Ru.get("track-credits.work-arranger");case"mixing engineers":return h.Ru.get("track-credits.mixing-engineers");case"re-mixer":return h.Ru.get("track-credits.re-mixer");case"recording producer":return h.Ru.get("track-credits.recording-producer");case"co-mixer":return h.Ru.get("track-credits.co-mixer");case"bells":return h.Ru.get("track-credits.bells");case"pro tools editing":return h.Ru.get("track-credits.pro-tools-editing");case"vibraphone":return h.Ru.get("track-credits.vibraphone");case"additional recording":return h.Ru.get("track-credits.additional-recording");case"vocal producer":return h.Ru.get("track-credits.vocal-producer");case"sitar":return h.Ru.get("track-credits.sitar");case"cello":return h.Ru.get("track-credits.cello");case"flute":return h.Ru.get("track-credits.flute");case"horn":return h.Ru.get("track-credits.horn");case"brass band":return h.Ru.get("track-credits.brass-band");case"programming and keyboards":return h.Ru.get("track-credits.programming-and-keyboards");case"all instruments":return h.Ru.get("track-credits.all-instruments");case"programmed and arranged by":return h.Ru.get("track-credits.programmed-and-arranged-by");case"additional programmer":return h.Ru.get("track-credits.additional-programmer");case"recording and mixing":return h.Ru.get("track-credits.recording-and-mixing");case"engineer and mixer":return h.Ru.get("track-credits.engineer-and-mixer");case"vocal arranger":return h.Ru.get("track-credits.vocal-arranger");case"income participant":return h.Ru.get("track-credits.income-participant");default:return e}}const Ad="main-trackCreditsModal-container",Nd="main-trackCreditsModal-header",Id="main-trackCreditsModal-closeBtn",_d="main-trackCreditsModal-mainSection",Td="main-trackCreditsModal-originalCredits",Ld="main-trackCreditsModal-sectionTitle",Dd="main-trackCreditsModal-creditsGroup",Pd="main-trackCreditsModal-creditsEntry",Md="main-trackCreditsModal-clickableCreditsEntry",Ud="main-trackCreditsModal-sourceNames",Bd="main-trackCreditsModal-additionalCredits";var Fd=(0,o.memo)((function(){var e=(0,c.wA)(),t=(0,c.d4)((function(e){return e.ui.trackCreditsModal})),n=t.isOpen,r=t.trackUri,a=r.split(":"),i=a[a.length-1],s=(0,wd.Z)(Cd,[i]),l=s.data,u=s.error,m=s.loading,p=(0,o.useCallback)((function(){e((0,d.P0)(!1,""))}),[e]),g=(0,ge.vh)(),v=(0,c.d4)(Co.Ht).isAnonymous,b=(0,xe.r)(Ed.i,{data:{uri:r}}),x=b.spec,y=b.logger;return(0,f.jsx)(O.A,{contentLabel:h.Ru.get("track-credits.label"),isOpen:n,onRequestClose:p,children:!m&&!u&&l&&(0,f.jsxs)("div",{className:Ad,children:[(0,f.jsxs)("div",{className:Nd,children:[(0,f.jsx)(j.E,{as:"h1",variant:"titleMedium",children:h.Ru.get("track-credits.label")}),(0,f.jsx)("button",{"aria-label":h.Ru.get("close"),className:Id,onClick:p,children:(0,f.jsx)(jc.A,{width:18,height:18,fill:"white"})})]}),(0,f.jsxs)("div",{className:_d,onScroll:v?function(){return g.send((0,kd.s)({track_uri:r}))}:function(){return g.send((0,Rd.h)({track_uri:r}))},children:[(0,f.jsxs)("div",{className:Td,children:[(0,f.jsx)(j.E,{as:"h2",className:Ld,variant:"bodyMediumBold",children:l.body.trackTitle}),l.body.roleCredits.map((function(e,t){var n=x.creditSectionFactory({position:t});return(0,f.jsxs)("div",{className:Dd,children:[(0,f.jsx)(j.E,{as:"p",variant:"bodySmallBold",children:Od(e.roleTitle)}),e.artists.length>0?e.artists.map((function(t){var a=t.name,i=t.uri,s=t.externalUrl;return s?(0,f.jsx)("a",{href:s,draggable:!1,rel:"noopener noreferrer",onClick:function(){var t=n.artistNameFactory({uri:null!=i?i:""}).hitNavigateToExternalUri({destination:s});y.logInteraction(t),v?g.send((0,yd._)({track_uri:r,clickable_text:a,role:e.roleTitle,external_url:s})):g.send((0,xd.d)({track_uri:r,clickable_text:a,role:e.roleTitle,external_url:s}))},target:"_blank",className:Md,children:a},a):(0,f.jsx)(j.E,{className:Pd,variant:"bodySmall",semanticColor:"textSubdued",children:a},a)})):"-"]},e.roleTitle)})),(0,f.jsxs)(j.E,{as:"p",variant:"bodySmall",children:[h.Ru.get("track-credits.source"),":"," ",l.body.sourceNames.join(h.Ru.getSeparator())]})]}),l.body.extendedCredits&&l.body.extendedCredits.length>0&&(0,f.jsxs)("div",{className:Bd,children:[(0,f.jsx)(j.E,{as:"h3",className:Ld,variant:"bodyMediumBold",children:h.Ru.get("track-credits.additional-credits")}),l.body.extendedCredits.map((function(e){return(0,f.jsxs)("div",{className:Dd,children:[(0,f.jsx)(j.E,{as:"p",variant:"bodySmallBold",children:Sd(e.roleTitle.toLowerCase())}),e.artists.map((function(t){return(0,f.jsx)("a",{href:t.url,draggable:!1,rel:"noopener noreferrer",onClick:function(){v||g.send((0,hd.L)({track_uri:r,clickable_text:t.name,role:e.roleTitle,external_url:t.url}))},target:"_blank",className:Md,children:t.name},t.name)}))]},e.roleTitle)})),(0,f.jsxs)(j.E,{as:"p",variant:"bodySmall",className:Ud,semanticColor:"textSubdued",children:[h.Ru.get("track-credits.source"),":"," ",(0,f.jsx)("a",{draggable:!1,rel:"noopener noreferrer",target:"_blank",href:"https://soundbetter.com",children:"SoundBetter"})]})]})]})]})})})),Wd=n(55569),Vd=n.n(Wd),Hd=n(50793);n(50932);function zd(){var e=document.createElement("canvas"),t=e.getContext("2d");return t&&(function(e){e.beginPath(),e.fillStyle="rgb(0, 200, 255)",e.arc(50,50,50,0,2*Math.PI,!0),e.fill(),e.stroke(),e.closePath()}(t),function(e){e.textBaseline="top",e.font="13pt Arial",e.textBaseline="alphabetic",e.fillStyle="rgb(255, 5, 5)",e.rotate(.8),e.fillText("random#$%^@",4,17),e.fillStyle="rgb(165,205,5)",e.shadowBlur=8,e.shadowColor="green",e.fillRect(20,12,105,5)}(t)),e}var Gd=function(){var e=(0,ge.vh)();return(0,o.useEffect)((function(){var t=zd().toDataURL("image/png"),n=Vd()(t);e.send((0,Hd.u)({h:n}))}),[e]),null},Kd=function(){var e=(0,o.useRef)(!1);return!(0,l.NC)(k.x_7)||e.current?null:(e.current=!0,(0,f.jsx)(Gd,{}))},Yd=n(58634),qd=n(8608),Qd=n(43810),Zd=n(30040),Jd=n(20176),Xd=n(92975),$d=n(27338),em=null;var tm=function(){var e=function(){var e,t=(0,o.useState)(null),n=(0,A.A)(t,2),r=n[0],i=n[1],c=(0,ge.vh)(),l=(0,$d.d)(),u=l.isTrustedRef,d=l.isTrustedFn,m=(0,Yd.I)({enabled:!1,queryKey:["fetchVerification"],queryFn:(e=(0,a.A)(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Zd.n.getInstance(),e.next=3,(0,Jd.Q)(t);case 3:return n=e.sent,r=n.body,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}),p=m.data,g=m.refetch,f=m.error;return(0,o.useEffect)((function(){p&&p.length>0&&(0,a.A)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:t=null==p?void 0:p[0].id,i(t),c.send((0,qd.n)({id:t,method:"IN_APP_VERIFICATION_V0",is_trusted:u.current}));case 5:case"end":return e.stop()}}),e)})))(),f&&c.send((0,Qd.D)({method:"IN_APP_VERIFICATION_V0",error_message:f instanceof Xd.O?f.name:null,http_method:"get",http_path:"/verifications"}))}),[p,f,c,d,u]),{verificationId:r,refetch:g}}(),t=e.verificationId,n=e.refetch;return(0,bs.p)(vs.gd.UPDATE,(function(e){var r,a;if(!t){var i,s="number"==typeof(null==e||null===(r=e.data)||void 0===r?void 0:r.positionAsOfTimestamp)&&e.data.positionAsOfTimestamp>=0&&e.data.positionAsOfTimestamp<=1e3;null!=e&&null!==(a=e.data)&&void 0!==a&&a.isPaused||!s||(i=performance.now(),em&&i-em<6e5||(em=i,0))||n()}})),t},nm=(0,o.lazy)((function(){return Promise.all([n.e(4151),n.e(9210)]).then(n.bind(n,19210))})),rm=function(){var e=(0,l.NC)(k.IqJ),t=(0,o.useState)(!1),n=(0,A.A)(t,2),r=n[0],a=n[1],i=tm();return(0,o.useEffect)((function(){a(!!i)}),[i]),e&&r?(0,f.jsx)(o.Suspense,{fallback:null,children:(0,f.jsx)(nm,{verificationId:"".concat(i)})}):null},am=n(98350);function im(){return null}function sm(){var e,t=(0,am.x)("lintHtmlWithCss",!1);(0,A.A)(t,1)[0];return e=im,(0,f.jsx)(o.Suspense,{fallback:null,children:(0,f.jsx)(e,{})})}function om(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?om(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):om(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lm=(0,o.lazy)((0,a.A)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(4151),n.e(7228)]).then(n.bind(n,97228));case 2:return t=e.sent,r=t.DsaModal,e.abrupt("return",{default:r});case 5:case"end":return e.stop()}}),e)})))),um=(0,o.lazy)((0,a.A)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(4151),n.e(4574)]).then(n.bind(n,14774));case 2:return t=e.sent,r=t.YourSoundCapsuleModal,e.abrupt("return",{default:r});case 5:case"end":return e.stop()}}),e)})))),dm=o.memo((function(e){var t=e.isDesktop,n=(0,l.NC)(k.SeK,{loadingValue:!1}),r=(0,o.useRef)(null),a=(0,c.d4)((function(e){return e.ui.deletePlaylistDialog})),i=(0,c.d4)((function(e){return e.ui.deleteFolderDialog})),s=(0,c.d4)((function(e){return e.ui.removeFromLibraryDialog})),d=(0,c.d4)((function(e){return e.ui.premiumDialog})),m=(0,c.d4)((function(e){return e.ui.loginToListenDialog})),p=(0,c.d4)((function(e){return e.ui.signupToListenDialog})),g=(0,c.d4)((function(e){return e.ui.improvedSignupPromptDialog})),b=(0,c.d4)((function(e){return e.ui.removeDownloadsDialog})),h=(0,c.d4)((function(e){return e.ui.clearCacheDialog})),x=(0,c.d4)((function(e){return e.ui.renameFolderModal})),y=(0,c.d4)((function(e){return e.ui.removeDownloadConfirmationDialog})),E=(0,c.d4)((function(e){return e.ui.artistAboutDialog})),j=(0,c.d4)((function(e){return e.ui.yourDJUpsellDialog})),C=(0,c.d4)((function(e){return e.ui.dsaDialog})),w=(0,c.d4)((function(e){return e.ui.trackCreditsModal})),O=(0,c.d4)((function(e){return e.ui.createCoverArtModal})),S=(0,c.d4)((function(e){return e.ui.tunaModal})),A=(0,l.NC)(k.wXB),N=(0,c.d4)(Xs.f);return(0,f.jsxs)(f.Fragment,{children:[a.isOpen&&(0,f.jsx)(Tt.pZ,{value:"delete-playlist-modal",children:(0,f.jsx)(Fo,{})}),i.isOpen&&(0,f.jsx)(Tt.pZ,{value:"delete-folder-modal",children:(0,f.jsx)(_o,{})}),s.isOpen&&(0,f.jsx)(Tt.pZ,{value:"delete-folder-modal",children:(0,f.jsx)(hu,{})}),d.isOpen&&(0,f.jsx)(Tt.pZ,{value:"premium-modal",children:(0,f.jsx)(pu,{})}),m.isOpen&&(0,f.jsx)(Tt.pZ,{value:"login-to-listen-modal",children:(0,f.jsx)(Zc,{})}),p.isOpen&&(0,f.jsx)(Tt.pZ,{value:"signup-to-listen-modal",children:(0,f.jsx)(bd,{})}),g.isOpen&&(0,f.jsx)(wn,{uri:g.uri}),b.isOpen&&(0,f.jsx)(cs,{}),h.isOpen&&(0,f.jsx)(ls,{}),x.isOpen&&(0,f.jsx)(wu,{name:x.name,onRename:x.handleRename}),y.isOpen&&(0,f.jsx)(R,cm({},y)),E.isOpen&&(0,f.jsx)(v,{}),j.isOpen&&(0,f.jsx)(Tt.pZ,{value:"your-dj-upsell-modal",children:(0,f.jsx)(Vs.tW,{})}),(0,f.jsx)(It,{}),(0,f.jsx)(gs,{}),(0,f.jsx)(il,{}),(0,f.jsx)(rl,{}),(0,f.jsx)(Xi,{}),(0,f.jsx)(Mn,{}),n&&C.isOpen&&C.item&&(0,f.jsx)(o.Suspense,{fallback:null,children:(0,f.jsx)(lm,{item:C.item})}),(0,f.jsx)(ed,{}),(0,f.jsx)(rm,{}),(0,f.jsx)(Kd,{}),(0,f.jsx)(o.Suspense,{fallback:null,children:(0,f.jsx)(iu,{})}),(0,f.jsx)(o.Suspense,{fallback:null,children:(0,f.jsx)(de,{})}),(0,f.jsx)(u.kS,{}),(0,f.jsx)($o,{}),(0,f.jsx)(Ic,{}),(0,f.jsx)(No,{}),t&&(0,f.jsx)(Ho,{}),(0,f.jsx)(io,{}),(0,f.jsx)(Va.A,{languageSelectionModalRef:r}),(0,f.jsx)(Zs,{}),(0,f.jsx)(Qt,{}),(0,f.jsx)(Ht,{}),(0,f.jsx)(ko,{}),(0,f.jsx)(Cc,{}),(0,f.jsx)(Wa,{}),(0,f.jsx)(sm,{}),(0,f.jsx)(Zi,{}),(0,f.jsx)(lc,{}),(0,f.jsx)(Ws,{}),N&&!t&&(0,f.jsx)(o.Suspense,{fallback:null,children:(0,f.jsx)(um,{})}),w.isOpen&&(0,f.jsx)(Fd,{}),(0,f.jsx)("div",{ref:r}),O.isOpen&&(0,f.jsx)(La,{name:O.name,uri:O.uri}),A&&S.isOpen&&(0,f.jsx)(o.Suspense,{fallback:null,children:(0,f.jsx)(_t,{})})]})}))},63617:(e,t,n)=>{n.d(t,{T:()=>i});var r=n(79621),a=n(86070),i=function(e){var t=e.color,n=void 0===t?r.black:t,i=e.height,s=void 0===i?"30":i,o=e.className;return(0,a.jsxs)("svg",{className:o,width:"114",role:"img",height:s,viewBox:"0 0 114 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("title",{id:"spotify-premium-logo-icon",children:"Spotify logo"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.7835 10.7851C37.7835 10.6921 37.86 10.6156 37.9545 10.6156L40.1039 10.6246C41.8485 10.6246 42.849 11.4421 42.849 12.9076C42.849 14.2486 41.745 15.1501 40.1039 15.1501L37.9545 15.1411C37.86 15.1411 37.7835 15.0646 37.7835 14.9701V10.7851ZM40.296 8.11502L35.232 8.10602C35.1375 8.10602 35.061 8.18252 35.061 8.27552V21.8085C35.061 21.903 35.1375 21.9795 35.232 21.9795H37.614C37.707 21.9795 37.7835 21.903 37.7835 21.8085V17.631L40.026 17.64C43.4175 17.64 45.6105 15.759 45.6105 12.81C45.6105 9.95852 43.524 8.11502 40.296 8.11502Z",fill:n}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M58.4025 13.4759C59.9115 13.4759 60.6195 14.6519 60.7964 15.8174H55.956C56.217 14.3879 57.1605 13.4759 58.4025 13.4759ZM58.4218 11.217C55.4805 11.217 53.262 13.5765 53.262 16.704V16.743C53.262 19.911 55.5375 22.2105 58.6725 22.2105C60.264 22.2105 61.599 21.6705 62.6473 20.604C62.718 20.5305 62.8723 20.355 62.9775 20.2335C63.039 20.163 63.0315 20.058 62.961 19.995L61.5795 18.7695C61.5165 18.714 61.4235 18.714 61.362 18.7695C61.212 18.9075 60.957 19.14 60.93 19.161C60.24 19.7115 59.553 19.953 58.7115 19.953C57.2985 19.953 56.268 19.098 55.98 17.7075H63.4305L63.4485 17.4975C63.4663 17.28 63.4831 17.079 63.4831 16.878C63.4831 14.061 61.9185 11.217 58.4218 11.217Z",fill:n}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M76.7895 11.217C75.414 11.217 74.289 11.76 73.3575 12.876C72.7245 11.8035 71.6474 11.217 70.296 11.217C68.8529 11.217 67.968 11.9145 67.356 12.645V11.5995C67.356 11.5065 67.2795 11.43 67.1865 11.43H64.8435C64.749 11.43 64.6724 11.5065 64.6724 11.5995V21.8085C64.6724 21.903 64.749 21.9795 64.8435 21.9795H67.1865C67.2795 21.9795 67.356 21.903 67.356 21.8085V16.0665C67.356 14.622 68.1465 13.6875 69.3675 13.6875C70.5719 13.6875 71.2635 14.5275 71.2635 15.99V21.8085C71.2635 21.903 71.34 21.9795 71.433 21.9795H73.776C73.8705 21.9795 73.9469 21.903 73.9469 21.8085V16.047C73.9469 14.5695 74.6985 13.6875 75.9585 13.6875C77.5245 13.6875 77.8529 14.9505 77.8529 16.0095V21.8085C77.8529 21.903 77.9295 21.9795 78.024 21.9795H80.367C80.4615 21.9795 80.5365 21.903 80.5365 21.8085V15.294C80.5365 12.741 79.1355 11.217 76.7895 11.217Z",fill:n}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M93.0376 17.361C93.0376 18.795 92.2021 19.7205 90.9106 19.7205C89.6131 19.7205 88.8991 18.897 88.8991 17.4V11.5995C88.8991 11.5065 88.8226 11.43 88.7279 11.43H86.3849C86.2921 11.43 86.2156 11.5065 86.2156 11.5995V18.096C86.2156 20.622 87.6736 22.191 90.0211 22.191C91.2421 22.191 92.2321 21.7155 93.0376 20.7405V21.8085C93.0376 21.903 93.1141 21.9795 93.2071 21.9795H95.5501C95.6446 21.9795 95.7211 21.903 95.7211 21.8085V11.5995C95.7211 11.5065 95.6446 11.43 95.5501 11.43H93.2071C93.1141 11.43 93.0376 11.5065 93.0376 11.5995V17.361Z",fill:n}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M109.308 11.217C107.934 11.217 106.808 11.76 105.876 12.876C105.243 11.8035 104.166 11.217 102.815 11.217C101.373 11.217 100.487 11.9145 99.876 12.6435V11.5995C99.876 11.5065 99.7995 11.43 99.705 11.43H97.362C97.269 11.43 97.1925 11.5065 97.1925 11.5995V21.8085C97.1925 21.903 97.269 21.9795 97.362 21.9795H99.705C99.7995 21.9795 99.876 21.903 99.876 21.8085V16.0665C99.876 14.622 100.665 13.6875 101.888 13.6875C103.092 13.6875 103.782 14.5275 103.782 15.99V21.8085C103.782 21.903 103.859 21.9795 103.953 21.9795H106.296C106.389 21.9795 106.466 21.903 106.466 21.8085V16.047C106.466 14.5695 107.217 13.6875 108.477 13.6875C110.045 13.6875 110.373 14.9505 110.373 16.0095V21.8085C110.373 21.903 110.45 21.9795 110.543 21.9795H112.886C112.98 21.9795 113.057 21.903 113.057 21.8085V15.294C113.057 12.741 111.656 11.217 109.308 11.217Z",fill:n}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.7354 11.232H52.4204C51.0464 11.2425 49.9229 11.919 49.1909 13.167V11.5995C49.1909 11.5065 49.1144 11.43 49.0199 11.43H46.6769C46.5824 11.43 46.5074 11.5065 46.5074 11.5995V21.8085C46.5074 21.903 46.5824 21.9795 46.6769 21.9795H49.0199C49.1144 21.9795 49.1909 21.903 49.1909 21.8085V17.922C49.1909 15.5085 50.3533 14.106 52.3859 14.0565L52.3889 14.055H52.7354C52.8119 14.055 52.8734 13.9935 52.8734 13.9155V11.3715C52.8734 11.295 52.8119 11.232 52.7354 11.232Z",fill:n}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84.5339 11.4975H82.2195C82.1265 11.4975 82.05 11.574 82.05 11.667V21.768C82.05 21.8625 82.1265 21.9375 82.2195 21.9375H84.5339C84.6285 21.9375 84.7035 21.8625 84.7035 21.768V11.667C84.7035 11.574 84.6285 11.4975 84.5339 11.4975Z",fill:n}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M83.388 6.8985C82.4715 6.8985 81.7275 7.641 81.7275 8.5575C81.7275 9.4755 82.4715 10.2195 83.388 10.2195C84.306 10.2195 85.0485 9.4755 85.0485 8.5575C85.0485 7.641 84.306 6.8985 83.388 6.8985Z",fill:n}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.8725 13.2975C19.038 10.4265 11.0625 10.1625 6.44685 11.5635C5.7045 11.7885 4.9215 11.37 4.6965 10.629C4.4715 9.88648 4.89 9.10348 5.6325 8.87848C10.9305 7.26898 19.7385 7.58098 25.305 10.884C25.9723 11.28 26.19 12.141 25.7955 12.807C25.3995 13.473 24.5385 13.6935 23.8725 13.2975ZM23.715 17.55C23.376 18.1005 22.656 18.273 22.1055 17.9355C18.075 15.4575 11.9279 14.7405 7.15953 16.188C6.54003 16.374 5.88753 16.026 5.70003 15.408C5.51253 14.79 5.86203 14.1375 6.48003 13.95C11.9279 12.297 18.7005 13.098 23.3295 15.9435C23.88 16.281 24.0525 17.001 23.715 17.55ZM21.8789 21.6345C21.609 22.077 21.0345 22.215 20.5935 21.9465C17.0715 19.794 12.6375 19.3065 7.41602 20.5005C6.91352 20.616 6.41102 20.2995 6.29702 19.797C6.18152 19.293 6.49502 18.792 7.00052 18.678C12.714 17.3715 17.6159 17.934 21.5685 20.349C22.0095 20.619 22.149 21.195 21.8789 21.6345ZM15 0C6.7155 0 0 6.7155 0 15C0 23.2845 6.7155 30 15 30C23.2845 30 30 23.2845 30 15C30 6.7155 23.2845 0 15 0Z",fill:n})]})}},32989:(e,t,n)=>{n.d(t,{j:()=>r,v:()=>a});n(24847),n(20427),n(62980),n(22711),n(47246);function r(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){var e,n;t(null!==(e=null===(n=r.result)||void 0===n?void 0:n.toString())&&void 0!==e?e:"")},r.onerror=function(e){return n(e)}}))}function a(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){var e=r.width,n=r.height;t([e,n])},r.src=e,r.onerror=function(e){return n(e)}}))}},11070:(e,t,n)=>{n.d(t,{p:()=>i});var r=n(98866),a=(n(60418),n(30758));function i(){var e=(0,a.useState)(!1),t=(0,r.A)(e,2),n=t[0],i=t[1];return[n,(0,a.useCallback)((function(){i(!0),setTimeout((function(){return i(!1)}),0)}),[i])]}},27338:(e,t,n)=>{n.d(t,{d:()=>Z});var r=n(29969),a=n(52618),i=n.n(a),s=n(30758),o=(n(45803),n(9856)),c=n.n(o);function l(){return"Chrome"===c().parse(navigator.userAgent).browser.name}function u(){return"Firefox"===c().parse(navigator.userAgent).browser.name}var d=n(67262),m=n(21339);function p(){return"webkitRequestAnimationFrame"in window}function g(){var e;return!(null===(e=window)||void 0===e||null===(e=e.CSS)||void 0===e||!e.supports)}function f(){return!g()||CSS.supports("-webkit-border-vertical-spacing","0")}n(39666);var v=56.1124478168614,b=56.1124478168614,h=56.1124478168614,x=56.11244781686139;function y(){return Math.hypot(-24.42,-50.519999999999925)}n(24847),n(20427),n(62980),n(47246);var R=33,k=33,E=37,j=37;function C(){return eval.toString().length}function w(){return C()===E&&y()===x&&(!g()||CSS.supports("-moz-box-sizing","content-box"))&&"mozInnerScreenX"in window}function O(){return!(l()&&!(window.chrome&&C()===R&&y()===v&&f()&&p()))&&(!(u()&&!w())&&(!!(!(0,m.n)()||C()===j&&y()===h&&f()&&p())&&!!(!(0,d.k)()||C()===k&&y()===b&&f()&&p())))}n(41681),n(92031),n(11034),n(65083);function S(){var e=navigator,t=e.userAgent,n=e.appVersion,r=null!=n?n:"";return/headless/i.test(t)||/headless/i.test(r)}function A(){for(var e=0,t=Object.keys(document);e<t.length;e++){if(t[e].startsWith("$cdc_"))return!0}return!1}function N(){return I.apply(this,arguments)}function I(){return(I=(0,r.A)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("permissions"in navigator){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,navigator.permissions.query({name:"notifications"});case 4:return n=e.sent,e.abrupt("return","denied"===(null===(t=window)||void 0===t||null===(t=t.Notification)||void 0===t?void 0:t.permission)&&"prompt"===n.state);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return T.apply(this,arguments)}function T(){return(T=(0,r.A)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=navigator.webdriver||S()||A()||""===navigator.languages||!(!navigator.plugins||navigator.plugins.length),e.t0){e.next=5;break}return e.next=4,N();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=n(98866),D=n(36169),P=n(79970);function M(){return(0,D.D)()===P.f.ChromeOS}function U(){if(!("platform"in navigator))return!0;if(M())return!0;var e=function(e){var t=e.split(" "),n=(0,L.A)(t,1)[0],r={MacIntel:"macOS",Win32:"Windows",Win64:"Windows",Linux:"Linux"};return n in r?r[n]:""}(navigator.platform);return!e||e===c().parse(navigator.userAgent).os.name}var B=function(e){return e.Ok="0",e.Warning="1",e.Error="2",e}({});function F(){return W.apply(this,arguments)}function W(){return(W=(0,r.A)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:if(!e.sent){e.next=6;break}e.t0=B.Error,e.next=7;break;case 6:e.t0=B.Ok;case 7:return e.t1=e.t0,e.t2=O()?B.Ok:B.Error,e.t3=U()?B.Ok:B.Error,e.abrupt("return",{headless:e.t1,browser:e.t2,os:e.t3});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=void 0;const H=(0,r.A)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=V)||void 0===t){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,F();case 6:e.t0=e.sent;case 7:return V=e.t0,e.abrupt("return",V);case 9:case"end":return e.stop()}}),e)})));function z(e,t){if(!("platform"in t))return!0;if(M())return!0;var n=function(e){var t=e.split(" "),n=(0,L.A)(t,1)[0],r={MacIntel:"macOS",Win32:"Windows",Win64:"Windows",Linux:"Linux"};return n in r?r[n]:""}(t.platform);return!n||n===c().parse(e).os.name}function G(){return K.apply(this,arguments)}function K(){return(K=(0,r.A)(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.chrome){e.next=2;break}return e.abrupt("return",!1);case 2:if(null!==(t=navigator.plugins)&&void 0!==t&&t.length){e.next=4;break}return e.abrupt("return",!1);case 4:if(""!==navigator.languages){e.next=6;break}return e.abrupt("return",!1);case 6:if(C()===R){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,navigator.permissions.query({name:"notifications"});case 10:if(r=e.sent,"denied"!==(null===(n=window)||void 0===n||null===(n=n.Notification)||void 0===n?void 0:n.permission)||"prompt"!==r.state){e.next=13;break}return e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=function(){var e=(0,r.A)(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.webdriver){e.next=2;break}return e.abrupt("return",!1);case 2:if(!S()){e.next=4;break}return e.abrupt("return",!1);case 4:if(e.t0=l(),!e.t0){e.next=9;break}return e.next=8,G();case 8:e.t0=!e.sent;case 9:if(!e.t0){e.next=11;break}return e.abrupt("return",!1);case 11:if(!u()||C()===E){e.next=13;break}return e.abrupt("return",!1);case 13:if(!(0,m.n)()||C()===j){e.next=15;break}return e.abrupt("return",!1);case 15:if(!(0,d.k)()||C()===k){e.next=17;break}return e.abrupt("return",!1);case 17:if(t=navigator,z(t.userAgent,navigator)){e.next=20;break}return e.abrupt("return",!1);case 20:n=Object.keys(document),r=0,a=n;case 22:if(!(r<a.length)){e.next=29;break}if(!a[r].startsWith("$cdc_")){e.next=26;break}return e.abrupt("return",!1);case 26:r++,e.next=22;break;case 29:return e.abrupt("return",!0);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=void 0;const Q=(0,r.A)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=q)||void 0===t){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,Y();case 6:e.t0=e.sent;case 7:return q=e.t0,e.abrupt("return",q);case 9:case"end":return e.stop()}}),e)})));function Z(){var e=(0,s.useRef)(void 0),t=(0,s.useRef)(!1),n=(0,s.useRef)(!1),a=(0,s.useRef)({}),o=(0,s.useCallback)(function(){var s=(0,r.A)(i().mark((function r(s){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,H();case 2:if(a.current=r.sent,s){r.next=8;break}return r.next=6,Q();case 6:return e.current=r.sent,r.abrupt("return");case 8:return r.next=10,Q();case 10:if(r.t0=!r.sent,r.t0){r.next=13;break}r.t0=!s.isTrusted;case 13:if(!r.t0){r.next=17;break}e.current=!1,r.next=18;break;case 17:"click"!==s.type?e.current=!0:n.current?e.current=t.current:e.current=!0;case 18:case"end":return r.stop()}}),r)})));return function(e){return s.apply(this,arguments)}}(),[]);return(0,s.useEffect)((function(){function e(){t.current=!0}function r(e){n.current="mouse"===e.pointerType}return document.addEventListener("mousemove",e),document.addEventListener("pointerdown",r),function(){document.removeEventListener("mousemove",e),document.removeEventListener("pointerdown",r)}}),[]),{isTrustedRef:e,isTrustedFn:o,metadataRef:a}}},46125:(e,t,n)=>{n.d(t,{X:()=>d,A:()=>Z});var r=n(30758),a=n(71309),i=n(30458),s=n(8539),o=n(65568),c=n(65785);const l="KsnGjjEeMb2miriJrkjW";var u=n(86070),d=function(){var e,t=s.Ru.getLocaleForTranslation(),n=null!==(e=o.IB[t])&&void 0!==e?e:o.IB.en,d=(0,c.ZZ)(),m=(0,r.useCallback)((function(){d({type:"OPEN"})}),[d]);return(0,u.jsx)("div",{className:l,children:(0,u.jsx)(a.n,{iconLeading:i.d,size:"small",onClick:m,"data-testid":"language-selection-button",children:n.displayName})})},m=n(66569),p=n(98866),g=(n(59208),n(9555),n(80710),n(83603),n(80766),n(10866),n(43864),n(18535),n(41681),n(62980),n(75231),n(21977),n(26980),n(76133),n(46825),n(8143)),f=n(41978),v=n(58184),b=n(67264),h=n(32940),x=n(11498),y=n(62518),R=(n(63051),n(80629)),k=n(65093),E=(n(60989),n(82368),n(45191),n(20767),n(78618),n(58470),n(36389),n(77020),n(52067),n(76867),n(45935),n(60726),n(82765),n(13312),n(96839)),j=n(59225),C=n(22058),w=n(12076),O=n(23989);const S="ZpqHX3kvsJIsR1QIc4kf";function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,m.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=e.children,n=e.locale,r=e.onClick,a=e.type,i=void 0===a?"button":a,o=n===j.Xn,c=(0,R.vf)(window.location.pathname),l=(0,E.o_)(window.location.pathname),d=(0,O.W)({type:"route",uri:c?C.c.HOME:null==l?void 0:l.toURI()}),m=function(e){if("button"===i){e.preventDefault();var t=new URL(window.location.href);window.location.href.includes("locale")&&t.searchParams.delete("locale"),window.location.href=t.href}r(n)},p={className:S,id:n,onClick:function(e){return m(e)},"data-testid":"language-option-".concat(n)};if("link"===i){var g=(0,w.ll)(window.location.pathname,!o),f=(0,w.hF)(g,(0,s.a7)(n).baseName),v=d?f:window.location.pathname,b=function(e){return e.endsWith("/")?e.slice(0,-1):e}("".concat(window.location.origin).concat(v));return(0,u.jsx)("a",N(N({href:b},p),{},{children:t}))}return(0,u.jsx)("button",N(N({},p),{},{children:t}))};const _="eYLSfS4EKfwsdTsItWkY";var T=function(e){var t=e.style,n=e.children;return(0,u.jsx)("div",{className:_,style:t,children:n})},L=n(97500),D=n.n(L),P=n(17635),M=n(2262);const U="KPuW9eE4auKgVgMtPZoH",B="zCedVxWmwaJhPIGzJixP",F="qzuG9AHNXHQrOGF06r9A",W="ZgjCz5A7qOyprtvcLK8y",V="BSwvSvqHiQUVuim4Eidv",H="TpluDuF12UKv3IIq_VDu";var z=function(e){var t=e.onClose,n=e.children,a=(0,r.useRef)(null),i=(0,c.iL)().isOpen,s=(0,P.NC)(M.rW);return(0,u.jsx)("div",{"data-testid":"language-selection-modal",className:D()(U,(0,m.A)({"circular-sp-vietnamese":s},B,i)),onClick:function(e){e.target===a.current&&t()},role:"presentation",ref:a,children:n})},G=function(e){var t=e.ariaDescribedBy,n=e.ariaLabelledBy,r=e.children,a=(0,c.iL)().isOpen;return(0,u.jsx)("div",{className:F,role:"dialog",hidden:!a,"aria-modal":!0,"aria-labelledby":n,"aria-describedby":t,children:r})},K=n(90441),Y=function(e){var t=e.onClose;return(0,u.jsx)("button",{"data-testid":"close-button",className:H,onClick:function(){t()},children:(0,u.jsx)(K.M,{size:"small","aria-label":s.Ru.get("close")})})};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,m.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t,n=e.languageSelectionModalRef,a=(0,r.useRef)(null),i=(0,r.useState)("0"),l=(0,p.A)(i,2),d=l[0],m=l[1],E=(0,c.ZZ)(),j=(0,f.d4)(k.MU),C=(0,r.useCallback)((function(){E({type:"CLOSE"})}),[E]),w=(0,c.iL)().isOpen,O=(0,r.useCallback)((function(){var e;m("".concat(null===(e=a.current)||void 0===e?void 0:e.getBoundingClientRect().height,"px"))}),[m]),S=function(e){var t;(0,y.n0)({name:"sp_locale",value:e,domain:(t="open.spotify.com",t.substring(t.indexOf("."))),days:365}),C()};if(t=C,(0,r.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()};return window.addEventListener("keyup",e,!1),function(){return window.removeEventListener("keyup",e)}})),(0,x.w)({refOrElement:a,observeOnly:"height",onResize:O}),(0,r.useEffect)((function(){O()}),[O]),!n.current)return null;var A="language-selection-title",N="language-selection-subtitle",_={"--header-height":d};return(0,g.createPortal)((0,u.jsx)(h.s,{active:w,children:(0,u.jsx)("div",{children:(0,u.jsx)(z,{onClose:C,children:(0,u.jsxs)(G,{ariaLabelledBy:A,ariaDescribedBy:N,children:[(0,u.jsxs)("div",{className:W,ref:a,children:[(0,u.jsxs)("div",{className:V,children:[(0,u.jsx)(v.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",id:A,paddingBottom:b.v4,children:s.Ru.get("i18n.language-selection.title")}),(0,u.jsx)(v.E,{as:"p",variant:"bodyMedium",semanticColor:"textBase",id:N,paddingBottom:b.CD,children:s.Ru.get("i18n.language-selection.subtitle")})]}),(0,u.jsx)(Y,{onClose:C})]}),(0,u.jsx)(T,{style:Q({},_),children:o.Np.map((function(e){var t=(0,s.a7)(e).baseName,n=(0,R.p)({localeFeatureFlag:j,urlLocale:t,type:"locale"});return(0,u.jsxs)(I,{onClick:S,locale:e,type:n?"link":"button",children:[(0,u.jsx)(v.E,{semanticColor:"textBase",children:o.IB[e].displayName}),(0,u.jsx)(v.E,{children:o.IB[e].displayNameEn})]},e)}))})]})})})}),n.current)}},20176:(e,t,n)=>{n.d(t,{Q:()=>i,s:()=>s});var r=n(22389),a=n(50778);function i(e){return e.build().withHost(a.D8).withPath("/verifications/").withEndpointIdentifier("/verifications/").send()}function s(e,t){return e.build().withMethod(r.Method.PUT).withHost(a.D8).withPath("/verifications/".concat(t,"/")).withEndpointIdentifier("/verifications/{verificationId}/").send()}}}]);
//# sourceMappingURL=xpui-root-dialogs.js.map