"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2617],{9618:(e,t,r)=>{r.d(t,{p:()=>y});var n=r(29969),i=r(52618),a=r.n(i),o=r(30758),l=r(41978),s=r(49599),c=r(86461),u=r(90577),d=r(55937),p=r(53634),f=r(86070),y=o.memo((function(e){var t=e.uri,r=e.divider,i=e.removeLabel,y=(0,l.wA)(),g=!(0,u.n)(),m=(0,d.t)(),b=(0,o.useCallback)((0,n.A)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y((0,p.aw)(t,!0));case 1:case"end":return e.stop()}}),e)}))),[y,t]);return(0,f.jsx)(c.D,{role:"menuitem",divider:r,disabled:g&&!(null!=m&&m.getCapabilities().canModifyOffline),onClick:b,leadingIcon:(0,f.jsx)(s.k,{semanticColor:"textBrightAccent",size:"small"}),children:i})}))},34709:(e,t,r)=>{r.d(t,{P:()=>m});var n=r(30758),i=r(8539),a=r(25931),o=r(93697),l=r(38586),s=r(42021),c=r(22058),u=r(16443),d=r(61098),p=r(85368),f=r(53e3),y=r(9618),g=r(86070),m=n.memo((function(e){var t=e.uri,r=e.artistUri,n=e.canPin,m=void 0===n?l.oT.NO:n,b=e.isPinned,v=void 0!==b&&b,x=e.canRemove,h=void 0!==x&&x,O=(0,s.o)(t).spec;return(0,g.jsx)(o.pZ,{value:"album",children:(0,g.jsxs)(a.W,{children:[h&&(0,g.jsx)(y.p,{uri:t,removeLabel:i.Ru.get("contextmenu.remove-from-library")}),r&&(0,g.jsx)(d.z,{spec:O,divider:"after",uri:r,displayText:i.Ru.get("contextmenu.go-to-artist-radio")}),m!==l.oT.NO&&(0,g.jsx)(f.k,{uri:t,canPin:m,isPinned:v,type:c.c.PRE_RELEASE_ALBUM,spec:O}),(0,g.jsx)(u.m,{uri:t,spec:O,displayText:i.Ru.get("context-menu.copy-album-link")}),(0,g.jsx)(p.q,{spec:O,divider:"before",uri:t})]})})}))},61341:(e,t,r)=>{r.d(t,{e:()=>d});r(59208),r(9555),r(80710),r(80766),r(10866),r(43864),r(18535),r(41681),r(62980),r(75231),r(21977),r(26980),r(46825);var n=r(66569),i=r(25259),a=r(26191);const o="k270skPbT7JOaSidSA2a";var l=r(86070),s=["iconSize"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){var t=e.iconSize,r=void 0===t?64:t,n=(0,i.A)(e,s);return(0,l.jsx)("div",{className:o,children:(0,l.jsx)(a.E,u(u({iconSize:r},n),{},{semanticColor:"textBrightAccent","aria-hidden":!0}))})}},46125:(e,t,r)=>{r.d(t,{X:()=>d,A:()=>J});var n=r(30758),i=r(71309),a=r(30458),o=r(8539),l=r(65568),s=r(65785);const c="KsnGjjEeMb2miriJrkjW";var u=r(86070),d=function(){var e,t=o.Ru.getLocaleForTranslation(),r=null!==(e=l.IB[t])&&void 0!==e?e:l.IB.en,d=(0,s.ZZ)(),p=(0,n.useCallback)((function(){d({type:"OPEN"})}),[d]);return(0,u.jsx)("div",{className:c,children:(0,u.jsx)(i.n,{iconLeading:a.d,size:"small",onClick:p,"data-testid":"language-selection-button",children:r.displayName})})},p=r(66569),f=r(98866),y=(r(59208),r(9555),r(80710),r(83603),r(80766),r(10866),r(43864),r(18535),r(41681),r(62980),r(75231),r(21977),r(26980),r(76133),r(46825),r(8143)),g=r(41978),m=r(58184),b=r(67264),v=r(32940),x=r(11498),h=r(62518),O=(r(63051),r(80629)),j=r(65093),P=(r(60989),r(82368),r(45191),r(20767),r(78618),r(58470),r(36389),r(77020),r(52067),r(76867),r(45935),r(60726),r(82765),r(13312),r(96839)),w=r(59225),S=r(22058),A=r(12076),D=r(23989);const C="ZpqHX3kvsJIsR1QIc4kf";function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,p.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=function(e){var t=e.children,r=e.locale,n=e.onClick,i=e.type,a=void 0===i?"button":i,l=r===w.Xn,s=(0,O.vf)(window.location.pathname),c=(0,P.o_)(window.location.pathname),d=(0,D.W)({type:"route",uri:s?S.c.HOME:null==c?void 0:c.toURI()}),p=function(e){if("button"===a){e.preventDefault();var t=new URL(window.location.href);window.location.href.includes("locale")&&t.searchParams.delete("locale"),window.location.href=t.href}n(r)},f={className:C,id:r,onClick:function(e){return p(e)},"data-testid":"language-option-".concat(r)};if("link"===a){var y=(0,A.ll)(window.location.pathname,!l),g=(0,A.hF)(y,(0,o.a7)(r).baseName),m=d?g:window.location.pathname,b=function(e){return e.endsWith("/")?e.slice(0,-1):e}("".concat(window.location.origin).concat(m));return(0,u.jsx)("a",T(T({href:b},f),{},{children:t}))}return(0,u.jsx)("button",T(T({},f),{},{children:t}))};const k="eYLSfS4EKfwsdTsItWkY";var E=function(e){var t=e.style,r=e.children;return(0,u.jsx)("div",{className:k,style:t,children:r})},L=r(97500),N=r.n(L),F=r(17635),M=r(2262);const B="KPuW9eE4auKgVgMtPZoH",U="zCedVxWmwaJhPIGzJixP",_="qzuG9AHNXHQrOGF06r9A",V="ZgjCz5A7qOyprtvcLK8y",H="BSwvSvqHiQUVuim4Eidv",W="TpluDuF12UKv3IIq_VDu";var z=function(e){var t=e.onClose,r=e.children,i=(0,n.useRef)(null),a=(0,s.iL)().isOpen,o=(0,F.NC)(M.rW);return(0,u.jsx)("div",{"data-testid":"language-selection-modal",className:N()(B,(0,p.A)({"circular-sp-vietnamese":o},U,a)),onClick:function(e){e.target===i.current&&t()},role:"presentation",ref:i,children:r})},X=function(e){var t=e.ariaDescribedBy,r=e.ariaLabelledBy,n=e.children,i=(0,s.iL)().isOpen;return(0,u.jsx)("div",{className:_,role:"dialog",hidden:!i,"aria-modal":!0,"aria-labelledby":r,"aria-describedby":t,children:n})},K=r(90441),Y=function(e){var t=e.onClose;return(0,u.jsx)("button",{"data-testid":"close-button",className:W,onClick:function(){t()},children:(0,u.jsx)(K.M,{size:"small","aria-label":o.Ru.get("close")})})};function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,p.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=function(e){var t,r=e.languageSelectionModalRef,i=(0,n.useRef)(null),a=(0,n.useState)("0"),c=(0,f.A)(a,2),d=c[0],p=c[1],P=(0,s.ZZ)(),w=(0,g.d4)(j.MU),S=(0,n.useCallback)((function(){P({type:"CLOSE"})}),[P]),A=(0,s.iL)().isOpen,D=(0,n.useCallback)((function(){var e;p("".concat(null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect().height,"px"))}),[p]),C=function(e){var t;(0,h.n0)({name:"sp_locale",value:e,domain:(t="open.spotify.com",t.substring(t.indexOf("."))),days:365}),S()};if(t=S,(0,n.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()};return window.addEventListener("keyup",e,!1),function(){return window.removeEventListener("keyup",e)}})),(0,x.w)({refOrElement:i,observeOnly:"height",onResize:D}),(0,n.useEffect)((function(){D()}),[D]),!r.current)return null;var R="language-selection-title",T="language-selection-subtitle",k={"--header-height":d};return(0,y.createPortal)((0,u.jsx)(v.s,{active:A,children:(0,u.jsx)("div",{children:(0,u.jsx)(z,{onClose:S,children:(0,u.jsxs)(X,{ariaLabelledBy:R,ariaDescribedBy:T,children:[(0,u.jsxs)("div",{className:V,ref:i,children:[(0,u.jsxs)("div",{className:H,children:[(0,u.jsx)(m.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",id:R,paddingBottom:b.v4,children:o.Ru.get("i18n.language-selection.title")}),(0,u.jsx)(m.E,{as:"p",variant:"bodyMedium",semanticColor:"textBase",id:T,paddingBottom:b.CD,children:o.Ru.get("i18n.language-selection.subtitle")})]}),(0,u.jsx)(Y,{onClose:S})]}),(0,u.jsx)(E,{style:G({},k),children:l.Np.map((function(e){var t=(0,o.a7)(e).baseName,r=(0,O.p)({localeFeatureFlag:w,urlLocale:t,type:"locale"});return(0,u.jsxs)(I,{onClick:C,locale:e,type:r?"link":"button",children:[(0,u.jsx)(m.E,{semanticColor:"textBase",children:l.IB[e].displayName}),(0,u.jsx)(m.E,{children:l.IB[e].displayNameEn})]},e)}))})]})})})}),r.current)}},52617:(e,t,r)=>{r.r(t),r.d(t,{CompactModeState:()=>pt,YourLibraryX:()=>rc,useLibraryRowMode:()=>ft});var n=r(59950),i=r(29969),a=r(66569),o=r(25259),l=r(98866),s=r(52618),c=r.n(s),u=(r(59208),r(79548),r(60989),r(9555),r(80710),r(83603),r(80766),r(10866),r(43864),r(18535),r(41681),r(62980),r(1952),r(75231),r(21977),r(26980),r(76133),r(46825),r(30758)),d=r(97500),p=r.n(d),f=r(96131),y=r(41978),g=r(8159),m=r(61272),b=r(17635),v=r(85772),x=r(48873),h=r(87349),O=r(25931),j=r(93697),P=r(38586),w=r(42021),S=r(92990),A=r(62329),D=r(8539),C=r(86461),R=r(41554),T=r(79464),I=r(68262),k=r(86070);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=function(e){var t=e.position,r=e.divider,n=e.onCreateCallback,i=void 0===n?function(){}:n,a=e.spec,o=(0,I.W)(),l=(0,R.A)().createPlaylist,s=(0,T.s)(),c=(0,u.useCallback)((function(){o({intent:"create-playlist",type:"click"});var e=a.createButtonFactory().hitCreatePlaylist();e&&s.logInteraction(e),l(D.Ru.get("playlist.default_playlist_name"),t),i()}),[o,a,s,l,t,i]);return(0,k.jsx)(C.D,{role:"menuitem",divider:r,onClick:c,leadingIcon:(0,k.jsx)(A.u,{semanticColor:"textSubdued",size:"small"}),children:D.Ru.get("contextmenu.create-playlist")})},F=u.memo((function(e){return(0,k.jsx)(j.pZ,{value:"create-playlist",children:(0,k.jsx)(N,L({},e))})})),M=u.memo((function(e){var t=e.folderUri,r=e.onCreateCallback,n=t?{after:{uri:t}}:{before:"start"},i=(0,w.o)(null!=t?t:P.gv).spec;return(0,k.jsx)(j.pZ,{value:"folder",children:(0,k.jsxs)(O.W,{children:[(0,k.jsx)(F,{position:n,onCreateCallback:r,spec:i}),(0,k.jsx)(S.j,{position:n,onCreateCallback:r,spec:i})]})})})),B=r(60429),U=(r(41758),r(85328),r(46062),r(33676));r(45803);function _(e){return{type:"tag",id:e.tagUri,name:e.tagName,count:e.entityCount}}function V(e){return{type:"contentType",id:e.id,name:e.name}}var H=r(48355),W=r(28695),z=(r(40313),r(24847),function(){return(0,W.A)((function e(){(0,H.A)(this,e),(0,a.A)(this,"events",new U.V)}),[{key:"getSelectedRefiners",value:function(){throw new Error("Method not implemented.")}},{key:"getAllRefinerClasses",value:function(){throw new Error("Method not implemented.")}},{key:"getResidualRefinerClasses",value:function(){throw new Error("Method not implemented.")}},{key:"addRefiners",value:function(){throw new Error("Method not implemented.")}},{key:"removeRefiners",value:function(){throw new Error("Method not implemented.")}},{key:"getEvents",value:function(){return this.events}}])}()),X=(0,u.createContext)(null),K=(r(3532),r(92535));r(86597);var Y=function(e){var t=e.children,r=(0,u.useMemo)((function(){return new z}),[]);return(0,k.jsx)(X.Provider,{value:r,children:t})},Z=(r(45191),r(22711),r(36389),r(77020),function(){return null}),G=r(46600),J=(r(72331),function(){return!1}),q=r(11891),Q=r(73785),$=r(26842),ee=r(39261),te=r(28781),re=r(22058),ne=r(89667),ie=r(37916),ae=r(73791),oe=r(73997),le=r(3818),se=(r(20767),r(60418),r(54858),r(85194),r(27092),r(68925),r(31796),r(21467),r(22064),r(92114),new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock","Hyper","Super","Enter","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Backspace","Clear","Copy","CrSel","Cut","Delete","EraseEof","ExSel","Insert","Paste","Redo","Undo","Accept","Again","Attn","Cancel","ContextMenu","Escape","Execute","Find","Help","Pause","Play","Props","Select","ZoomIn","ZoomOut","BrightnessDown","BrightnessUp","Eject","LogOff","Power","PowerOff","PrintScreen","Hibernate","Standby","WakeUp","AllCandidates","Alphanumeric","CodeInput","Compose","Convert","Dead","FinalMode","GroupFirst","GroupLast","GroupNext","GroupPrevious","ModeChange","NextCandidate","NonConvert","PreviousCandidate","Process","SingleCandidate","HangulMode","HanjaMode","JunjaMode","Eisu","Hankaku","Hiragana","HiraganaKatakana","KanaMode","KanjiMode","Katakana","Romaji","Zenkaku","ZenkakuHankaku","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Soft1","Soft2","Soft3","Soft4","ChannelDown","ChannelUp","Close","MailForward","MailReply","MailSend","MediaClose","MediaFastForward","MediaPause","MediaPlay","MediaPlayPause","MediaRecord","MediaRewind","MediaStop","MediaTrackNext","MediaTrackPrevious","New","Open","Print","Save","SpellCheck","Key11","Key12","AudioBalanceLeft","AudioBalanceRight","AudioBassBoostDown","AudioBassBoostToggle","AudioBassBoostUp","AudioFaderFront","AudioFaderRear","AudioSurroundModeNext","AudioTrebleDown","AudioTrebleUp","AudioVolumeDown","AudioVolumeUp","AudioVolumeMute","MicrophoneToggle","MicrophoneVolumeDown","MicrophoneVolumeUp","MicrophoneVolumeMute","SpeechCorrectionList","SpeechInputToggle","LaunchApplication1","LaunchApplication2","LaunchCalendar","LaunchContacts","LaunchMail","LaunchMediaPlayer","LaunchMusicPlayer","LaunchPhone","LaunchScreenSaver","LaunchSpreadsheet","LaunchWebBrowser","LaunchWebCam","LaunchWordProcessor","BrowserBack","BrowserFavorites","BrowserForward","BrowserHome","BrowserRefresh","BrowserSearch","BrowserStop","AppSwitch","Call","Camera","CameraFocus","EndCall","GoBack","GoHome","HeadsetHook","LastNumberRedial","Notification","MannerMode","VoiceDial","TV","TV3DMode","TVAntennaCable","TVAudioDescription","TVAudioDescriptionMixDown","TVAudioDescriptionMixUp","TVContentsMenu","TVDataService","TVInput","TVInputComponent1","TVInputComponent2","TVInputComposite1","TVInputComposite2","TVInputHDMI1","TVInputHDMI2","TVInputHDMI3","TVInputHDMI4","TVInputVGA1","TVMediaContext","TVNetwork","TVNumberEntry","TVPower","TVRadioService","TVSatellite","TVSatelliteBS","TVSatelliteCS","TVSatelliteToggle","TVTerrestrialAnalog","TVTerrestrialDigital","TVTimer","AVRInput","AVRPower","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue","ColorF4Grey","ColorF5Brown","ClosedCaptionToggle","Dimmer","DisplaySwap","DVR","Exit","FavoriteClear0","FavoriteClear1","FavoriteClear2","FavoriteClear3","FavoriteRecall0","FavoriteRecall1","FavoriteRecall2","FavoriteRecall3","FavoriteStore0","FavoriteStore1","FavoriteStore2","FavoriteStore3","Guide","GuideNextDay","GuidePreviousDay","Info","InstantReplay","Link","ListProgram","LiveContent","Lock","MediaApps","MediaAudioTrack","MediaLast","MediaSkipBackward","MediaSkipForward","MediaStepBackward","MediaStepForward","MediaTopMenu","NavigateIn","NavigateNext","NavigateOut","NavigatePrevious","NextFavoriteChannel","NextUserProfile","OnDemand","Pairing","PinPDown","PinPMove","PinPToggle","PinPUp","PlaySpeedDown","PlaySpeedReset","PlaySpeedUp","RandomToggle","RcLowBattery","RecordSpeedNext","RfBypass","ScanChannelsToggle","ScreenModeNext","Settings","SplitScreenToggle","STBInput","STBPower","Subtitle","Teletext","VideoModeNext","Wink","ZoomToggle"]));function ce(e,t){var r=(0,u.useState)(""),n=(0,l.A)(r,2),i=n[0],a=n[1],o=(0,u.useRef)(i);o.current=i;var s=(0,u.useRef)(null);return(0,u.useEffect)((function(){var r=e.current;if(!r||!t)return a(""),function(){};var n=function(e){var t,r,n="Backspace"===e.key,i=" "===e.key,l=e.metaKey||e.ctrlKey,c=e.target instanceof HTMLElement&&(null===(t=e.target)||void 0===t?void 0:t.matches("input, textarea, [contenteditable]")),u=e.isComposing||229===e.keyCode,d=(r=e.key,se.has(r)&&!n),p=i&&!o.current,f=n&&!o.current;l||c||u||d||p||f||((n&&o.current||i)&&(e.preventDefault(),e.stopPropagation()),a((function(t){return n?t.slice(0,-1):t+e.key})),s.current&&clearTimeout(s.current),s.current=setTimeout((function(){return a("")}),1e3))};return r.addEventListener("keydown",n,!0),function(){r.removeEventListener("keydown",n,!0),s.current&&clearTimeout(s.current)}}),[e,t]),i}var ue=(0,u.createContext)({setTypeaheadResult:function(e){var t=e.uid,r=e.str;if(t||r)throw new Error("setTypeaheadResult must be used within a TypeaheadProvider")},typeaheadResult:{uid:null,str:""}}),de=function(e){var t=e.children,r=e.containerRef,n=e.findMatchingTypeaheadUid,i=e.isEnabled,a=void 0===i||i,o=(0,u.useState)({uid:null,str:""}),s=(0,l.A)(o,2),c=s[0],d=s[1],p=(0,u.useMemo)((function(){return{typeaheadResult:c,setTypeaheadResult:d}}),[c,d]),f=ce(r,a),y=(0,u.useRef)(f);y.current=f;var g=(0,u.useRef)(n);return g.current=n,(0,u.useEffect)((function(){f&&a?g.current(f).then((function(e){f===y.current&&d({uid:e,str:f})})):d({uid:null,str:""})}),[a,f,d]),(0,k.jsx)(ue.Provider,{value:p,children:t})};const pe="Vf3ww2_My5QuwUnbpzhu";var fe=r(25741),ye=function(){var e=(0,u.useContext)(ue).typeaheadResult.str;return e?(0,k.jsx)(fe.qb,{className:pe,children:e}):null},ge=r(69798),me=r(58400),be=r(62790),ve=r(39946),xe=r(31952),he=r(64308),Oe=r(69822),je=r(67204),Pe=r(2534),we=r(64887),Se=r(38763),Ae=r(20673),De=r(72211),Ce=r(32481),Re=r(62286),Te=r(57472),Ie=r(47319),ke=1248,Ee=800,Le=(0,Ce.g)(Se.Z),Ne=(0,Ce.g)(Ae.fX),Fe=function(){var e,t,r,n,i,a,o,l,s,c,d,p,y,g,m,b,v,x,h,O,j,P,w;return e=(0,Te.y)(),t=e.size,r=e.setSize,n=e.minWidth,i=e.maxWidth,a=e.ylxCollapsedStateNavbarWidth,o=e.ylxDefaultStateNavbarWidth,l=e.ylxExpandedStateNavbarWidth,s=(0,Ae.$)(),c=s.ylxSidebarState,d=s.setYlxSidebarState,p=s.canCollapse,y=(0,we.XB)(),g=(0,we._Y)(),m=(0,we.Zf)(),b=m.min,v=m.max,x=m.size,h=m.setSize,O=(0,De.H)(),j=(0,u.useRef)(null),P=(0,u.useRef)(null),w=(0,u.useRef)(null),(0,u.useLayoutEffect)((function(){var e=O-t-3*Pe.KV-(y!==Se.Z.Disabled?x+Pe.KV:0),s={leftSidebarWidth:t,leftSidebarMinWidth:n,leftSidebarMaxWidth:i,ylxSidebarState:c,ylxSidebarStateRestoreTarget:j.current,rightSidebarWidth:x,rightSidebarMinWidth:b,rightSidebarMaxWidth:v,rightSidebarPanel:y,rightSidebarPanelRestoreTarget:P.current,storedCollapsedYLXWidth:a,storedDefaultYLXWidth:o,storedExpandedYLXWidth:l,clientWidth:O,mainContentWidth:e,canCollapse:p},u=w.current;if(!(0,f.j)(s,u)){var m=function(e,t){if(!e)return{};var r=t.leftSidebarWidth,n=void 0===r?0:r,i=t.rightSidebarWidth,a=void 0===i?0:i,o=t.mainContentWidth,l=void 0===o?0:o,s=t.leftSidebarMinWidth,c=void 0===s?0:s,u=t.leftSidebarMaxWidth,d=void 0===u?0:u,p=t.ylxSidebarState,f=t.ylxSidebarStateRestoreTarget,y=t.rightSidebarMinWidth,g=void 0===y?0:y,m=t.rightSidebarMaxWidth,b=void 0===m?0:m,v=t.rightSidebarPanel,x=t.rightSidebarPanelRestoreTarget,h=t.storedCollapsedYLXWidth,O=void 0===h?0:h,j=t.storedDefaultYLXWidth,P=void 0===j?0:j,w=t.storedExpandedYLXWidth,S=void 0===w?0:w,A=t.clientWidth,D=void 0===A?0:A,C=t.canCollapse,R=void 0===C||C,T={},I=v!==Se.Z.Disabled,k=void 0!==e.leftSidebarWidth&&n>e.leftSidebarWidth,E=void 0!==e.rightSidebarWidth&&a>e.rightSidebarWidth,L=void 0===e.clientWidth?0:D-e.clientWidth,N=L<0,F=D>0,M=l<Pe.ev?Pe.ev-l:0,B=N?-1*L:0;l>ke?B=Math.max(0,B-(l-ke)):M&&(B=M);var U=p===Ae.fX.EXPANDED&&e.ylxSidebarState!==Ae.fX.EXPANDED,_=p===Ae.fX.DEFAULT&&e.ylxSidebarState!==Ae.fX.DEFAULT,V=n-c;k&&(V=U?n-Re.ZU.EXPANDED_MIN:_?n-Re.ZU.DEFAULT_MIN:0);var H=E?0:a-g,W=B<=V+H;if(l<Pe.ev&&!W)I&&(k||N&&(p===Ae.fX.COLLAPSED||!R))?(T.rightSidebarPanel=Se.Z.Disabled,T.rightSidebarPanelRestoreTarget=t.rightSidebarPanel,B-=a,H=0):(p===Ae.fX.EXPANDED&&l+(n-Re.ZU.DEFAULT_MIN)>Pe.ev?(T.ylxSidebarState=Ae.fX.DEFAULT,B-=n-P,V=P-Re.ZU.DEFAULT_MIN):(T.ylxSidebarState=Ae.fX.COLLAPSED,B-=n-O,V=0),T.ylxSidebarStateRestoreTarget=t.ylxSidebarState);else if(v===Se.Z.Disabled&&x!==Se.Z.Disabled&&Le(x)&&v!==e.rightSidebarPanelRestoreTarget&&l-a-Pe.KV>=Pe.ev)T.rightSidebarPanel=x,T.rightSidebarPanelRestoreTarget=null;else if(p===Ae.fX.DEFAULT&&f===Ae.fX.EXPANDED&&l-(S-n)>=Pe.ev)T.ylxSidebarState=Ae.fX.EXPANDED,T.ylxSidebarStateRestoreTarget=null;else if(p===Ae.fX.COLLAPSED&&f===Ae.fX.DEFAULT&&l-(P-n)>=Pe.ev)T.ylxSidebarState=Ae.fX.DEFAULT,T.ylxSidebarStateRestoreTarget=null;else if(F&&l>=Ee)for(var z=d-n,X=b-a,K=Math.min(L,z+X),Y=0;Y<K;Y++)n<a&&n<d&&z>0?(n++,z--):a<b&&X>0&&(a++,X--);if(p!==e.ylxSidebarState&&Ne(f)&&f===e.ylxSidebarStateRestoreTarget&&(T.ylxSidebarStateRestoreTarget=null),v!==e.rightSidebarPanel&&Le(x)&&x===e.rightSidebarPanelRestoreTarget&&(T.rightSidebarPanelRestoreTarget=null),B>0&&B<=V+H)for(var Z=0;Z<B;Z++)n>a&&n>c&&V>0?(n--,V--):a>g&&H>0&&(a--,H--);return n&&n!==t.leftSidebarWidth&&(T.leftSidebarWidth=n),a&&a!==t.rightSidebarWidth&&(T.rightSidebarWidth=a),T}(u,s);void 0!==m.leftSidebarWidth&&r(m.leftSidebarWidth),Ne(m.ylxSidebarState)&&d(m.ylxSidebarState),void 0!==m.ylxSidebarStateRestoreTarget&&(j.current=m.ylxSidebarStateRestoreTarget),void 0!==m.rightSidebarWidth&&0!==(null==u?void 0:u.rightSidebarWidth)&&h(m.rightSidebarWidth),void 0!==m.rightSidebarPanel&&g((0,Ie.MQ)(m.rightSidebarPanel)),void 0!==m.rightSidebarPanelRestoreTarget&&(P.current=m.rightSidebarPanelRestoreTarget),w.current=s}}),[t,n,i,r,c,x,b,v,h,y,a,o,l,d,g,O,p]),null},Me=function(){return(0,b.NC)(G.Wfl,{loadingValue:!1})?(0,k.jsx)(Fe,{}):null};var Be=r(35242),Ue=r(7857),_e=r(717),Ve=function(){return null},He=function(){return null},We=function(){return null},ze=function(){return null},Xe=r(46125),Ke=r(58184),Ye=r(4394),Ze=r(18428),Ge=r(63259),Je=r(25598);const qe="rqGyIqd3Igk05BEB2ZC6",Qe="WycFx_Gl2tUXbUJpZiD8";var $e=function(){var e=(0,u.useState)(!1),t=(0,l.A)(e,2),r=t[0],n=t[1],i=(0,Ge.V)(),a=(0,y.d4)(Je.JJ);(0,u.useEffect)((function(){var e=setTimeout((function(){n(!0)}),1100);return function(){n(!1),clearTimeout(e)}}),[]);var o=(0,y.d4)(Je.mo);return i&&r?(0,k.jsx)(Ye.t5,{language:D.Ru.getLocaleForSmartling(),market:a.toLowerCase(),children:(0,k.jsxs)("div",{className:qe,"data-testid":"left-sidebar-legal-links",children:[(0,k.jsx)(Ye.JM,{}),(0,k.jsx)("a",{draggable:!1,href:Ze.Bl,target:"_blank",rel:"noopener",className:Qe,children:(0,k.jsx)(Ke.E,{variant:"marginal",children:D.Ru.get("cookies")})}),o&&(0,k.jsx)("a",{draggable:!1,href:Ze.Vd,target:"_blank",rel:"noopener",className:Qe,children:(0,k.jsx)(Ke.E,{variant:"marginal",children:"Форма для Ваших обращений"})})]})}):null};const et="YNnobzGm5w3XKBniKdW9";var tt=(0,u.memo)((function(e){var t=e.isAnonymous;return(0,k.jsx)("div",{className:et,"data-testid":"left-sidebar-footer",children:t&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)($e,{}),(0,k.jsx)(Xe.X,{})]})})})),rt=[be.fl.TRACKS,be.fl.LOCAL_TRACKS,be.fl.ALBUMS,be.fl.ARTISTS,be.fl.PLAYLISTS_V2,be.fl.SHOWS,be.fl.AUDIOBOOKS,be.fl.EPISODES,be.fl.FOLDERS],nt=[be.fl.TRACKS,be.fl.LOCAL_TRACKS,be.fl.ALBUMS,be.fl.EPISODES,be.fl.PLAYLISTS_V2,be.fl.FOLDERS],it=[be.fl.TRACKS,be.fl.LOCAL_TRACKS,be.fl.ALBUMS,be.fl.EPISODES,be.fl.PLAYLISTS_V2,be.fl.FOLDERS],at=(r(82368),r(58470),r(90577));function ot(){var e=(0,u.useContext)(Oe.O_),t=e.dropOriginUri,r=e.sectionId;return{dropOriginIsYLX:t===P.gv,entityIsInFolder:r>0}}var lt=(0,u.createContext)(null);r(46686),r(63051),r(62420);var st=r(14022);function ct(e,t,r,n){if(e){var i=e.scrollTop,a=e.offsetHeight,o=t&&e?t.getBoundingClientRect().top+i-e.getBoundingClientRect().top:0;if(o+r<i||o+r+n>i+a){var l=r-a/2+o+n/2;e.scrollTop=l}}}var ut=r(25724),dt=r(98350),pt=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.COMPACT=1]="COMPACT",e}({}),ft=function(){var e=(0,dt.x)("library-row-mode",pt.DEFAULT),t=(0,l.A)(e,2),r=t[0],n=t[1],i=(0,$.vW)();return{libraryRowMode:r,setLibraryRowMode:n,rowHeight:r===pt.DEFAULT||i===$.fX.COLLAPSED?64:32}};r(10565),r(2795);var yt=r(55937),gt=r(89848),mt=r(82543),bt=function(e){var t=e.isConfirmationForPlaylist,r=e.onConfirm,n=e.onClose,i=t?D.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.title-playlist"):D.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.title-folder");return(0,k.jsx)(mt.T,{"aria-label":i,titleText:i,descriptionText:t?D.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.message-playlist"):D.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.message-folder"),onConfirm:r,onClose:n,confirmText:D.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-text"),confirmLabel:t?D.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-playlist"):D.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-folder"),cancelText:D.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.cancel-button-text"),allowHTML:!0})};function vt(e){var t,r=e.onApplyDrop,a=e.spec,o=e.isDropTargetPinned,s=(0,yt.t)(),d=(0,gt.p)("ylpin").contains,p=(0,u.useState)(null),f=(0,l.A)(p,2),y=f[0],g=f[1],m=(0,u.useCallback)(function(){var e=(0,i.A)(c().mark((function e(t,i){var a,l,s,u,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=3;break}return r(t,i),e.abrupt("return");case 3:if(a=t[be.fl.PLAYLISTS_V2],l=void 0===a?[]:a,s=t[be.fl.FOLDERS],u=void 0===s?[]:s,p=[].concat((0,n.A)(l),(0,n.A)(u)),e.t0=!!p.length,!e.t0){e.next=10;break}return e.next=9,d.apply(void 0,(0,n.A)(p));case 9:e.t0=e.sent.some(Boolean);case 10:if(!e.t0){e.next=17;break}if(!(p.length>1)){e.next=14;break}throw new Error("Reordering multiple pinned items at once is not supported");case 14:g({dropData:t,dropPosition:i}),e.next=18;break;case 17:r(t,i);case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[o,d,r]),b=(0,T.s)();return{applyDropWithUnpinConfirmation:m,unpinConfirmationDialog:y?(0,k.jsx)(bt,{isConfirmationForPlaylist:!(null!==(t=y.dropData[be.fl.FOLDERS])&&void 0!==t&&t.length),onClose:function(){return g(null)},onConfirm:(0,i.A)(c().mark((function e(){var t,i,o,l,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.dropData,i=t[be.fl.PLAYLISTS_V2],o=void 0===i?[]:i,l=t[be.fl.FOLDERS],u=void 0===l?[]:l,e.next=3,s.unpin([].concat((0,n.A)(o),(0,n.A)(u))[0]);case 3:null!=a&&a.dragUnpinItem&&b.logInteraction(a.dragUnpinItem({itemToUnpin:[].concat((0,n.A)(o),(0,n.A)(u))[0]})),r(y.dropData,y.dropPosition),g(null);case 6:case"end":return e.stop()}}),e)})))}):null}}function xt(){var e=(0,oe.g)(),t=ot().dropOriginIsYLX,r=(0,u.useCallback)(function(){var r=(0,i.A)(c().mark((function r(n,i){var a;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.contains(n);case 2:if(a=r.sent,1===new Set(a).size){r.next=5;break}throw new Error("Dropping a mix of newly added and moved playlists is not supported");case 5:if(!a[0]){r.next=18;break}if(!(n.length>1)){r.next=9;break}throw new Error("Moving multiple playlists at once is not supported");case 9:if(!t){r.next=14;break}return r.next=12,e.move({uri:n[0]},i);case 12:r.next=16;break;case 14:return r.next=16,e.move({uri:n[0]},i,!0);case 16:r.next=20;break;case 18:return r.next=20,e.add(n,i);case 20:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),[t,e]);return r}function ht(e,t){var r=(0,R.A)(),a=r.createPlaylistFromAlbum,o=r.createPlaylistFromTracks,l=(0,T.s)(),s=(0,oe.g)(),d=xt(),p=vt({onApplyDrop:(0,u.useCallback)((function(r){if(t){var n=r[be.fl.PLAYLISTS_V2],i=void 0===n?[]:n,a=r[be.fl.FOLDERS],o=void 0===a?[]:a,c={after:{uri:t}};i.length&&(d(i,c),l.logInteraction(e.dragSort())),o.length&&(s.moveFolder({uri:o[0]},c),l.logInteraction(e.dragSort()))}}),[d,l,s,e,t])}),f=p.unpinConfirmationDialog,y=p.applyDropWithUnpinConfirmation,g=(0,u.useCallback)(function(){var r=(0,i.A)(c().mark((function r(i){var s,u,d,p,f,g,m,b,v,x,h,O,j;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:s=i[be.fl.TRACKS],u=void 0===s?[]:s,d=i[be.fl.LOCAL_TRACKS],p=void 0===d?[]:d,f=i[be.fl.ALBUMS],g=void 0===f?[]:f,m=i[be.fl.EPISODES],b=void 0===m?[]:m,v=i[be.fl.PLAYLISTS_V2],x=void 0===v?[]:v,h=i[be.fl.FOLDERS],O=void 0===h?[]:h,j={after:{uri:t}},x.length||O.length?y(i,ve.Nz.ON):g.length?(a(g[0],j),l.logInteraction(e.yourLibraryItemFactory().dragCreatePlaylist())):(u.length||p.length||b.length)&&(o([].concat((0,n.A)(u),(0,n.A)(p),(0,n.A)(b)),j),l.logInteraction(e.yourLibraryItemFactory().dragCreatePlaylist()));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[t,y,a,l,e,o]);return{unpinConfirmationDialog:f,handleDropOnFolder:g}}var Ot=r(921),jt=r(3169),Pt=r(92633),wt=r(83086);function St(){var e=(0,u.useState)(null),t=(0,l.A)(e,2),r=t[0],n=t[1];if((0,Pt.l)(jt.UV.UPDATE_PIN_ERROR,(function(e){n(e.data)})),void 0===(null==r?void 0:r.reason))return null;switch(r.reason){case jt.uL.TOO_MANY_PINS:return(0,k.jsx)(Ot.x,{animated:!0,headingMessage:D.Ru.get("web-player.your-library-x.pin-error.title"),message:D.Ru.get("web-player.your-library-x.pin-error.message",r.maximumPinnedItems),buttonLabel:D.Ru.get("web-player.your-library-x.pin-error.ok"),isOpen:!0,onDismissDialog:function(){return n(null)}});case jt.uL.NO_PIN_IN_FOLDER:return(0,k.jsx)(Ot.x,{animated:!0,headingMessage:D.Ru.get("web-player.your-library-x.pin-error.no-pin-in-folder.title"),message:D.Ru.get("web-player.your-library-x.pin-error.no-pin-in-folder.message"),buttonLabel:D.Ru.get("web-player.your-library-x.pin-error.ok"),isOpen:!0,onDismissDialog:function(){return n(null)}});default:return(0,wt.k)(r),null}}r(59433);var At="",Dt=(0,u.createContext)({openedFolderUri:At,pushFolder:function(){},popFolder:function(){},resetFolder:function(){},change:"PUSH"}),Ct=function(e){var t=e.children,r=(0,u.useContext)(Be.g).setFilter,n=(0,dt.x)("opened-folder-uri",At),i=(0,l.A)(n,2),a=i[0],o=i[1],s=(0,u.useRef)([null!=a?a:At]),c=(0,u.useRef)("PUSH"),d=(0,u.useCallback)((function(e){o(e),r(At)}),[o,r]),p=(0,u.useCallback)((function(e){s.current.push(e),c.current="PUSH",d(s.current.at(-1))}),[d]),f=(0,u.useCallback)((function(){s.current.pop();var e=s.current.at(-1);return c.current="POP",d(e),e}),[d]),y=(0,u.useCallback)((function(){s.current=[At],d(At)}),[d]);return(0,k.jsx)(Dt.Provider,{value:{openedFolderUri:a,pushFolder:p,popFolder:f,resetFolder:y,change:c.current},children:t})};function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Et=r(4496),Lt=r(45658),Nt=r(21280),Ft=r(27598),Mt=r(75613),Bt=function(e,t,r,n,a){var o=(0,Mt.Q)(),l=(0,u.useRef)(r),s=(0,u.useRef)(),d=(0,u.useRef)();s.current=n,d.current=a,(0,u.useEffect)((function(){var r,n,a={ident:e,isPrefix:t,onMessage:function(e){return l.current(e)},onSubscribe:(n=(0,i.A)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=s.current)||void 0===r?void 0:r.call(s,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onCancel:(r=(0,i.A)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=d.current)||void 0===r?void 0:r.call(d,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},u=o.subscribe(a);return function(){u.cancel()}}),[e,t,o])},Ut=(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},jt.Ir.ALBUMS,re.c.ALBUM),jt.Ir.ARTISTS,re.c.ARTIST),jt.Ir.BOOKS,re.c.AUDIOBOOK),jt.Ir.EPISODES,re.c.EPISODE),jt.Ir.SHOWS,re.c.SHOW),jt.Ir.TRACKS,re.c.TRACK);function _t(e,t){var r=(0,u.useCallback)((function(r){var n=r.data.list,i=Ut[n];Vt(e,i)&&t()}),[e,t]);(0,Pt.l)(jt.UV.UPDATE,r),(0,Pt.l)(jt.UV.UPDATE_PIN,t);var n=(0,u.useCallback)((function(){Vt(e,re.c.PLAYLIST)&&t()}),[e,t]);(0,Ft.L)(n),function(e){Bt("hm://collection/ylpin/",!0,e)}(t),function(e){var t=(0,u.useContext)(Nt._),r=t.getEvents();(0,u.useEffect)((function(){return r.addListener(Lt.T.UPDATE,e),function(){r.removeListener(Lt.T.UPDATE,e)}}),[t,r,e])}(t),function(e){var t=(0,Et.l)().getEvents();(0,u.useEffect)((function(){var r=function(t){"prerelease"===t.data.set&&e()};return t.addListener(K.ar.ADDED,r),t.addListener(K.ar.REMOVED,r),function(){t.removeListener(K.ar.ADDED,r),t.removeListener(K.ar.REMOVED,r)}}),[e,t])}(t)}function Vt(e,t){switch(e){case re.c.ALBUM:case re.c.ARTIST:case re.c.AUDIOBOOK:case re.c.SHOW:return e===t;case re.c.PLAYLIST:switch(t){case re.c.TRACK:case re.c.PLAYLIST:case re.c.EPISODE:return!0;default:return!1}default:return!0}}var Ht=r(99078),Wt=r(73005),zt=r(67708),Xt=r(29158);const Kt="lvJXjYO7YXxGKHcgx5pe",Yt="yYGZUqSKJttCw_Z2JvPL",Zt="wkyebhrfwyJPCfDhQgbp";var Gt=function(){var e=(0,$.sy)(),t=(0,T.s)(),r=(0,y.wA)(),n=(0,me.r)(zt.V,{}).spec,i=D.Ru.get("web-player.your-library-x.dsa-message",D.Ru.get("web-player.your-library-x.dsa-message-link")),a=(0,u.useCallback)((function(){r(ne.r8.actions.open()),t.logInteraction(n.learnMoreButtonFactory().hitUiReveal())}),[r,t,n]);return(0,k.jsx)("div",{className:Kt,children:e?(0,k.jsx)(Xt.Zp,{label:(0,k.jsx)(Ke.E,{children:i}),placement:"right",showDelay:0,children:(0,k.jsx)("div",{className:Yt,children:(0,k.jsx)(Ht.p,{"aria-label":i})})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{children:(0,k.jsx)(Ht.p,{size:"small"})}),(0,k.jsx)(Ke.E,{as:"p",semanticColor:"textSubdued",children:D.Ru.get("web-player.your-library-x.dsa-message",(0,k.jsx)(Wt.H,{condensedAll:!0,size:"small",semanticColor:"textBase",onClick:a,className:Zt,children:(0,k.jsx)(Ke.E,{variant:"bodyMedium",children:D.Ru.get("web-player.your-library-x.dsa-message-link")})}))})]})})};const Jt="AhNLpx0iVnlj4SuL_Gaw",qt="JyZRugeRBHbUtS5ABOQ8";var Qt=function(e){var t=e.className;return(0,k.jsx)("section",{className:p()(Jt,t),children:(0,k.jsxs)("div",{className:qt,children:[(0,k.jsx)(Ke.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:D.Ru.get("web-player.your-library-x.empty-state-folder-title")}),(0,k.jsx)(Ke.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:D.Ru.get("web-player.your-library-x.empty-state-folder-subtitle")})]})})},$t=r(33966),er=r(80237);function tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nr={getTitle:function(){return D.Ru.get("action-trigger.create-playlist")},getDescription:function(){return D.Ru.get("action-trigger.login-playlist")}},ir=function(e){var t=e.children,r=e.renderInline;return(0,k.jsx)($t.y,{id:er.x9,options:rr(rr({},nr),{},{renderInline:r}),children:t})},ar=r(95477),or=r(84217);const lr="CfruGiDGW_FH4l65GMpb",sr="fIgbQ9qpINdyy__tkaHi",cr="wv308QWnPnkI8n0GdqYO";var ur=(0,u.memo)((function(e){var t=e.message,r=e.title,n=e.linkTitle,i=e.linkTo,a=e.onClick,o=e.className;return(0,k.jsxs)("section",{className:p()(lr,o),children:[(0,k.jsxs)("div",{className:sr,children:[(0,k.jsx)(Ke.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:r}),(0,k.jsx)(Ke.E,{variant:"bodySmall",semanticColor:"textBase",children:t})]}),(0,k.jsx)("div",{className:cr,children:n&&(i||a)&&(0,k.jsx)(ar.$,{className:cr,as:a?"button":void 0,colorSet:"invertedLight",href:i,onClick:a,component:or.v,size:"small",children:n})})]})})),dr=function(e){var t=e.className,r=(0,R.A)().createPlaylist,n=(0,u.useCallback)((function(){r()}),[r]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(ir,{renderInline:!1,children:(0,k.jsx)(ur,{onClick:n,linkTitle:D.Ru.get("web-player.your-library-x.empty-state-playlists-cta"),title:D.Ru.get("web-player.your-library-x.empty-state-playlists-title"),message:D.Ru.get("web-player.your-library-x.empty-state-playlists-subtitle"),className:t})}),(0,k.jsx)(ur,{linkTo:"/genre/podcasts-web",linkTitle:D.Ru.get("web-player.your-library-x.empty-state-podcasts-browse"),title:D.Ru.get("web-player.your-library-x.empty-state-podcasts-to-follow"),message:D.Ru.get("web-player.your-library-x.empty-state-podcasts-keep-you-updated"),className:t})]})};const pr="NOXrKH_1anB9lsOlyv5g",fr="FIARvjbv_YZKwz7yxNHw",yr="Fqrv8StT3DnEAfntIKCg",gr="JydI9ZzWnssPC899sOGP";var mr=function(e){var t=e.query,r=e.className;return(0,k.jsxs)("div",{className:p()(pr,r),"data-testid":"no-search-results-view",children:[(0,k.jsx)(Ke.E,{as:"h1",variant:"bodyMediumBold",className:fr,children:D.Ru.get("web-player.your-library-x.empty-results-title-short",(0,k.jsx)("span",{className:yr,children:(0,k.jsx)("span",{className:gr,children:t})}))}),(0,k.jsx)(Ke.E,{as:"h2",variant:"bodySmall",children:D.Ru.get("web-player.your-library-x.empty-results-text-short")})]})},br=r(27770);const vr="vhOeYrTmSoea5vemsMpv",xr="pCKhe1uJhYBUC4YVmz9B";var hr=function(e){var t=e.onClick;return(0,k.jsxs)("div",{className:vr,children:[(0,k.jsx)("div",{className:"icon",children:(0,k.jsx)(br.b,{size:"xlarge",semanticColor:"textBase"})}),(0,k.jsxs)("div",{className:xr,children:[(0,k.jsx)(Ke.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:D.Ru.get("web-player.your-library-x.error-title")}),(0,k.jsx)(Ke.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:D.Ru.get("web-player.your-library-x.error-body")})]}),(0,k.jsx)("div",{children:(0,k.jsx)(ar.$,{onClick:t,colorSet:"invertedLight",size:"small",children:D.Ru.get("web-player.your-library-x.error-button")})})]})};var Or=function(e){var t=e.children,r=function(){var e=(0,dt.x)("ylx-expanded-folders",[]),t=(0,l.A)(e,2),r=t[0],i=t[1],a=(0,u.useCallback)((function(e){return r.includes(e)}),[r]),o=(0,u.useCallback)((function(e,t){var a=r.indexOf(e);if(t){if(-1!==a)return;i([].concat((0,n.A)(r),[e]))}else{if(-1===a)return;i(r.filter((function(t){return t!==e})))}}),[r,i]);return{expandedFolders:r,getIsFolderExpanded:a,setIsFolderExpanded:o}}();return(0,k.jsx)(lt.Provider,{value:r,children:t})};const jr="fYWNdY4zhj4OX_T2Xtg6",Pr="BRX6aJUAuAsvHKD_fpbo",wr="ZZsPF3Sn4h7m0_5Clhk0",Sr="IZq_xBKdh88HLD4QY90X",Ar="PUipCs3_0Qott0Sru3pB",Dr="XAOxFVWnd185_vZ5zPGu",Cr="YsCa3XbOXEm79LH0B7do",Rr="eC25_w41L83mXDCqdm_A",Tr="VyDwqqtx0153zD8a3TED",Ir="rOgsguaurlHVlgCTY0P7",kr="zS8ATyQNwnAiEoPrCcIo",Er="Zwr4MoUVImDin82vBn4y",Lr="lb8li6m8Zei4tr0zNKxX",Nr="aK6vld0FgHGxjz6IiHyS",Fr="Xw1OibA6EkrU4F47EMw9",Mr="_EFIA9HjgZxxgTSZzQcg",Br="JUPaw8kZF94Coth4G88s",Ur="main-yourLibraryX-listItem",_r="c1PJ2LHU0EnzyA0jDc1j";var Vr=function(e){var t=e.isScrolled;return(0,k.jsxs)("div",{className:p()(Er,Nr,(0,a.A)({},Fr,t)),children:[(0,k.jsx)(Ke.E,{variant:"marginalBold",semanticColor:"textSubdued",children:D.Ru.get("web-player.your-library-x.expanded-list-header.title")}),(0,k.jsx)(Ke.E,{variant:"marginalBold",semanticColor:"textSubdued",children:D.Ru.get("web-player.your-library-x.expanded-list-header.date-added")}),(0,k.jsx)(Ke.E,{variant:"marginalBold",semanticColor:"textSubdued",children:D.Ru.get("web-player.your-library-x.expanded-list-header.played-at")})]})},Hr=r(26057),Wr=r(77786),zr=function(){return null},Xr=function(){return null};r(92031);r(67601),r(51338),r(40675),r(2944),r(42078),r(63763),r(52165),r(15525),r(82860),r(20427),r(53005),r(11034),r(65083),r(47246),r(8856);var Kr=function(){return{residualRefinerClasses:[],selectedRefiners:[],removeRefiners:function(){},draft:{moveAfter:function(){},moveBefore:function(){},deselectRefiner:function(){},selectRefiner:function(){},state:{selectedRefiners:[],residualRefinerClasses:[]},getDiff:function(){return{selected:[],deselected:[]}}},saveDraft:function(){}}};function Yr(e){return e.id.startsWith("spotify:concept:")?_({tagUri:e.id,tagName:e.name,entityCount:0}):V(e)}var Zr=r(64508);const Gr="mA1QNQx6oUXgQ8kMID2S",Jr="a2XwshgvydvJO9If_GzQ",qr="aVLBGREPTnbTFhkSdUMV",Qr="ViXEX4SVVU_NA7zcS9kd",$r="pQvrkwXAqZnbSqJiiQuo";var en=["filterId","isPrimaryFilter","isPlaceholder","resetFilterIds","toggleFilterId","allowedDropTargetMimeTypes","className","innerRef","index","spec"],tn=["className","dropPosition"];function rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var an={marginBlockEnd:0,willChange:"transform, opacity"},on=function(e){var t=e.filterId,r=e.isPrimaryFilter,n=e.isPlaceholder,i=e.resetFilterIds,l=e.toggleFilterId,s=e.allowedDropTargetMimeTypes,c=void 0===s?ve.Vp:s,d=e.className,f=e.innerRef,y=e.index,g=void 0===y?0:y,m=e.spec,b=(0,o.A)(e,en),v=(0,T.s)(),x=(0,yt.t)(),h=b.selected,O=t?x.getFilterLabel(t):"",j=(0,u.useCallback)((function(){!t||h&&r?(i(),h&&r&&t?v.logInteraction(m.filterChipFactory({identifier:O,position:g}).hitClearFilter()):v.logInteraction(m.clearButtonFactory().hitClearFilter())):(l(t),h?v.logInteraction(m.filterChipFactory({identifier:O,position:g}).hitClearFilter()):v.logInteraction(m.filterChipFactory({identifier:O,position:g}).hitFilter()))}),[t,O,h,r,i,l,g,v,m]),P=(0,u.useCallback)((function(e){e.detail>1||n||j()}),[n,j]),w=(0,xe.A)({allowedMimeTypesByDropPosition:(0,a.A)({},ve.Nz.ON,c),onLongDragOver:j}),S=w.className,A=w.dropPosition,D=(0,o.A)(w,tn);return(0,k.jsx)(Zr.v,nn(nn(nn(nn({},b),{},{"aria-label":b["aria-label"]},D),A===ve.Nz.ON?{selectedColorSet:"base"}:void 0),{},{className:p()(d,S,(0,a.A)((0,a.A)({},qr,A===ve.Nz.ON),Gr,n)),onClick:P,selectedColorSet:A===ve.Nz.ON?"invertedDark":"invertedLight",secondary:h&&!r,style:an,ref:f,tabIndex:-1}))},ln=r(28801),sn=["filterId","isPrimaryFilter","isPlaceholder","resetFilterIds","toggleFilterId","allowedDropTargetMimeTypes","className","innerRef","index","spec"],cn=["className","dropPosition"];function un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?un(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pn={marginBlockEnd:0,willChange:"transform, opacity"},fn=function(e){var t=e.filterId,r=e.isPrimaryFilter,n=e.isPlaceholder,i=e.resetFilterIds,l=e.toggleFilterId,s=e.allowedDropTargetMimeTypes,c=void 0===s?ve.Vp:s,d=e.className,f=e.innerRef,y=e.index,g=void 0===y?0:y,m=e.spec,b=(0,o.A)(e,sn),v=(0,T.s)(),x=(0,yt.t)(),h=b.selected,O=t?x.getFilterLabel(t):"",j=(0,u.useCallback)((function(){!t||h&&r?(i(),h&&r&&t?v.logInteraction(m.filterChipFactory({identifier:O,position:g}).hitClearFilter()):v.logInteraction(m.clearButtonFactory().hitClearFilter())):(l(t),h?v.logInteraction(m.filterChipFactory({identifier:O,position:g}).hitClearFilter()):v.logInteraction(m.filterChipFactory({identifier:O,position:g}).hitFilter()))}),[t,O,h,r,i,l,g,v,m]),P=(0,u.useCallback)((function(e){e.detail>1||n||j()}),[n,j]),w=(0,xe.A)({allowedMimeTypesByDropPosition:(0,a.A)({},ve.Nz.ON,c),onLongDragOver:j}),S=w.className,A=w.dropPosition,D=(0,o.A)(w,cn);return(0,k.jsx)(ln.m,dn(dn(dn(dn({},b),{},{"aria-label":b["aria-label"]},D),A===ve.Nz.ON?{selectedColorSet:"base"}:void 0),{},{className:p()(d,S,(0,a.A)((0,a.A)({},qr,A===ve.Nz.ON),Gr,n)),onClick:P,style:pn,ref:f,tabIndex:-1}))},yn=(0,u.memo)((function(e){var t=e.availableFilters,r=e.selectedFilters,i=e.toggleFilterId,a=e.resetFilterIds,o=e.className,l=e.spec,s=!(r||t),c=function(e){var t,r,n=e.availableFilters,i=e.activeFilters,a=null!==(t=null==n?void 0:n.map(V))&&void 0!==t?t:[],o=null!==(r=null==i?void 0:i.map(Yr))&&void 0!==r?r:[],l=Kr().selectedRefiners,s=J();return{availableRefiners:null!=i&&i.length||!s?a:l,activeRefiners:o,allContentTypeRefiners:a}}({availableFilters:t,activeFilters:r}),d=c.availableRefiners,p=c.activeRefiners,f=c.allContentTypeRefiners,y=s?f:[].concat((0,n.A)(null!=p?p:[]),(0,n.A)(null!=d?d:[])),g=(0,u.useRef)(null),m=(0,u.useCallback)((function(){var e,t;(0,Wr.MS)(g.current,(null===(e=g.current)||void 0===e?void 0:e.nextElementSibling)instanceof HTMLElement?null===(t=g.current)||void 0===t?void 0:t.nextElementSibling:null),a()}),[a]),b=J();return y&&0!==(null==y?void 0:y.length)?(0,k.jsxs)(Hr.F,{className:o,ariaLabel:D.Ru.get("web-player.your-library-x.filter_options"),children:[!(null==r||!r.length)&&(0,k.jsx)(fn,{resetFilterIds:m,toggleFilterId:i,allowedDropTargetMimeTypes:rt,"aria-label":D.Ru.get("web-player.your-library-x.clear_filters"),innerRef:g,spec:l}),y.map((function(e,t){var r=null==p?void 0:p.includes(e),n=0===t,o=(0,k.jsx)(on,{filterId:e.id,isPrimaryFilter:n,isPlaceholder:s,resetFilterIds:a,toggleFilterId:i,selected:r,spec:l,index:t,children:e.name},e.id);return b&&n?(0,k.jsx)(h.h,{menu:(0,k.jsx)(u.Suspense,{fallback:!0,children:(0,k.jsx)(Xr,{refiner:e,resetFilterIds:a,isSelected:r})}),children:o},e.id):o})),b&&!(null!=p&&p.length)&&(0,k.jsx)(zr,{})]}):null})),gn=r(12370),mn=r(96066),bn=r(78122),vn=function(e){var t=e.span,r=e.onInView,n=e.marginBottom,i=e.marginTop,a=(0,u.useRef)(null);return(0,u.useEffect)((function(){if(!window.IntersectionObserver)return function(){};var e=new window.IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&r()}))}));return a.current&&e.observe(a.current),function(){e.disconnect()}}),[r]),t<=0?null:(0,k.jsx)("div",{style:{gridColumn:"1/-1",gridRow:"span ".concat(t),marginBottom:n,marginTop:i},ref:a,"data-type":"sentinel"},"topSentinel")},xn=function(e){var t=e.renderItems,r=e.nrItems,n=e.estimatedItemMaxHeight,i=e.scrollNodeRef,a=e.nrRowsOverscan,o=void 0===a?5:a,s=e.initalNrRows,c=void 0===s?5:s,d=e.onGridResize,p=(0,u.useState)({firstRowToRender:0,nrRows:c+o}),f=(0,l.A)(p,2),y=f[0],g=f[1],m=(0,u.useRef)(0),b=(0,u.useRef)(null),v=(0,u.useRef)(n),x=(0,u.useCallback)((function(){var e,t=null===(e=b.current)||void 0===e?void 0:e.querySelector(':scope > *:not([data-type="sentinel"])');v.current=t?t.getBoundingClientRect().height:v.current}),[]),h=(0,u.useCallback)((function(){var e=i.current;if(e){x();var t=Math.floor((e.scrollTop-m.current)/v.current),r=Math.max(t-o,0),n=Math.ceil(e.offsetHeight/v.current)+2*o;r===y.firstRowToRender&&n===y.nrRows||g({firstRowToRender:r,nrRows:n})}}),[o,y,i,x]),O=(0,u.useCallback)((function(e){var n=e.columnCount;if(n<=0)return[null];d&&d(n,v.current);var i=Math.ceil(r/n),a=y.firstRowToRender*n,l=y.firstRowToRender+y.nrRows-1,s=Math.min(r-1,(l+1)*n-1),c=v.current*(o-2);return[(0,k.jsx)(vn,{span:y.firstRowToRender,onInView:h,marginBottom:"-".concat(c,"px")},"topSentinel-".concat(y.firstRowToRender)),t(a,s,n),(0,k.jsx)(vn,{span:i-l,onInView:h,marginTop:"-".concat(c,"px")},"bottomSentinel-".concat(i-l))]}),[r,o,d,h,t,y]);return(0,u.useEffect)((function(){var e=b.current,t=i.current;e&&t&&(m.current=e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop)}),[i]),(0,k.jsx)(bn.E,{useUniformRowHeight:!0,ref:b,render:O,onLayoutChange:x})},hn=r(94411),On=r(1129);function jn(){var e=(0,b.NC)(G.AEN),t=(0,dt.x)("ylx-grid-scale",1),r=(0,l.A)(t,2),n=r[0];return{gridScale:e?n:1,setGridScale:r[1]}}r(42363);var Pn=r(53634),wn=r(16493),Sn=r(61183),An=r(72368),Dn=r(60093),Cn=r(50082),Rn=r(46723),Tn=r(67264),In=r(96839),kn=r(91239),En=r(72190),Ln=r(60065),Nn=function(e){var t=e.iconSize,r=void 0===t?"small":t;return(0,k.jsx)("span",{className:Ar,children:(0,k.jsx)(Ln.C,{size:r,semanticColor:"textBrightAccent",className:Sr})})},Fn=r(2262),Mn=r(84613);function Bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _n=function(e){var t=e.children,r=e.title,n=e.subtitleSlot,i=e.isPlaying,a=(0,b.NC)(Fn.rW);return(0,k.jsx)(Xt.Zp,{label:(0,k.jsxs)("div",{className:p()({"circular-sp-vietnamese":a},kr),children:[(0,k.jsxs)("div",{children:[r,n]}),i&&(0,k.jsx)(Nn,{})]}),placement:"right",showDelay:0,children:t})},Vn=function(e){var t=(0,u.useRef)(null);return(0,On.c0)(e.uri)?(0,k.jsx)(Mn.cW,{parentRef:e.parentRef,api:t,children:(0,k.jsx)(_n,Un({},e))}):(0,k.jsx)(_n,Un({},e))},Hn=(r(37015),r(35833)),Wn=r(85759),zn=r(75240),Xn=function(e){var t=e.leading,r=e.subtitle,n=e.uri,i="listrow-subtitle-".concat(n);return(0,k.jsx)("div",{className:zn.A.subtitle,children:(0,k.jsxs)(Hn.j,{className:zn.A.link,id:i,dir:"auto",children:[(0,k.jsx)("span",{className:zn.A.subtitleLeadingWrapper,children:t}),(0,k.jsx)("span",{className:zn.A.subtitleText,children:r})]})})},Kn=function(e){var t=e.leading,r=e.subtitle,n=e.uri,i="card-subtitle-".concat(n);return(0,k.jsx)("div",{className:zn.A.subtitle,children:(0,k.jsxs)(Wn.j,{lineClamp:1,className:zn.A.link,id:i,role:"gridcell",dir:"auto",children:[(0,k.jsx)("span",{className:zn.A.subtitleLeadingWrapper,children:t}),r]})})},Yn=r(33165),Zn=r(61735),Gn=r(94625),Jn=r(23989);var qn=r(12076),Qn={state:{referrer:"your_library",preventMoveFocus:!0}};function $n(e,t,r,i){var a,o,l,s,c,d=(0,u.useContext)(Be.g).filter,p=(0,Cn.l_)(e).isActive,f=(o=e,l=(0,u.useContext)(ue).typeaheadResult,s=l.uid,c=l.str,s===o?c:null),y=!!f,g=(0,Jn.W)({uri:e,type:"link"})?(0,qn.hF)(t):t,m=(0,u.useRef)(null),b=(0,Yn.Zp)(),v=(0,u.useCallback)((function(e){e.preventDefault(),i?i():g&&b(g,Qn)}),[i,b,g]);return(0,u.useLayoutEffect)((function(){var e;y&&(null===(e=m.current)||void 0===e||null===(e=e.closest('[role="row"], [role="listitem"]'))||void 0===e||null===(e=e.querySelector("button"))||void 0===e||e.focus({preventScroll:!0}))}),[y]),{isActive:p,onClick:v,contents:d||f?(0,k.jsx)("span",{ref:m,children:(0,k.jsx)(An.M,{autoEscape:!0,searchWords:[d.trim()].concat((0,n.A)(null!==(a=null==f?void 0:f.split(" "))&&void 0!==a?a:"")),textToHighlight:r})}):r}}var ei=function(e){var t,r=e.uri,n=e.playbackUri,i=void 0===n?r:n,a=e.title,o=e.menu,l=e.to,s=$n(i,void 0===l?(null===(t=(0,In.o_)(r))||void 0===t?void 0:t.toURLPath(!0))||"":l,a,e.handleNavigate),c=s.isActive,u=s.contents,d="listrow-title-".concat(r);return(0,k.jsx)(h.h,{menu:o,children:(0,k.jsx)(Zn.d,{id:d,lineClamp:1,className:p()(zn.A.link,zn.A.titleLink),semanticColor:c?"textBrightAccent":"textBase",dir:"auto",children:u})})},ti=function(e){var t,r=e.uri,n=e.playbackUri,i=void 0===n?r:n,a=e.title,o=e.menu,l=e.to,s=void 0===l?(null===(t=(0,In.o_)(r))||void 0===t?void 0:t.toURLPath(!0))||"":l,c=$n(i,s,a,e.handleNavigate),u=c.isActive,d=c.onClick,f=c.contents;return(0,k.jsx)(h.h,{menu:o,children:(0,k.jsx)(Gn.Z,{lineClamp:1,className:p()(zn.A.link,zn.A.titleLink),semanticColor:u?"textBrightAccent":"textBase",href:s,onClick:d,role:"gridcell",dir:"auto",children:f})})},ri=(r(39350),r(17740),r(37302)),ni=[be.fl.ALBUMS,be.fl.ARTISTS,be.fl.PLAYLISTS_V2,be.fl.SHOWS,be.fl.FOLDERS,be.fl.PSEUDO_PLAYLISTS],ii=[be.fl.PLAYLISTS_V2,be.fl.FOLDERS],ai=r(68966);function oi(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return li(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?li(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw a}}}}function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function si(e){var t=e.dropTargetUri,r=e.spec,n=e.isDropTargetPinned,a=(0,oe.g)(),o=(0,u.useContext)(te.Z),s=(0,T.s)(),d=xt(),p=(0,u.useCallback)(function(){var e=(0,i.A)(c().mark((function e(i,u){var p,f,y,g,m,b,v,x,h,O,j,P;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=i[be.fl.PLAYLISTS_V2],f=void 0===p?[]:p,y=i[be.fl.FOLDERS],g=void 0===y?[]:y,m=(0,l.A)(g,1),b=m[0],v=u===ve.Nz.BEFORE?{before:{uri:t}}:{after:{uri:t}},!n){e.next=38;break}if(x=i[Object.keys(i)[0]][0],!(0,In.tb)(x)&&!(0,In.fp)(x)){e.next=24;break}return e.next=7,a.getContents();case 7:if(h=e.sent,-1!==(O=ci(h.items,x))){e.next=14;break}return e.next=12,a.add([x],{before:"start"});case 12:e.next=22;break;case 14:if(!(O>0)){e.next=22;break}if(!(0,In.tb)(x)){e.next=20;break}return e.next=18,a.move({uri:x},{before:"start"});case 18:e.next=22;break;case 20:return e.next=22,a.moveFolder({uri:x},{before:"start"});case 22:e.next=33;break;case 24:if((0,In.Z0)(x)){e.next=33;break}return e.next=27,o.contains(x);case 27:if(j=e.sent,P=(0,l.A)(j,1),P[0]){e.next=33;break}return e.next=33,o.add({uris:[x]});case 33:return e.next=35,o.pin(x,v);case 35:s.logInteraction(r.dragPinItem({itemToPin:x})),e.next=46;break;case 38:if(!b){e.next=43;break}return e.next=41,a.moveFolder({uri:b},v);case 41:e.next=46;break;case 43:if(!f.length){e.next=46;break}return e.next=46,d(f,v);case 46:s.logInteraction(r.dragSort());case 47:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[t,n,o,s,r,a,d]),f=vt(n?{onApplyDrop:p,spec:r,isDropTargetPinned:n}:{onApplyDrop:p}),y=f.unpinConfirmationDialog,g=f.applyDropWithUnpinConfirmation,m=(0,u.useCallback)(function(){var e=(0,i.A)(c().mark((function e(t,r){var n,i,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[be.fl.PLAYLISTS_V2],i=void 0===n?[]:n,a=t[be.fl.FOLDERS],o=void 0===a?[]:a,!i.length||!o.length){e.next=5;break}throw new Error("Dropping a mix of playlists and folders is not supported");case 5:if(!(o.length>1)){e.next=7;break}throw new Error("Dropping multiple folders is not supported");case 7:g(t,r);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[g]);return{handleDropBeforeOrAfterRootlistItem:m,unpinConfirmationDialog:y}}function ci(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=oi(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if((0,ai.Af)(a)||(0,ai.sA)(a)){if((0,In.B2)(a.uri,t))return n;if((0,ai.sA)(a)){var o=ci(a.items,t,n+1);if(-1!==o)return o}}}}catch(e){i.e(e)}finally{i.f()}return-1}var ui=["dropPosition","className"];function di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?di(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fi={state:{referrer:"your_library",preventMoveFocus:!0}};function yi(e){var t,r,n=e.uri,i=e.to,l=void 0===i?(null===(t=(0,In.o_)(n))||void 0===t?void 0:t.toURLPath(!0))||"":i,s=e.type,c=e.handleNavigate,d=e.dragLabel,p=e.isPinned,f=e.canReorder,y=e.allowedDropTargetDropOnMimeTypes,g=void 0===y?[]:y,m=e.onDropTargetDropOn,b=e.onLongDragOver,v=e.openDeleteDialog,x=e.togglePlay,h=e.isItemInGrid,O=e.playInsteadOfNavigating,j=void 0!==O&&O,w=e.isPlaying,S=e.isActive,A=e.spec,D=e.folderDepth,C=(0,Jn.W)({uri:n,type:"link"})?(0,qn.hF)(l):l,R=(0,Yn.Zp)(),I=(0,Yn.zy)(),k=(0,u.useCallback)((function(){R(C,fi)}),[R,C]),E=(0,T.s)(),L=(0,u.useRef)(0),N=(0,u.useRef)(null),F=(0,u.useCallback)((function(e){var t,r=e.target;return r instanceof HTMLElement&&!(null!==(t=N.current)&&void 0!==t&&t.contains(r))}),[]),M=(0,u.useCallback)((function(e){if(!F(e)){if(e.preventDefault(),e.currentTarget.scrollIntoView({block:"nearest"}),j){if(L.current>Date.now())return;return L.current=Date.now()+300,void(w||(null==x||x(),E.logInteraction(A.yourLibraryItemFactory().hitPlay({itemToBePlayed:n}))))}c?c():C&&R(C,pi(pi({},fi),{},{replace:C===I.pathname})),E.logInteraction(A.yourLibraryItemFactory().hitUiNavigate({destination:n}))}}),[F,j,c,C,E,A,n,x,w,R,I.pathname]),B=(0,u.useCallback)((function(e){j||F(e)||x&&(S?w?E.logInteraction(A.yourLibraryItemFactory().doubleHitPause({itemToBePaused:n})):E.logInteraction(A.yourLibraryItemFactory().doubleHitResume({itemToBeResumed:n})):E.logInteraction(A.yourLibraryItemFactory().doubleHitPlay({itemToBePlayed:n})),null==x||x())}),[F,j,x,S,w,E,A,n]),U=(0,u.useCallback)((function(){E.logInteraction(A.yourLibraryItemFactory().secondaryHitUiReveal())}),[E,A]),_=(0,ri.P)({itemUris:[n],itemMimeTypes:[(0,be.j3)(s)],dragLabelText:d,sectionId:null!=D?D:0,dropOriginUri:P.gv}),V=_.draggable,H=_.onDragStart,W=[];p?W=ni:f&&(W=ii);var z=(0,a.A)((0,a.A)((0,a.A)({},ve.Nz.ON,g),ve.Nz.BEFORE,W),ve.Nz.AFTER,W),X=si({dropTargetUri:n,spec:A,isDropTargetPinned:p}),K=X.handleDropBeforeOrAfterRootlistItem,Y=X.unpinConfirmationDialog,Z=(0,u.useCallback)((function(e,t){t===ve.Nz.ON?null==m||m(e,t):t!==ve.Nz.BEFORE&&t!==ve.Nz.AFTER||K(e,t)}),[m,K]),G=(0,xe.A)({uri:n,allowedMimeTypesByDropPosition:z,onDrop:Z,onLongDragOver:null!=b?b:k,reorderDirection:h?"horizontal":"vertical"}),J=G.dropPosition,q=G.className,Q=(0,o.A)(G,ui),$=(0,u.useCallback)((function(e){e.repeat||F(e)||("Backspace"!==e.key&&"Delete"!==e.key||!v||v(),"Enter"===e.key&&e.shiftKey&&x&&(e.preventDefault(),x()),"Enter"===e.key&&E.logInteraction(A.yourLibraryItemFactory().keyStrokeUiNavigate({destination:n})))}),[F,E,v,A,x,n]),ee=null===(r=(0,In.o_)(I.pathname,{parseUnknown:!0}))||void 0===r?void 0:r.toURI();return pi({onClick:M,onDoubleClick:B,draggable:V&&!!d,onDragStart:H,onKeyDown:$,unpinConfirmationDialog:Y,dropPosition:J,dropTargetClassName:q,logRightClick:U,isViewActive:!!ee&&(0,In.B2)(n,ee),itemRef:N},Q)}var gi=function(e){switch(e){case re.c.ALBUM:return D.Ru.get("web-player.your-library-x.type-album");case re.c.ARTIST:return D.Ru.get("web-player.your-library-x.type-artist");case re.c.FOLDER:return D.Ru.get("web-player.your-library-x.type-folder");case re.c.AUDIOBOOK:return D.Ru.get("web-player.your-library-x.type-audiobook");case re.c.YOUR_EPISODES:case re.c.LOCAL_FILES:case re.c.LIKED_SONGS:case re.c.PLAYLIST:return D.Ru.get("web-player.your-library-x.type-playlist");case re.c.SHOW:return D.Ru.get("web-player.your-library-x.type-show");case re.c.PRE_RELEASE_ALBUM:return D.Ru.get("web-player.your-library-x.type-prerelease-album");case re.c.PRE_RELEASE_BOOK:return D.Ru.get("web-player.your-library-x.type-prerelease-audiobook");default:return(0,wt.d)(e)}},mi=function(e){switch(e){case re.c.YOUR_EPISODES:case re.c.LIKED_SONGS:case re.c.LOCAL_FILES:return re.c.PLAYLIST;default:return e}},bi=r(48068),vi=u.createContext(!1),xi=function(e){var t=e.children,r=e.isCompact;return(0,k.jsx)(vi.Provider,{value:r,children:t})},hi=function(){return(0,u.useContext)(vi)};const Oi="wJTUKAyYI219kJtclJLa",ji="q0_cpEyu_8EC7he96qT_",Pi="L8ET6xwMh_wMEqCpmunH",wi="D_1eJKOJ3wTCKO93GX06",Si="_7kcfiJ2UNEh3CDR9Wau",Ai="N8wAJha8ApfxgOfqv4UM",Di="iJMxV9zMXSfrjJPyB3Fw";var Ci=["onClick","onDoubleClick","draggable","onDragStart","onKeyDown","dropPosition","dropTargetClassName","unpinConfirmationDialog","logRightClick","isViewActive","itemRef"];function Ri(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ri(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ri(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ii=function(e){var t,r=e.uri,n=e.to,i=void 0===n?(null===(t=(0,In.o_)(r))||void 0===t?void 0:t.toURLPath(!0))||"":n,l=e.handleNavigate,s=e.dragLabel,c=e.name,d=e.subtitle,f=e.cover,y=e.type,g=e.downloadButton,m=e.canReorder,b=e.allowedDropTargetDropOnMimeTypes,v=e.onDropTargetDropOn,x=e.onLongDragOver,O=e.menu,j=e.leading,P=e.openDeleteDialog,w=e.togglePlay,S=e.isPinned,A=e.shouldShowType,D=e.playbackUri,C=e.isPlaying,R=e.isActive,T=e.playInsteadOfNavigating,I=e.spec,E=e.index,L=e.animateClassName,N=void 0===L?"":L,F=e.animateState,M=e.preReleaseIcon,B=e.lockedIcon,U=yi({uri:r,to:i,handleNavigate:l,dragLabel:s,isPinned:S,canReorder:m,allowedDropTargetDropOnMimeTypes:b,onDropTargetDropOn:v,openDeleteDialog:P,onLongDragOver:x,togglePlay:w,isItemInGrid:!0,isPlaying:C,isActive:R,spec:I,playInsteadOfNavigating:T}),_=U.onClick,V=U.onDoubleClick,H=U.draggable,W=U.onDragStart,z=U.onKeyDown,X=U.dropPosition,K=U.dropTargetClassName,Y=U.unpinConfirmationDialog,Z=U.logRightClick,G=U.isViewActive,J=U.itemRef,q=(0,o.A)(U,Ci),Q=(0,k.jsx)(ti,{uri:r,title:c,menu:O,handleNavigate:l,playbackUri:D}),$=(0,k.jsx)(Kn,{leading:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(bi.g,{pinned:S}),B,M,g]}),subtitle:(0,k.jsxs)(k.Fragment,{children:[A&&gi(y),!!d&&A&&" • ",d]}),uri:r}),ee=(0,u.useRef)(null),te=hi(),re=(0,k.jsx)(h.h,{menu:O,onShow:Z,children:(0,k.jsx)(En.E,{uri:r,trigger:En.l.OnMouseDown,children:(0,k.jsx)(Rn.Z,Ti({id:r,title:Q,subtitle:$,media:f,size:"sm",leading:j,className:p()(Oi,(0,a.A)({},N,F)),variant:G?"tinted":void 0,onClick:_,onDoubleClick:V,padding:Tn.CJ},q))})});return te&&(re=(0,k.jsx)(Vn,{title:Q,subtitleSlot:$,uri:r,isPlaying:C,parentRef:ee,children:(0,k.jsx)("div",{children:(0,k.jsx)(h.h,{menu:O,onShow:Z,children:(0,k.jsx)(En.E,{uri:r,trigger:En.l.OnMouseDown,children:(0,k.jsx)(Rn.Z,Ti({id:r,title:void 0,media:f,size:"sm",className:p()(Oi,ji,(0,a.A)({},N,F)),variant:G?"tinted":void 0,onClick:_,onDoubleClick:V,padding:Tn.vw,ref:ee},q))})})})})),(0,k.jsxs)(k.Fragment,{children:[Y,(0,k.jsx)(kn.W,{draggable:H,onDragStart:W,onKeyDown:z,className:p()(K,(0,a.A)((0,a.A)((0,a.A)({},Jr,X===ve.Nz.ON),Qr,X===ve.Nz.BEFORE),$r,X===ve.Nz.AFTER)),"aria-selected":R,innerRef:J,"aria-posinset":E,children:re})]})},ki=r(36146),Ei=r(61350),Li=r(18139),Ni=r(5141),Fi=r(11498),Mi=r(47080),Bi=(r(12924),r(86346)),Ui=function(e){var t=e.name,r=e.uri,n=e.togglePlay,i=e.spec,o=e.isActive,l=e.isPlaying,s=e.size,c=(0,T.s)(),d=(0,u.useCallback)((function(){o?l?c.logInteraction(i.yourLibraryItemFactory().doubleHitPause({itemToBePaused:r})):c.logInteraction(i.yourLibraryItemFactory().doubleHitResume({itemToBeResumed:r})):c.logInteraction(i.yourLibraryItemFactory().doubleHitPlay({itemToBePlayed:r})),n()}),[o,l,c,i,n,r]);return(0,k.jsx)("div",{className:p()(Si,(0,a.A)((0,a.A)({},Di,l),Ai,"small"===s)),role:"gridcell",children:(0,k.jsx)(Bi.R,{isPlaying:l,onClick:d,ariaPlayLabel:D.Ru.get("playlist.a11y.play",t),ariaPauseLabel:D.Ru.get("playlist.a11y.pause",t),size:s})})};function _i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Vi=(0,u.memo)((function(e){var t=e.title,r=e.type,n=e.images,i=e.isCircular,o=e.color,l=e.animateState,s=e.animateClassName,c=void 0===s?"":s,u=(0,Mi._)();return(0,k.jsx)(Ei.b,{fadeIn:!0,images:u(n,48),shape:i?Ei.u.CIRCLE:Ei.u.ROUNDED_CORNERS,size:Li.Qe.SIZE_48,iconSize:"medium",type:r,title:t,className:p()(zn.A.entityImage,(0,a.A)({},c,l)),color:o,loadingMode:"eager"})})),Hi=(0,u.memo)((function(e){var t=e.title,r=e.type,n=e.uri,i=e.images,o=e.isCircular,s=e.togglePlay,c=e.color,d=e.spec,p=e.isActive,f=e.isPlaying,y=(0,b.NC)(Fn.AE),g=hi(),m=(0,Mi._)(),v=(0,u.useState)("medium"),x=(0,l.A)(v,2),h=x[0],O=x[1],j=(0,u.useRef)(null);return(0,Fi.w)({onResize:function(e){var t=e.width;O(t<90?"small":"medium")},refOrElement:j}),(0,k.jsx)("div",{className:wi,ref:j,children:(0,k.jsx)(ki.M,{images:m(i,250),FallbackComponent:function(e){return(0,k.jsx)(Ni.s,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({semanticColor:"textSubdued",type:r,size:"xxlarge",className:y?Pi:""},e))},isCircular:o,color:c,loadingMode:"eager",children:s&&!g&&(0,k.jsx)(Ui,{name:t,uri:n,togglePlay:s,spec:d,isActive:p,isPlaying:f,size:h})})})})),Wi=r(15983);const zi="_ymJNIfklFmogab9uWY1";var Xi=function(e){var t=e.folderDepth,r=void 0===t?0:t;return(0,k.jsx)("li",{className:zi,style:{"--ylx-folder-depth":r}})},Ki=["RowVariantComponent","uri","to","handleNavigate","folderDepth","className","dragLabel","isPinned","canReorder","allowedDropTargetDropOnMimeTypes","onDropTargetDropOn","onLongDragOver","style","openDeleteDialog","togglePlay","isPlaying","isActive","type","menu","name","subtitle","downloadButton","expandFolderButton","cover","alt","addedAt","lastPlayedAt","shouldShowType","playbackUri","playInsteadOfNavigating","spec","nrValidItems","index","lockedIcon","onKeyDown","preReleaseIcon"],Yi=["onClick","onDoubleClick","onDragStart","onKeyDown","dropPosition","dropTargetClassName","draggable","unpinConfirmationDialog","logRightClick","isViewActive","itemRef"];function Zi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zi(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ji=function(e){var t,r=e.RowVariantComponent,n=e.uri,i=e.to,l=void 0===i?(null===(t=(0,In.o_)(n))||void 0===t?void 0:t.toURLPath(!0))||"":i,s=e.handleNavigate,c=e.folderDepth,d=e.className,f=e.dragLabel,y=e.isPinned,g=e.canReorder,m=e.allowedDropTargetDropOnMimeTypes,b=e.onDropTargetDropOn,v=e.onLongDragOver,x=e.style,h=e.openDeleteDialog,O=e.togglePlay,j=e.isPlaying,P=e.isActive,w=e.type,S=(e.menu,e.name,e.subtitle,e.downloadButton,e.expandFolderButton,e.cover,e.alt,e.addedAt,e.lastPlayedAt,e.shouldShowType,e.playbackUri,e.playInsteadOfNavigating),A=e.spec,D=e.nrValidItems,C=e.index,R=(e.lockedIcon,e.onKeyDown),T=(e.preReleaseIcon,(0,o.A)(e,Ki)),I=yi({uri:n,to:l,type:w,handleNavigate:s,dragLabel:f,isPinned:y,canReorder:g,allowedDropTargetDropOnMimeTypes:m,onDropTargetDropOn:b,onLongDragOver:v,openDeleteDialog:h,togglePlay:O,isPlaying:j,isActive:P,playInsteadOfNavigating:S,spec:A,folderDepth:c}),E=I.onClick,L=I.onDoubleClick,N=I.onDragStart,F=I.onKeyDown,M=I.dropPosition,B=I.dropTargetClassName,U=I.draggable,_=I.unpinConfirmationDialog,V=I.logRightClick,H=I.isViewActive,W=I.itemRef,z=(0,o.A)(I,Yi),X=(0,u.useCallback)((function(e){F(e),null==R||R(e)}),[F,R]);return(0,k.jsxs)(k.Fragment,{children:[_,M===ve.Nz.BEFORE&&(0,k.jsx)(Xi,{folderDepth:c}),(0,k.jsx)(Wi.c,Gi(Gi(Gi({style:Gi({"--ylx-folder-depth":c},x),draggable:U,onDragStart:N,onDoubleClick:L,className:p()(d,B,Ur,(0,a.A)({},Jr,M===ve.Nz.ON))},T),z),{},{onKeyDown:X,innerRef:W,"aria-setsize":D,"aria-posinset":C+1,children:(0,k.jsx)(r,Gi(Gi({},e),{},{to:l,isActive:P,isViewActive:H,onClick:E,logRightClick:V,playInsteadOfNavigating:S,parentRef:W}))})),M===ve.Nz.AFTER&&(0,k.jsx)(Xi,{folderDepth:c})]})},qi=r(11217),Qi=function(e){return e.locked?(0,k.jsx)(qi.u,{semanticColor:"textSubdued",title:D.Ru.get("mwp.header.content.unavailable"),className:zn.A.icon,size:"xsmall"}):null};function $i(e){var t,r,n=e.uri,i=e.artists,a=e.isPremiumOnly,o=(0,u.useContext)(Be.g).filter,l=(0,Cn.l_)(n),s=l.isPlaying,c=l.isActive,d=(0,y.wA)(),p=(0,u.useCallback)((function(){d((0,Pn.aw)(n))}),[d,n]),f=(0,Dn.P)({uri:n},{featureIdentifier:"album",referrerIdentifier:"your_library"}).togglePlay;return{isPlaying:s,isActive:c,openDeleteDialog:p,togglePlay:a?void 0:f,menu:(0,k.jsx)(wn.h,{uri:n,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),subtitleText:(0,k.jsx)(An.M,{searchWords:[o.trim()],textToHighlight:null!==(t=null===(r=i.at(0))||void 0===r?void 0:r.name)&&void 0!==t?t:""}),downloadButton:(0,k.jsx)(Sn.M,{uri:n,size:"xsmall",className:zn.A.icon,as:"span"})}}var ea=function(e){var t=e.libraryItem,r=e.shouldShowType,n=void 0!==r&&r,i=e.RowVariantComponent,a=e.spec,o=e.nrValidItems,l=e.index,s=t.uri,c=t.images,u=t.name,d=t.pinned,p=t.type,f=t.addedAt,y=t.lastPlayedAt,g=t.color,m=t.isPremiumOnly,b=$i(t),v=b.isPlaying,x=b.isActive,h=b.openDeleteDialog,O=b.togglePlay,j=b.menu,P=b.subtitleText,w=b.downloadButton,S=(0,k.jsx)(Vi,{title:u,type:p,images:c,color:g}),A=(0,k.jsx)(Qi,{locked:m});return(0,k.jsx)(Ji,{RowVariantComponent:i,uri:s,cover:S,name:u,subtitle:P,downloadButton:w,alt:u,type:p,dragLabel:u,menu:j,togglePlay:O,openDeleteDialog:h,addedAt:f,lastPlayedAt:y,isPinned:d,isPlaying:v,isActive:x,shouldShowType:n,spec:a,nrValidItems:o,index:l,lockedIcon:A})},ta=function(e){var t=e.libraryItem,r=e.shouldShowType,n=void 0!==r&&r,i=e.spec,a=e.index,o=t.uri,l=t.images,s=t.name,c=t.pinned,u=t.type,d=t.color,p=t.isPremiumOnly,f=$i(t),y=f.togglePlay,g=f.menu,m=f.subtitleText,b=f.downloadButton,v=f.openDeleteDialog,x=f.isPlaying,h=f.isActive,O=(0,k.jsx)(Hi,{title:s,type:u,images:l,uri:o,togglePlay:y,color:d,spec:i,isActive:h,isPlaying:x}),j=(0,k.jsx)(Qi,{locked:p});return(0,k.jsx)(Ii,{uri:o,name:s,subtitle:m,menu:g,dragLabel:s,cover:O,downloadButton:b,type:u,togglePlay:y,isPinned:c,shouldShowType:n,openDeleteDialog:v,isPlaying:x,isActive:h,spec:i,index:a,lockedIcon:j})},ra=r(64961);function na(e){var t=e.uri,r=(0,y.wA)(),n=(0,Dn.P)({uri:t},{featureIdentifier:"artist",referrerIdentifier:"your_library"}).togglePlay,i=(0,Cn.l_)(t);return{togglePlay:n,isPlaying:i.isPlaying,isActive:i.isActive,openDeleteDialog:(0,u.useCallback)((function(){r((0,Pn.aw)(t))}),[r,t]),menu:(0,k.jsx)(ra.t,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0})}}var ia=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.uri,s=t.images,c=t.name,u=t.type,d=t.addedAt,p=t.lastPlayedAt,f=t.pinned,y=t.color,g=na(t),m=g.togglePlay,b=g.isPlaying,v=g.isActive,x=g.openDeleteDialog,h=g.menu,O=(0,k.jsx)(Vi,{title:c,type:u,images:s,isCircular:!0,color:y});return(0,k.jsx)(Ji,{RowVariantComponent:n,uri:l,cover:O,name:c,type:u,alt:c,dragLabel:c,menu:h,togglePlay:m,openDeleteDialog:x,addedAt:d,lastPlayedAt:p,isPlaying:b,isActive:v,isPinned:f,shouldShowType:r,spec:i,nrValidItems:a,index:o})},aa=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.uri,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.color,d=na(t),p=d.togglePlay,f=d.menu,y=d.openDeleteDialog,g=d.isPlaying,m=d.isActive,b=(0,k.jsx)(Hi,{title:l,type:s,images:o,uri:a,togglePlay:p,isCircular:!0,color:u,spec:n,isActive:m,isPlaying:g});return(0,k.jsx)(Ii,{uri:a,name:l,menu:f,dragLabel:l,cover:b,type:s,togglePlay:p,isPinned:c,shouldShowType:r,openDeleteDialog:y,isPlaying:g,isActive:m,spec:n,index:i})},oa=r(32439);function la(e){var t=e.uri,r=e.authorName,n=(0,u.useContext)(Be.g).filter,i=(0,y.wA)(),a=(0,Cn.l_)(t);return{isPlaying:a.isPlaying,isActive:a.isActive,openDeleteDialog:(0,u.useCallback)((function(){i((0,Pn.aw)(t))}),[i,t]),menu:(0,k.jsx)(oa.p,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),subtitleText:(0,k.jsx)(An.M,{searchWords:[n.trim()],textToHighlight:r}),downloadButton:(0,k.jsx)(Sn.M,{uri:t,size:"xsmall",className:zn.A.icon,as:"span"})}}var sa=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.uri,s=t.images,c=t.name,u=t.type,d=t.pinned,p=t.addedAt,f=t.lastPlayedAt,y=t.color,g=la(t),m=g.isPlaying,b=g.isActive,v=g.openDeleteDialog,x=g.menu,h=g.subtitleText,O=g.downloadButton,j=(0,k.jsx)(Vi,{title:c,type:u,images:s,color:y}),P=(0,k.jsx)(Qi,{locked:t.isLocked});return(0,k.jsx)(Ji,{RowVariantComponent:n,uri:l,cover:j,name:c,subtitle:h,alt:c,dragLabel:c,menu:x,openDeleteDialog:v,addedAt:p,lastPlayedAt:f,isPlaying:m,isActive:b,isPinned:d,shouldShowType:r,type:u,spec:i,nrValidItems:a,lockedIcon:P,index:o,downloadButton:O})},ca=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.uri,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.color,d=la(t),p=d.menu,f=d.subtitleText,y=d.openDeleteDialog,g=d.isPlaying,m=d.isActive,b=d.downloadButton,v=(0,k.jsx)(Hi,{title:l,type:s,images:o,uri:a,color:u,spec:n,isActive:m,isPlaying:g});return(0,k.jsx)(Ii,{uri:a,name:l,subtitle:f,menu:p,dragLabel:l,cover:v,isPinned:c,shouldShowType:r,type:s,openDeleteDialog:y,isPlaying:g,isActive:m,spec:n,index:i,downloadButton:b})},ua=(r(23833),r(11137)),da=r(31084),pa=r(37036);function fa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ga=function(e){var t=e.uri,r=e.divider,n=e.onDeleteCallback,i=(0,I.W)(),a=(0,y.wA)(),o=(0,u.useCallback)((function(){i({intent:"playlisting",type:"click"}),a((0,Pn.OB)(t,n))}),[a,n,i,t]);return(0,k.jsx)(C.D,{role:"menuitem",divider:r,onClick:o,leadingIcon:(0,k.jsx)(pa.P,{semanticColor:"textSubdued",size:"small"}),children:D.Ru.get("contextmenu.delete")})},ma=u.memo((function(e){return(0,k.jsx)(j.pZ,{value:"delete-folder",children:(0,k.jsx)(ga,ya({},e))})})),ba=r(53e3),va=r(35999),xa=r(81687);function ha(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ha(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ja=function(e){var t=e.uri,r=e.spec,n=(0,Dn.P)({uri:t},{featureIdentifier:"folder"}),i=n.togglePlay,a=n.isPlaying,o=n.isActive,l=(0,T.s)(),s=(0,u.useCallback)((function(){i(),r&&l&&(a?l.logInteraction(r.playButtonFactory({uri:t}).hitPause({itemToBePaused:t})):o?l.logInteraction(r.playButtonFactory({uri:t}).hitResume({itemToBeResumed:t})):l.logInteraction(r.playButtonFactory({uri:t}).hitPlay({itemToBePlayed:t})))}),[o,a,l,r,i,t]);return(0,k.jsx)(C.D,{role:"menuitem",onClick:s,leadingIcon:a?(0,k.jsx)(va._,{semanticColor:"textSubdued",size:"small"}):(0,k.jsx)(xa.A,{semanticColor:"textSubdued",size:"small"}),children:a?D.Ru.get("pause"):D.Ru.get("play")})},Pa=u.memo((function(e){return(0,k.jsx)(j.pZ,{value:"create-folder",children:(0,k.jsx)(ja,Oa({},e))})})),wa=r(30777);function Sa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Da=function(e){var t=e.uri,r=e.name,n=e.divider,i=e.spec,a=e.handleRename,o=(0,T.s)(),l=(0,y.wA)(),s=(0,u.useCallback)((function(){i&&o.logInteraction(i.editButtonFactory({uri:t}).hitUiReveal()),l((0,Pn.O2)(r,a))}),[l,o,r,a,i,t]);return(0,k.jsx)(C.D,{role:"menuitem",divider:n,onClick:s,leadingIcon:(0,k.jsx)(wa.G,{semanticColor:"textSubdued",size:"small"}),children:D.Ru.get("contextmenu.rename")})},Ca=u.memo((function(e){return(0,k.jsx)(j.pZ,{value:"rename",children:(0,k.jsx)(Da,Aa({},e))})})),Ra=r(98067),Ta=u.memo((function(e){var t=e.reference,r=e.name,n=void 0===r?"":r,i=e.onRename,a=e.onCreateCallback,o=void 0===a?function(){}:a,l=e.onDeleteCallback,s=e.canPin,c=void 0===s?P.oT.NO:s,u=e.isPinned,d=void 0!==u&&u,p=e.isPlayable,f=void 0===p||p,y=(0,w.o)(t.uri).spec,g=(0,da.Ek)()&&f;return(0,k.jsx)(j.pZ,{value:"folder",children:(0,k.jsxs)(O.W,{children:[(0,k.jsx)(Ca,{spec:y,uri:t.uri,name:n,handleRename:i}),(0,k.jsx)(ma,{uri:t.uri,divider:"after",onDeleteCallback:l}),(c!==P.oT.NO||d)&&(0,k.jsx)(ba.k,{uri:t.uri,canPin:c,isPinned:d,type:re.c.FOLDER,spec:y}),(0,k.jsx)(F,{position:{after:t},onCreateCallback:o,spec:y}),(0,k.jsx)(S.j,{position:{after:t},onCreateCallback:o,spec:y}),(0,k.jsx)(Ra.y,{uriToBeAdded:t.uri,isInLibrary:!0,spec:y}),g&&(0,k.jsx)(Pa,{uri:t.uri,spec:y})]})})})),Ia=r(63597),ka=r(74571),Ea=r(57167),La=r(33981),Na=function(e){var t=e.uri,r=(0,u.useState)(!1),n=(0,l.A)(r,2),i=n[0],a=n[1],o=(0,Ia.Q)(),s=(0,u.useCallback)((function(){a(!0),setTimeout((function(){a(!1)}),500)}),[]);return(0,Pt.l)(jt.UV.OPERATION_COMPLETE,(function(e){"add"===e.data.operation&&t===o.getDefaultCurationContextUri(e.data.uris[0])&&s()})),(0,Ea.e)(ka.Lj.OPERATION_COMPLETE,(function(e){"add"===e.data.operation&&t===e.data.uri&&s()})),(0,Ft.b)(La.tD.OPERATION_COMPLETE,(function(e){var r,n;"remove"!==e.data.operation&&"end"!==(null===(r=e.data.position)||void 0===r?void 0:r.after)&&(null===(n=e.data.position.after)||void 0===n?void 0:n.uri)===t&&(0,In.fp)(t)&&s()})),{animateState:i,animateClassName:zn.A.pulse}},Fa=r(42960),Ma=r(98414);function Ba(e,t){var r=e.uri,n=e.name,i=e.numberOfFolders,a=e.numberOfPlaylists,o=e.pinned,l=(0,Cn.l_)(r),s=l.isPlaying,c=l.isActive,d=(0,u.useContext)(Dt).pushFolder,p=(0,y.wA)(),f=(0,Dn.P)({uri:r},{featureIdentifier:"folder",referrerIdentifier:"your_library"}).togglePlay,g=(0,y.d4)((function(e){return e.platform.isDesktop})),m=ht(t,r),b=m.handleDropOnFolder,v=m.unpinConfirmationDialog,x=(0,Fa.Z)().renameFolder,h=b,O=[a>0||!i?D.Ru.get("web-player.your-library-x.rows.folder.number-of-playlists",a):null,i>0?D.Ru.get("web-player.your-library-x.rows.folder.number-of-folders",i):null].filter(Ma.P).join(D.Ru.getSeparator()),j=(0,u.useCallback)((function(){x(e,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}),[e,x]),P=(0,u.useCallback)((function(){d(e.uri)}),[e.uri,d]);return{openDeleteDialog:(0,u.useCallback)((function(){p((0,Pn.OB)(r))}),[p,r]),togglePlay:g?f:void 0,menu:(0,k.jsx)(Ta,{reference:{uri:r},name:n,canPin:e.canPin,isPinned:o,onRename:j,isPlayable:!e.isEmpty}),subtitleText:O,onDropTargetDropOn:h,handleNavigate:P,dropOnFolderUnpinConfirmationDialog:v,isPlaying:s,isActive:c}}var Ua=function(e){var t,r,n=e.libraryItem,i=e.RowVariantComponent,o=e.spec,s=e.nrValidItems,c=e.index,d=n.uri,f=n.folderDepth,y=n.name,g=n.type,m=n.isFlattened,b=n.pinned,v=n.canReorder,x=Ba(n,o),h=x.openDeleteDialog,O=x.togglePlay,j=x.menu,P=x.subtitleText,w=x.onDropTargetDropOn,S=x.handleNavigate,A=x.dropOnFolderUnpinConfirmationDialog,C=x.isPlaying,R=x.isActive,I=function(e){var t=(0,u.useContext)(lt),r=t.getIsFolderExpanded,n=t.setIsFolderExpanded;return[(0,u.useMemo)((function(){return r(e)}),[r,e]),(0,u.useCallback)((function(t){n(e,t)}),[n,e])]}(d),E=(0,l.A)(I,2),L=E[0],N=E[1],F=(0,T.s)(),M=(0,u.useCallback)((function(){N(!0),F.logInteraction(o.yourLibraryItemFactory().dragUiReveal())}),[F,N,o]),B=(0,u.useCallback)((function(e){e.stopPropagation()}),[]),U=(0,u.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),N(!L),L?F.logInteraction(o.yourLibraryItemFactory().toggleFolderButtonFactory().hitUiHide()):F.logInteraction(o.yourLibraryItemFactory().toggleFolderButtonFactory().hitUiReveal())}),[N,L,F,o]),_=(0,u.useCallback)((function(e){"ArrowLeft"===e.key?N(!1):"ArrowRight"===e.key&&N(!0)}),[N]),V=!m&&(0,k.jsx)(Wt.H,{"data-skip-in-keyboard-nav":!0,"aria-label":L?D.Ru.get("web-player.your-library-x.collapse-folder"):D.Ru.get("web-player.your-library-x.expand-folder"),iconOnly:ua.y,size:"small",condensedAll:!0,onClick:U,onDoubleClick:B,tabIndex:-1,className:p()(Ar,Dr,(0,a.A)({},Br,!L))}),H=Na({uri:d}),W=H.animateState,z=H.animateClassName,X=(0,k.jsx)(Vi,{title:y,type:g,animateState:W,animateClassName:z});return(0,k.jsxs)(k.Fragment,{children:[A,(0,k.jsx)(Ji,{onKeyDown:_,RowVariantComponent:i,uri:d,to:"/folder/".concat(null!==(t=null===(r=(0,In.o_)(d))||void 0===r?void 0:r.id)&&void 0!==t?t:""),handleNavigate:S,folderDepth:f,cover:X,name:y,subtitle:P,alt:y,dragLabel:y,menu:j,canReorder:v,allowedDropTargetDropOnMimeTypes:it,onDropTargetDropOn:w,onLongDragOver:M,togglePlay:O,openDeleteDialog:h,addedAt:n.addedAt,lastPlayedAt:n.lastPlayedAt,isPinned:b,shouldShowType:!1,type:g,isPlaying:C,isActive:R,expandFolderButton:V,spec:o,nrValidItems:s,index:c})]})},_a=function(e){var t,r,n=e.libraryItem,i=e.spec,a=e.index,o=n.uri,l=n.name,s=n.type,c=n.pinned,u=n.canReorder,d=Ba(n,i),p=d.togglePlay,f=d.menu,y=d.subtitleText,g=d.onDropTargetDropOn,m=d.handleNavigate,b=d.openDeleteDialog,v=d.isPlaying,x=d.isActive,h=Na({uri:o}),O=h.animateState,j=h.animateClassName,P=(0,k.jsx)(Hi,{title:l,type:s,uri:o,togglePlay:p,spec:i,isActive:x,isPlaying:v});return(0,k.jsx)(Ii,{uri:o,to:"/folder/".concat(null!==(t=null===(r=(0,In.o_)(o))||void 0===r?void 0:r.id)&&void 0!==t?t:""),handleNavigate:m,cover:P,name:l,subtitle:y,menu:f,dragLabel:l,canReorder:u,allowedDropTargetDropOnMimeTypes:it,onLongDragOver:m,onDropTargetDropOn:g,togglePlay:p,isPinned:c,shouldShowType:!1,type:s,openDeleteDialog:b,isPlaying:v,isActive:x,spec:i,index:a,animateState:O,animateClassName:j})},Va=r(78160),Ha=u.memo((function(e){var t=e.uri,r=e.canPin,n=e.isPinned,i=e.downloadUri,a=(0,w.o)(t).spec;return(0,k.jsx)(j.pZ,{value:"generic",children:(0,k.jsxs)(O.W,{children:[i?(0,k.jsx)(Va.d,{spec:a,uri:i}):null,r!==P.oT.NO&&(0,k.jsx)(ba.k,{uri:t,canPin:r,isPinned:n,type:re.c.PLAYLIST,spec:a})]})})})),Wa=r(68688);function za(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Xa=[be.fl.TRACKS,be.fl.LOCAL_TRACKS];function Ka(e){var t=e.numberOfSongs,r="spotify:collection:tracks",i=(0,y.d4)(Wa.Ht).user,o=(0,In.fH)(null==i?void 0:i.id).toURI(),l=o,s=o,c=(0,Dn.P)({uri:l},{featureIdentifier:"your_library",referrerIdentifier:"your_library"}).togglePlay,d=(0,u.useContext)(te.Z),p=(0,Cn.l_)(l),f=p.isPlaying,g=p.isActive,m=(0,u.useCallback)((function(e){var t=e[be.fl.TRACKS],r=void 0===t?[]:t,i=e[be.fl.LOCAL_TRACKS],a=void 0===i?[]:i,o=[].concat((0,n.A)(r),(0,n.A)(a));null!=o&&o.length&&(null==d||d.add({uris:o}))}),[d]);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?za(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):za(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isPlaying:f,isActive:g,togglePlay:c,menu:(0,k.jsx)(Ha,{uri:r,canPin:e.canPin,isPinned:e.pinned,downloadUri:s}),downloadButton:(0,k.jsx)(Sn.M,{uri:s,size:"xsmall",className:zn.A.icon,as:"span"}),subtitleText:(0,k.jsx)(k.Fragment,{children:D.Ru.get("web-player.your-library-x.rows.liked-songs.subtitle",t)}),onDropTargetDropOn:m,playbackUri:l,uri:r},Na({uri:r}))}var Ya=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.images,s=t.name,c=t.type,u=t.pinned,d=t.addedAt,p=t.lastPlayedAt,f=t.color,y=Ka(t),g=y.isPlaying,m=y.isActive,b=y.togglePlay,v=y.menu,x=y.subtitleText,h=y.onDropTargetDropOn,O=y.playbackUri,j=y.uri,P=y.downloadButton,w=y.animateState,S=y.animateClassName,A=(0,k.jsx)(Vi,{title:s,type:c,images:l,color:f,animateState:w,animateClassName:S});return(0,k.jsx)(Ji,{RowVariantComponent:n,uri:j,cover:A,name:s,subtitle:x,alt:s,dragLabel:s,menu:v,allowedDropTargetDropOnMimeTypes:Xa,onDropTargetDropOn:h,togglePlay:b,addedAt:d,lastPlayedAt:p,isPlaying:g,isActive:m,isPinned:u,shouldShowType:r,type:c,playbackUri:O,downloadButton:P,spec:i,nrValidItems:a,index:o})},Za=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.images,o=t.name,l=t.type,s=t.pinned,c=t.color,u=Ka(t),d=u.togglePlay,p=u.menu,f=u.subtitleText,y=u.onDropTargetDropOn,g=u.playbackUri,m=u.uri,b=u.downloadButton,v=u.isPlaying,x=u.isActive,h=u.animateState,O=u.animateClassName,j=(0,k.jsx)(Hi,{title:o,type:l,images:a,uri:g,togglePlay:d,color:c,spec:n,isActive:x,isPlaying:v});return(0,k.jsx)(Ii,{uri:m,name:o,subtitle:f,menu:p,dragLabel:o,allowedDropTargetDropOnMimeTypes:Xa,onDropTargetDropOn:y,cover:j,togglePlay:d,isPinned:s,shouldShowType:r,type:l,playbackUri:g,downloadButton:b,isPlaying:v,isActive:x,spec:n,index:i,animateState:h,animateClassName:O})},Ga=r(34650),Ja=r(61341),qa=r(676),Qa=r(83291);function $a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eo(e){var t=e.numberOfFiles,r=Qa.bV,n=(0,qa.Iu)().uri,i=(0,Cn.l_)(r);return{playbackUri:r,uri:n,isPlaying:i.isPlaying,isActive:i.isActive,menu:(0,k.jsx)(Ha,{uri:n,canPin:e.canPin,isPinned:e.pinned}),downloadButton:(0,k.jsx)(Ga.F,{size:"xsmall",className:zn.A.icon,semanticColor:"textBrightAccent"}),subtitleText:D.Ru.get("web-player.your-library-x.rows.local-files.subtitle",t)}}var to=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.name,s=t.addedAt,c=t.lastPlayedAt,u=t.type,d=t.pinned,p=eo(t),f=p.playbackUri,y=p.uri,g=p.isPlaying,m=p.menu,b=p.subtitleText,v=p.downloadButton,x=p.isActive,h=(0,k.jsx)("div",{className:Cr,children:(0,k.jsx)(Ja.e,{iconSize:24,title:l})});return(0,k.jsx)(Ji,{RowVariantComponent:n,uri:y,name:l,subtitle:b,alt:l,dragLabel:l,menu:m,addedAt:s,lastPlayedAt:c,isPinned:d,isPlaying:g,isActive:x,shouldShowType:r,playbackUri:f,downloadButton:v,cover:h,type:u,spec:i,nrValidItems:a,index:o})},ro=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,o=t.name,l=t.images,s=t.type,c=t.pinned,u=eo(t),d=u.playbackUri,p=u.uri,f=u.menu,y=u.downloadButton,g=u.subtitleText,m=u.isPlaying,v=u.isActive,x=(0,b.NC)(Fn.AE),h=(0,k.jsx)("div",{className:wi,children:(0,k.jsx)(ki.M,{images:l,FallbackComponent:function(e){return(0,k.jsx)(Ja.e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({size:"xxlarge",className:x?Pi:""},e))}})});return(0,k.jsx)(Ii,{uri:p,name:o,subtitle:g,menu:f,cover:h,type:s,playbackUri:d,downloadButton:y,isPinned:c,shouldShowType:r,isPlaying:m,isActive:v,spec:n,index:i})},no=r(29622),io=function(e){var t=e.index,r=e.type,n=(0,b.NC)(Fn.AE),i=hi();return(0,k.jsx)(no.T,{columnIndex:0,children:(0,k.jsx)(Rn.Z,{className:p()(Oi,(0,a.A)({},ji,i)),media:(0,k.jsx)(ki.M,{images:[],FallbackComponent:function(){return(0,k.jsx)(Ni.s,{type:r,size:"xxlarge",className:n?Pi:"",semanticColor:"textSubdued"})},isCircular:r===re.c.ARTIST}),variant:"naked",id:t,title:"",padding:i?Tn.vw:Tn.CJ})})},ao=r(87236),oo=r(8756),lo=r(76998),so=r(32884),co=r(76289),uo=r(75368),po=r(16443),fo=r(66622),yo=r(52088),go=r(10548),mo=r(87764),bo=r(66488),vo=r(35390),xo=r(96624),ho=r(7112),Oo=r(76670),jo=r(64072),Po=r(96615),wo=u.memo((function(e){var t,r,n,i,a,o=e.reference,l=e.isPublished,s=e.canPin,c=void 0===s?P.oT.NO:s,u=e.isPinned,d=void 0!==u&&u,p=e.useDialogForUnfollow,f=void 0!==p&&p,y=e.isInLibrary,g=o.uri,m=(0,lo.J)(g),b=!(null==m||null===(t=m.permissions)||void 0===t||!t.isPrivate),v=null!==(r=null!==(n=(0,so.v)(g))&&void 0!==n?n:null==m?void 0:m.isPublished)&&void 0!==r?r:l,x=(0,w.o)(g).spec,h=null==m?void 0:m.hasSpotifyAudiobooks;return m&&(0,k.jsx)(j.pZ,{value:"playlist",children:(0,k.jsxs)(O.W,{children:[!h&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(uo.K,{spec:x,uris:[g]}),(0,k.jsx)(co._,{uri:g,spec:x})]}),!b&&(0,k.jsx)(ho._,{spec:x,divider:m.isOwnedBySelf?"after":"both",uri:g,isPublished:v}),m.isOwnedBySelf&&(0,k.jsx)(yo.T,{spec:x,uri:g,name:m.name,description:m.description,image:m.images[0]}),!m.isOwnedBySelf&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Oo.P,{spec:x,uri:g}),(0,k.jsx)(oo.ET,{uri:g,useDialog:f,initialState:y})]}),m.isOwnedBySelf&&(0,k.jsx)(fo.u,{spec:x,uri:g}),!h&&(0,k.jsx)(Va.d,{spec:x,uri:g}),(0,k.jsx)(F,{position:{after:o},divider:"before",spec:x}),(0,k.jsx)(S.j,{position:{after:o},spec:x}),(null===(i=m.permissions)||void 0===i?void 0:i.canAdministratePermissions)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(xo.U,{spec:x,divider:"before",uri:g,isPrivate:b}),!h&&(0,k.jsx)(mo.n,{uri:g,spec:x})]}),(null===(a=m.permissions)||void 0===a?void 0:a.canCancelMembership)&&(0,k.jsx)(bo._,{spec:x,divider:"before",uri:g}),(0,k.jsx)(go.w,{spec:x,uri:g}),(0,k.jsx)(Ra.y,{uriToBeAdded:g,isInLibrary:!0,spec:x}),!h&&(0,k.jsx)(jo.o,{spec:x,uris:[g],isPlaylist:!0}),(c!==P.oT.NO||d)&&(0,k.jsx)(ba.k,{uri:g,canPin:c,isPinned:d,type:re.c.PLAYLIST,spec:x}),(m.isOwnedBySelf||!b)&&(0,k.jsxs)(Po.h,{divider:"before",children:[(0,k.jsx)(po.m,{spec:x,uri:g,displayText:D.Ru.get("contextmenu.share.copy-playlist-link"),isPrivatePlaylist:b}),(0,k.jsx)(vo.x,{spec:x,uri:g,type:re.c.PLAYLIST})]})]})})})),So=u.memo((function(e){var t=e.reference,r=e.canPin,n=void 0===r?P.oT.NO:r,i=e.isPinned,a=void 0!==i&&i,o=t.uri,l=(0,w.o)(o).spec;return(0,k.jsx)(j.pZ,{value:"playlist",children:(0,k.jsxs)(O.W,{children:[(0,k.jsx)(F,{position:{after:t},divider:"before",spec:l}),(0,k.jsx)(S.j,{position:{after:t},spec:l}),n!==P.oT.NO&&(0,k.jsx)(ba.k,{uri:o,canPin:n,isPinned:a,type:re.c.PLAYLIST,spec:l})]})})})),Ao=r(76875),Do=function(){return(0,u.useContext)(Ao.w).getCapabilities()};function Co(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ro(e,t){var r=e.uri,o=e.isLoading,l=e.owner,s=e.pinned,d=(0,u.useContext)(Ao.w),p=(0,u.useContext)(Be.g).filter,f=Do().canAddAudiobooks,g=[be.fl.TRACKS,be.fl.LOCAL_TRACKS,be.fl.ALBUMS,be.fl.EPISODES],m=f?[be.fl.AUDIOBOOKS]:[];(0,u.useEffect)((function(){o&&d.resync(r)}),[d,r,o]);var b,v=(0,Dn.P)({uri:r},{featureIdentifier:"playlist",referrerIdentifier:"your_library"}).togglePlay,x=(0,Cn.l_)(r),h=x.isPlaying,j=x.isActive,P=(0,y.wA)(),w=(0,T.s)(),S=[],A=(0,u.useCallback)(function(){var e=(0,i.A)(c().mark((function e(i){var a,o,l,s,u,d,p,f,y,g,m,b;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=i[be.fl.TRACKS],l=void 0===o?[]:o,s=i[be.fl.LOCAL_TRACKS],u=void 0===s?[]:s,d=i[be.fl.ALBUMS],p=void 0===d?[]:d,f=i[be.fl.EPISODES],y=void 0===f?[]:f,g=i[be.fl.AUDIOBOOKS],m=void 0===g?[]:g,b=[].concat((0,n.A)(l),(0,n.A)(u),(0,n.A)(p),(0,n.A)(y),(0,n.A)(m)),P((0,ao.io)(r,b)),w.logInteraction(t.yourLibraryItemFactory().dragAddToPlaylist({itemToBeAdded:null!==(a=b.at(0))&&void 0!==a?a:"",playlist:r}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P,w,t,r]);e.canAddTo&&(S=e.isEmpty?[].concat(m,g):e.isBooklist?m:g,b=A);var C,R=(0,u.useCallback)((function(){P((0,Pn.O)(r))}),[P,r]),I=(0,On.c0)(r),E=o&&!e.name;C=I?(0,k.jsx)(So,{reference:e,canPin:e.canPin,isPinned:s}):E?(0,k.jsx)(O.W,{children:(0,k.jsx)(oo.ET,{uri:r,initialState:!0})}):(0,k.jsx)(wo,{reference:e,canPin:e.canPin,isPinned:s,useDialogForUnfollow:!0,isInLibrary:!0});var L=(0,k.jsx)(Sn.M,{uri:r,size:"xsmall",className:zn.A.icon,as:"span"}),N=(0,On.c0)(r)?(0,k.jsx)(k.Fragment,{children:D.Ru.get("ylx.clicktoplay")}):(l.uri,(0,k.jsx)(An.M,{searchWords:[p.trim()],textToHighlight:l.name}));return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Co(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({openDeleteDialog:R,togglePlay:!!(0,On.c0)(r)||!e.isBooklist&&!e.isEmpty?v:void 0,isPlaying:h,isActive:j,menu:C,downloadButton:L,subtitleText:N,allowedDropTargetDropOnMimeTypes:S,onDropTargetDropOn:b},Na({uri:r}))}var To=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.uri,s=t.images,c=t.folderDepth,u=t.name,d=t.type,p=t.pinned,f=t.addedAt,y=t.lastPlayedAt,g=t.color,m=t.canReorder,b=Ro(t,i),v=b.openDeleteDialog,x=b.togglePlay,h=b.isPlaying,O=b.isActive,j=b.menu,P=b.downloadButton,w=b.subtitleText,S=b.allowedDropTargetDropOnMimeTypes,A=b.onDropTargetDropOn,D=b.animateState,C=b.animateClassName,R=(0,k.jsx)(Vi,{title:u,type:d,images:s,color:g,animateState:D,animateClassName:C});return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(Ji,{RowVariantComponent:n,uri:l,folderDepth:c,cover:R,name:u,subtitle:w,alt:u,dragLabel:u,menu:j,canReorder:m,allowedDropTargetDropOnMimeTypes:S,onDropTargetDropOn:A,togglePlay:x,openDeleteDialog:v,addedAt:f,lastPlayedAt:y,isPlaying:h,isActive:O,isPinned:p,shouldShowType:r,type:d,downloadButton:P,spec:i,playInsteadOfNavigating:(0,On.c0)(l),nrValidItems:a,index:o})})},Io=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.uri,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.color,d=t.canReorder,p=Ro(t,n),f=p.togglePlay,y=p.menu,g=p.downloadButton,m=p.subtitleText,b=p.onDropTargetDropOn,v=p.allowedDropTargetDropOnMimeTypes,x=p.openDeleteDialog,h=p.isPlaying,O=p.isActive,j=p.animateState,P=p.animateClassName,w=(0,k.jsx)(Hi,{title:l,type:s,images:o,uri:a,togglePlay:f,color:u,spec:n,isActive:O,isPlaying:h});return(0,k.jsx)(Ii,{uri:a,name:l,subtitle:m,menu:y,dragLabel:l,canReorder:d,allowedDropTargetDropOnMimeTypes:v,onDropTargetDropOn:b,cover:w,togglePlay:f,isPinned:c,shouldShowType:r,type:s,downloadButton:g,openDeleteDialog:x,isPlaying:h,isActive:O,spec:n,playInsteadOfNavigating:(0,On.c0)(a),index:i,animateState:j,animateClassName:P})},ko=r(59562),Eo=r(34709),Lo=r(85368),No=r(9618),Fo=u.memo((function(e){var t=e.uri,r=e.canPin,n=void 0===r?P.oT.NO:r,i=e.isPinned,a=void 0!==i&&i,o=e.canRemove,l=void 0!==o&&o,s=(0,w.o)(t).spec;return(0,k.jsx)(j.pZ,{value:"audiobook",children:(0,k.jsxs)(O.W,{children:[l&&(0,k.jsx)(No.p,{uri:t,removeLabel:D.Ru.get("contextmenu.remove-from-library")}),n!==P.oT.NO&&(0,k.jsx)(ba.k,{uri:t,canPin:n,isPinned:a,type:re.c.PRE_RELEASE_BOOK,spec:s}),(0,k.jsx)(po.m,{uri:t,spec:s,displayText:D.Ru.get("context-menu.copy-book-link")}),(0,k.jsx)(Lo.q,{spec:s,divider:"before",uri:t})]})})}));function Mo(e){var t,r=e.uri,n=e.canPin,i=e.pinned,a=e.type,o=(0,u.useContext)(Be.g).filter,l=(0,y.wA)(),s=(0,u.useCallback)((function(){l((0,Pn.aw)(r,!0))}),[l,r]),c="";if(a===re.c.PRE_RELEASE_ALBUM){var d,p,f=null===(d=e.artists)||void 0===d?void 0:d.at(0);c=null!==(p=null==f?void 0:f.name)&&void 0!==p?p:"",t=(0,k.jsx)(Eo.P,{uri:r,artistUri:null==f?void 0:f.uri,canPin:n,isPinned:i,canRemove:!0})}else c=e.authorName,t=(0,k.jsx)(Fo,{uri:r,canPin:n,isPinned:i,canRemove:!0});return{openDeleteDialog:s,menu:t,subtitleText:(0,k.jsx)(An.M,{searchWords:[o.trim()],textToHighlight:c})}}var Bo=function(e){var t=e.libraryItem,r=e.shouldShowType,n=void 0!==r&&r,i=e.RowVariantComponent,a=e.spec,o=e.nrValidItems,l=e.index,s=t.uri,c=t.images,u=t.name,d=t.pinned,p=t.type,f=t.addedAt,y=t.lastPlayedAt,g=t.color,m=Mo(t),b=m.openDeleteDialog,v=m.menu,x=m.subtitleText,h=(0,k.jsx)(Vi,{title:u,type:p,images:c,color:g});return(0,k.jsx)(Ji,{RowVariantComponent:i,uri:s,cover:h,name:u,subtitle:x,alt:u,type:p,dragLabel:u,menu:v,openDeleteDialog:b,addedAt:f,lastPlayedAt:y,isPinned:d,isPlaying:!1,isActive:!1,shouldShowType:n,spec:a,nrValidItems:o,index:l,preReleaseIcon:(0,k.jsx)(ko.t,{size:"xsmall",className:zn.A.icon})})},Uo=function(e){var t=e.libraryItem,r=e.shouldShowType,n=void 0!==r&&r,i=e.spec,a=e.index,o=t.uri,l=t.images,s=t.name,c=t.pinned,u=t.type,d=t.color,p=Mo(t),f=p.menu,y=p.subtitleText,g=p.openDeleteDialog,m=(0,k.jsx)(Hi,{title:s,type:u,images:l,uri:o,color:d,spec:i,isActive:!1,isPlaying:!1});return(0,k.jsx)(Ii,{uri:o,name:s,subtitle:y,menu:f,dragLabel:s,cover:m,type:u,isPinned:c,shouldShowType:n,openDeleteDialog:g,isPlaying:!1,isActive:!1,spec:i,index:a,preReleaseIcon:(0,k.jsx)(ko.t,{size:"xsmall",className:zn.A.icon})})},_o=r(90751);function Vo(e){var t=e.uri,r=e.publisher,n=(0,u.useContext)(Be.g).filter,i=(0,y.wA)(),a=(0,Dn.P)({uri:t},{featureIdentifier:"show",referrerIdentifier:"your_library"}).togglePlay,o=(0,Cn.l_)(t);return{isPlaying:o.isPlaying,isActive:o.isActive,openDeleteDialog:(0,u.useCallback)((function(){i((0,Pn.aw)(t))}),[i,t]),togglePlay:a,menu:(0,k.jsx)(_o.H,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),downloadButton:(0,k.jsx)(Sn.M,{uri:t,size:"xsmall",className:zn.A.icon,as:"span"}),subtitleText:(0,k.jsx)(An.M,{autoEscape:!0,searchWords:[n.trim()],textToHighlight:r})}}var Ho=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.uri,s=t.images,c=t.name,u=t.type,d=t.addedAt,p=t.lastPlayedAt,f=t.pinned,y=t.color,g=Vo(t),m=g.isPlaying,b=g.isActive,v=g.openDeleteDialog,x=g.togglePlay,h=g.menu,O=g.downloadButton,j=g.subtitleText,P=(0,k.jsx)(Vi,{title:c,type:u,images:s,color:y});return(0,k.jsx)(Ji,{RowVariantComponent:n,uri:l,cover:P,name:c,subtitle:j,alt:c,dragLabel:c,menu:h,togglePlay:x,openDeleteDialog:v,addedAt:d,lastPlayedAt:p,isPlaying:m,isActive:b,isPinned:f,shouldShowType:r,type:u,downloadButton:O,spec:i,nrValidItems:a,index:o})},Wo=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.uri,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.color,d=Vo(t),p=d.togglePlay,f=d.menu,y=d.downloadButton,g=d.subtitleText,m=d.openDeleteDialog,b=d.isPlaying,v=d.isActive,x=(0,k.jsx)(Hi,{title:l,type:s,images:o,uri:a,togglePlay:p,color:u,spec:n,isActive:v,isPlaying:b});return(0,k.jsx)(Ii,{uri:a,name:l,subtitle:g,menu:f,dragLabel:l,cover:x,togglePlay:p,isPinned:c,shouldShowType:r,type:s,downloadButton:y,openDeleteDialog:m,isPlaying:b,isActive:v,spec:n,index:i})};function zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Xo=[be.fl.EPISODES];function Ko(e){var t=e.numberOfDownloadedEpisodes,r=(0,y.d4)(Wa.Ht).user,n=(0,In.fH)(null==r?void 0:r.id,"your-episodes").toURI(),i=P.Xn,o=(0,Dn.P)({uri:n},{featureIdentifier:"episode",referrerIdentifier:"your_library"}).togglePlay,l=(0,Cn.l_)(n),s=l.isPlaying,c=l.isActive,d=(0,u.useContext)(te.Z),p=(0,u.useCallback)((function(e){var t=e[be.fl.EPISODES],r=void 0===t?[]:t;null!=r&&r.length&&(null==d||d.add({uris:r}))}),[d]);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isPlaying:s,isActive:c,togglePlay:o,menu:(0,k.jsx)(Ha,{uri:i,canPin:e.canPin,isPinned:e.pinned}),downloadButton:t?(0,k.jsx)(Ga.F,{size:"xsmall",className:zn.A.icon,semanticColor:"textBrightAccent"}):null,subtitleText:D.Ru.get("web-player.your-library-x.subtitle-your-episodes"),onDropTargetDropOn:p,playbackUri:n,uri:i},Na({uri:i}))}var Yo=function(e){var t=e.libraryItem,r=e.RowVariantComponent,n=e.spec,i=e.nrValidItems,a=e.index,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.lastPlayedAt,d=t.addedAt,p=t.color,f=Ko(t),y=f.isPlaying,g=f.isActive,m=f.togglePlay,b=f.menu,v=f.downloadButton,x=f.subtitleText,h=f.onDropTargetDropOn,O=f.playbackUri,j=f.uri,P=f.animateState,w=f.animateClassName,S=(0,k.jsx)(Vi,{title:l,type:s,images:o,color:p,animateState:P,animateClassName:w});return(0,k.jsx)(Ji,{RowVariantComponent:r,uri:j,cover:S,name:l,subtitle:x,alt:l,dragLabel:l,menu:b,allowedDropTargetDropOnMimeTypes:Xo,onDropTargetDropOn:h,togglePlay:m,addedAt:d,lastPlayedAt:u,isPlaying:y,isActive:g,isPinned:c,shouldShowType:!1,type:s,downloadButton:v,playbackUri:O,spec:n,nrValidItems:i,index:a})},Zo=function(e){var t=e.libraryItem,r=e.spec,n=e.index,i=t.images,a=t.name,o=t.type,l=t.pinned,s=t.color,c=Ko(t),u=c.togglePlay,d=c.menu,p=c.downloadButton,f=c.subtitleText,y=c.onDropTargetDropOn,g=c.playbackUri,m=c.uri,b=c.isPlaying,v=c.isActive,x=c.animateState,h=c.animateClassName,O=(0,k.jsx)(Hi,{title:a,type:o,images:i,uri:m,togglePlay:u,color:s,spec:r,isActive:v,isPlaying:b});return(0,k.jsx)(Ii,{uri:m,name:a,subtitle:f,menu:d,dragLabel:a,allowedDropTargetDropOnMimeTypes:Xo,onDropTargetDropOn:y,cover:O,togglePlay:u,playbackUri:g,downloadButton:p,isPinned:l,shouldShowType:!1,type:o,isPlaying:b,isActive:v,spec:r,index:n,animateState:x,animateClassName:h})};function Go(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Go(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qo=(0,Ce.g)(re.c),Qo=(0,u.memo)((function(e){var t=e.item,r=e.primaryFilter,n=e.spec,i=e.index,a={shouldShowType:!(0,On.c0)(t.uri)&&mi(t.type)!==r,spec:n,index:i},o=(0,b.NC)(G.lDH),l=(0,b.NC)(G.H8e);switch(t.type){case re.c.FOLDER:return(0,k.jsx)(_a,Jo({libraryItem:t},a));case re.c.ALBUM:return(0,k.jsx)(ta,Jo({libraryItem:t},a));case re.c.ARTIST:return(0,k.jsx)(aa,Jo({libraryItem:t},a));case re.c.AUDIOBOOK:return(0,k.jsx)(ca,Jo({libraryItem:t},a));case re.c.SHOW:return(0,k.jsx)(Wo,Jo({libraryItem:t},a));case re.c.PLAYLIST:return(0,k.jsx)(Io,Jo({libraryItem:t},a));case re.c.LIKED_SONGS:return(0,k.jsx)(Za,Jo({libraryItem:t},a));case re.c.YOUR_EPISODES:return(0,k.jsx)(Zo,Jo({libraryItem:t},a));case re.c.LOCAL_FILES:return(0,k.jsx)(ro,Jo({libraryItem:t},a));case re.c.PRE_RELEASE_ALBUM:return o?(0,k.jsx)(Uo,Jo({libraryItem:t},a)):null;case re.c.PRE_RELEASE_BOOK:return l?(0,k.jsx)(Uo,Jo({libraryItem:t},a)):null;default:(0,wt.d)(t)}})),$o=function(e){var t,r=e.getItems,n=e.scrollNodeRef,i=e.primaryFilter,a=e.nrValidItems,o=e.spec,l=jn().gridScale,s=(0,mn.s1)(mn.yV.YLX,l),c=(0,u.useRef)({}),d=function(){var e=jn().gridScale;return!!(0,b.NC)(G.AEN)&&e<.8}(),p=(0,u.useCallback)((function(e){return(0,k.jsx)(io,{index:e,type:qo(i)?i:void 0},e)}),[i]),f=(0,u.useCallback)((function(e,t){return r(e,t).map((function(t,r){return t?(0,k.jsx)(Qo,{item:t,spec:o,primaryFilter:i,index:e+r},t.uri):p("".concat(e+r))}))}),[r,i,p,o]),y=(0,u.useCallback)((function(e,t){c.current={numColumns:e,rowHeight:t}}),[]);return(0,k.jsx)(gn.x,{config:s,children:(0,k.jsx)(xi,{isCompact:d,children:(0,k.jsx)(hn.R,{firstInteractiveIsWrapper:!0,"aria-label":D.Ru.get("web-player.your-library-x.your-library"),"aria-rowcount":Math.round(a/(null!==(t=c.current.numColumns)&&void 0!==t?t:1)),"aria-colcount":c.current.numColumns,children:(0,k.jsx)(xn,{renderItems:f,nrItems:a,estimatedItemMaxHeight:250,scrollNodeRef:n,onGridResize:y})})})})},el=r(72037),tl=r(98919);const rl="main-yourLibraryX-header",nl="ILEuCdEH9mglJaM4gKuf",il="main-yourLibraryX-collapseButtonWrapper",al="main-yourLibraryX-headerContent",ol="iYP0xuQiJCgi7gx1jUPJ",ll="main-yourLibraryX-collapseButton",sl="main-yourLibraryX-button",cl="af749NDLYTDK_8LinKWD",ul="nGWhztVvLY1BInXjcWYa",dl="oZT8iKL42zhLAm_zE5F5",pl="MdDY8fQ_j94mQZy7ZVXf",fl="uNReR011bI8ML42Pgveg";var yl=function(e){switch(e){case $.fX.EXPANDED:return"expanded";case $.fX.COLLAPSED:return"collapsed";case $.fX.DEFAULT:return"default";default:throw(0,wt.k)(e)}},gl=function(e){var t=e.folderUri,r=e.dropTargetClassName,n=e.spec,i=(0,$.$)(),a=i.isCollapsed,o=i.ylxSidebarState,l=i.setYlxSidebarState,s=i.lastUncollapsedYlxSidebarState,c=(0,T.s)(),d=(0,u.useCallback)((function(){var e=o===$.fX.COLLAPSED?s:$.fX.COLLAPSED;l(e),c.logInteraction(n.hitToggleState({stateBeforeToggle:yl(o),stateAfterToggle:yl(e)}))}),[o,s,l,c,n]),f=a?el.M:tl.A;return(0,k.jsx)(Xt.Zp,{label:a?D.Ru.get("web-player.your-library-x.expand-your-library"):D.Ru.get("web-player.your-library-x.collapse-your-library"),placement:a?"right":void 0,children:(0,k.jsx)(Wt.H,{"aria-label":a?D.Ru.get("web-player.your-library-x.expand-your-library"):D.Ru.get("web-player.your-library-x.collapse-your-library"),onClick:d,className:p()(il,sl,r),condensed:!0,iconLeading:t||a?void 0:f,iconOnly:t||a?f:void 0,children:!t&&!a&&D.Ru.get("web-player.your-library-x.your-library")})})},ml=r(9818),bl=r(68337),vl=function(e){var t=e.dropTargetClassName,r=e.spec,n=(0,$.$)(),i=n.ylxSidebarState,a=n.setYlxSidebarState,o=i===$.fX.DEFAULT,l=(0,T.s)();return(0,k.jsx)(Xt.Zp,{label:o?D.Ru.get("web-player.your-library-x.show-more"):D.Ru.get("web-player.your-library-x.show-less"),children:(0,k.jsx)(Wt.H,{className:p()(sl,ul,t),iconOnly:o?ml.h:bl.G,"aria-label":o?D.Ru.get("web-player.your-library-x.enlarge-your-library"):D.Ru.get("web-player.your-library-x.reduce-your-library"),onClick:function(){a(o?$.fX.EXPANDED:$.fX.DEFAULT),l.logInteraction(r.hitToggleState({stateBeforeToggle:o?"default":"expanded",stateAfterToggle:o?"expanded":"default"}))},size:"small"})})},xl=r(78834),hl=r(93239),Ol=function(e){var t=e.folderMenu,r=e.folderName,n=e.dropTargetClassName;return(0,k.jsx)(hl.b,{menu:t,children:(0,k.jsx)("span",{children:(0,k.jsx)(Xt.Zp,{label:D.Ru.get("more.label.context",r),children:(0,k.jsx)(Wt.H,{className:p()(sl,ul,n),iconOnly:xl.x,"aria-haspopup":"menu","aria-label":D.Ru.get("more.label.context",r),size:"small"})})})})},jl=r(92686),Pl=r(93418),wl=function(e){var t=e.dropTargetClassName,r=e.spec,n=(0,ut.t)(),i=n.isGridView,a=n.setItemsView,o=(0,T.s)();return(0,k.jsx)(Xt.Zp,{label:i?D.Ru.get("web-player.your-library-x.list-view"):D.Ru.get("web-player.your-library-x.grid-view"),children:(0,k.jsx)(Wt.H,{className:p()(sl,t),iconOnly:i?jl.N:Pl.D,"aria-label":i?D.Ru.get("web-player.your-library-x.list-view"):D.Ru.get("web-player.your-library-x.grid-view"),onClick:function(){a(i?ut.X.LIST:ut.X.GRID),o.logInteraction(r.hitToggleState({stateBeforeToggle:i?"grid":"list",stateAfterToggle:i?"list":"grid"}))},size:"small"})})},Sl=r(79655);var Al=r(99353),Dl=r(58295),Cl=r(83389),Rl=function(e){var t=e.folderUri,r=e.spec,n=(0,R.A)().createPlaylist,i=(0,Fa.Z)().createFolder,a=(0,T.s)(),o=(0,Ge.V)(),l=t?{after:{uri:t}}:{before:"start"};return(0,k.jsxs)(O.W,{children:[(0,k.jsx)(C.D,{onClick:function(){n(void 0,l),a.logInteraction(r.createPlaylistOptionFactory().hitCreatePlaylist())},role:"menuitem",leadingIcon:(0,k.jsx)(A.u,{size:"small"}),children:D.Ru.get("web-player.your-library-x.create.create-a-new-playlist")}),!o&&(0,k.jsx)(C.D,{onClick:function(){i(D.Ru.get("web-player.your-library-x.default_folder_name"),l),a.logInteraction(r.createFolderOptionFactory().hitCreateFolder())},role:"menuitem",leadingIcon:(0,k.jsx)(Cl.h,{size:"small"}),children:D.Ru.get("web-player.your-library-x.create.create-a-playlist-folder")})]})},Tl=["className","dropPosition"];function Il(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Il(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Il(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var El=function(e){var t=e.className,r=void 0===t?"":t,i=e.folderUri,l=e.tooltipPlacement,s=e.spec,c=D.Ru.get("web-player.your-library-x.create.button-label"),d=(0,T.s)(),f=Do().canAddAudiobooks,y=(0,R.A)(),g=y.createPlaylistFromAlbum,m=y.createPlaylistFromTracks,b=y.createPlaylistFromPlaylist,v=(0,xe.A)({allowedMimeTypesByDropPosition:(0,a.A)({},ve.Nz.ON,[be.fl.TRACKS,be.fl.EPISODES,be.fl.ALBUMS,be.fl.PLAYLISTS_V2].concat((0,n.A)(f?[be.fl.AUDIOBOOKS]:[]))),onDrop:(0,u.useCallback)((function(e){var t=e[be.fl.TRACKS],r=void 0===t?[]:t,a=e[be.fl.LOCAL_TRACKS],o=void 0===a?[]:a,l=e[be.fl.EPISODES],s=void 0===l?[]:l,c=e[be.fl.AUDIOBOOKS],u=void 0===c?[]:c,d=e[be.fl.ALBUMS],p=void 0===d?[]:d,f=e[be.fl.PLAYLISTS_V2],y=void 0===f?[]:f,v=i?{after:{uri:i}}:{before:"start"},x=[].concat((0,n.A)(r),(0,n.A)(o),(0,n.A)(s));u.length>0?m(u,v):x.length?m(x,v):p.length>0?g(p[0],v):y.length>0&&b(y[0],v)}),[g,b,m,i])}),x=v.className,h=v.dropPosition,O=(0,o.A)(v,Tl);return(0,k.jsx)(Dl.t,{renderInline:!0,menu:(0,k.jsx)(Rl,{folderUri:i,spec:s.createMenuFactory()}),preventScrollingWhileOpen:!1,children:function(e,t,n){return(0,k.jsx)(Xt.Zp,{label:c,placement:l,children:(0,k.jsx)(Wt.H,kl({ref:n,iconOnly:Al.u,className:p()(r,x,(0,a.A)({},qr,h===ve.Nz.ON)),"aria-label":c,onClick:function(e){t(e),d.logInteraction(s.hitUiReveal())},size:"small"},O))})}})},Ll=r(73547),Nl=["dropPosition","className"];function Fl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ml(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Bl=function(e){var t,r=e.handleNavigateBack,n=si({dropTargetUri:e.parentFolderUri,spec:e.spec}).handleDropBeforeOrAfterRootlistItem,l=(0,xe.A)({allowedMimeTypesByDropPosition:(0,a.A)({},ve.Nz.ON,rt),onDrop:(t=(0,i.A)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t,ve.Nz.BEFORE);case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),onLongDragOver:r}),s=l.dropPosition,u=l.className,d=(0,o.A)(l,Nl);return(0,k.jsx)(Xt.Zp,{label:D.Ru.get("web-player.your-library-x.navigate-back-folder"),children:(0,k.jsx)(Wt.H,Ml({className:p()(sl,cl,u,(0,a.A)({},qr,s===ve.Nz.ON)),"aria-label":D.Ru.get("web-player.your-library-x.navigate-back-folder"),onClick:r,iconOnly:Ll.g,size:"small"},d))})},Ul=(0,u.forwardRef)((function(e,t){var r=e.folderUri,n=e.folderName,i=e.folderMenu,a=e.onRename,o=e.spec,l=e.className,s=(0,Cn.l_)(null!=r?r:"not-a-folder").isActive,c=(0,y.wA)(),d=(0,T.s)(),f=(0,u.useCallback)((function(){c((0,Pn.O2)(n,a)),d.logInteraction(o.hitRenameFolder({uri:r}))}),[c,n,r,d,a,o]);return(0,k.jsx)(Xt.Zp,{label:n,showDelay:Xt.uF,children:(0,k.jsx)("div",{className:p()(pl,l),children:(0,k.jsx)(h.h,{menu:i,children:(0,k.jsx)(Wt.H,{"aria-label":n,onClick:f,size:"small",condensed:!0,className:p()(sl),ref:t,children:(0,k.jsx)(Ke.E,{variant:"bodyMediumBold",semanticColor:s?"textBrightAccent":void 0,className:fl,children:n})})})})})})),_l=r(40825),Vl=r(73449),Hl=r(41993);const Wl="fJrnaZd0QWm65978IgD2",zl="yCpl0fAaEYj7E8F_Oabw";var Xl=function(){var e,t,r,n,i,a,o=(e=(0,u.useState)({syncing:!1,percentage:0,totalItems:0,currentItem:0}),t=(0,l.A)(e,2),r=t[0],n=t[1],i=Vl.I.UPDATE_TOTAL_PROGRESS,a=(0,u.useCallback)((function(e){return n(e.data.progress)}),[]),(0,Hl.b)(i,a),r),s=o.syncing,c=o.percentage,d=o.currentItem,p=o.totalItems;return s?(0,k.jsxs)("div",{className:Wl,children:[(0,k.jsxs)("div",{className:zl,children:[(0,k.jsx)(Ke.E,{variant:"bodySmallBold",semanticColor:"textBase",children:D.Ru.get("web-player.your-library-x.download-progress-title")}),(0,k.jsx)(Ke.E,{variant:"bodySmallBold",semanticColor:"textBase",children:D.Ru.get("web-player.your-library-x.download-progress-count-out-of-total",d,p)})]}),(0,k.jsx)(_l.z,{value:c})]}):null},Kl=function(e){var t=e.parentDropTargetClassName,r=e.isLibraryCompletelyEmpty,n=e.folderUri,i=e.folderName,o=e.spec,l=(0,$.$)(),s=l.isCollapsed,c=l.ylxSidebarState,d=l.canExpand,f=(0,Fa.Z)().renameFolder,y=(0,u.useContext)(Dt).popFolder,g=(0,u.useCallback)((function(){n&&f({uri:n},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}),[n,f]),v=(0,u.useCallback)((function(){y()}),[y]),x=n?(0,k.jsx)(Ta,{reference:{uri:n},name:i,onRename:g,onDeleteCallback:v}):null,h=ot().dropOriginIsYLX,O=!s&&n&&void 0!==i,j=(0,u.useRef)(null),P=(0,u.useRef)(null),w=(0,u.useRef)(null);!function(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),a=3;a<n;a++)i[a-3]=arguments[a];var o=(0,m.U0)((function(){if(e.current)if(t.current instanceof HTMLElement){e.current.style.display="block";var r=t.current,n=r.scrollWidth>r.offsetWidth;e.current.style.display=n?"none":"block"}else e.current.style.display="block"}),[i]);(0,u.useLayoutEffect)(o,[o]),(0,Fi.w)({refOrElement:r,observeOnly:"width",onResize:o})}(w,(0,u.useMemo)((function(){return{get current(){var e,t;return(null===(e=P.current)||void 0===e?void 0:e.firstElementChild)instanceof HTMLElement?null===(t=P.current)||void 0===t?void 0:t.firstElementChild:null}}}),[]),j,i,O);var S=(0,b.NC)(G.AEN),A=(0,Sl.A)(),D=!s||r&&s;return(0,k.jsxs)("header",{className:p()(rl,(0,a.A)((0,a.A)({},nl,A),dl,s)),ref:j,children:[!s&&(0,k.jsx)(Xl,{}),(0,k.jsxs)("div",{className:p()(al,(0,a.A)({},ol,s)),children:[(0,k.jsxs)("div",{className:p()(ll,(0,a.A)({},ol,s)),children:[(0,k.jsx)(gl,{folderUri:n,dropTargetClassName:t,spec:o.toggleCollapsedModeButtonFactory({identifier:""})}),n&&(0,k.jsx)(Bl,{handleNavigateBack:v,parentFolderUri:n,spec:o.folderBackButtonFactory()}),O&&(0,k.jsx)(Ul,{folderUri:n,folderName:i,folderMenu:x,onRename:g,spec:o.folderTitleFactory(),className:h?t:void 0,ref:P},n)]}),D&&(0,k.jsx)("span",{ref:w,children:(0,k.jsx)(El,{className:p()(sl,ul),folderUri:n,tooltipPlacement:s?"right":void 0,spec:o.createMenuButtonFactory()})}),n&&!s&&(0,k.jsx)(Ol,{folderName:i,folderMenu:x,dropTargetClassName:t}),c===$.fX.EXPANDED&&!S&&(0,k.jsx)(wl,{dropTargetClassName:t,spec:o.viewDensityToggleFactory({identifier:""})}),(c===$.fX.DEFAULT&&d||c===$.fX.EXPANDED)&&(0,k.jsx)(vl,{dropTargetClassName:t,spec:o.toggleExpandedModeButtonFactory({identifier:""})})]})]})},Yl=r(86525),Zl=r(47731),Gl=r(11207),Jl=r(50187),ql=function(e){var t=e.date;return(0,k.jsx)(Ke.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Lr,children:t&&D.Ru.formatRelativeDate(new Date(t),{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"})})};function Ql(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ql(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ql(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var es=function(e){var t,r=e.handleNavigate,n=(0,k.jsx)(ei,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:r,playbackUri:e.playbackUri}),i=null!==(t=e.expandFolderButton)&&void 0!==t?t:e.isPlaying&&(0,k.jsx)(Nn,{}),a=(0,k.jsx)(Xn,{leading:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(bi.g,{pinned:e.isPinned}),e.preReleaseIcon,e.downloadButton,e.lockedIcon]}),subtitle:(0,k.jsxs)(k.Fragment,{children:[e.shouldShowType&&gi(e.type),!!e.subtitle&&e.shouldShowType&&" • ",e.subtitle]}),uri:e.uri}),o=e.logRightClick,l=(0,k.jsx)(h.h,{menu:e.menu,onShow:o,children:(0,k.jsx)(En.E,{uri:e.uri,trigger:En.l.OnMouseDown,children:(0,k.jsx)(Gl.v,{className:jr,media:e.cover,title:n,subtitle:a,trailing:i,id:e.uri,variant:e.isViewActive?"tinted":void 0,padding:Tn.v4,onClick:e.onClick,hoverAnimationDuration:"0ms"})})});return(0,On.c0)(e.uri)?(0,k.jsx)(Mn.cW,{parentRef:e.parentRef,children:l}):l},ts=function(e){var t=e.handleNavigate,r=(0,k.jsx)(ei,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:t,playbackUri:e.playbackUri}),n=(0,k.jsx)(Xn,{leading:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(bi.g,{pinned:e.isPinned}),e.preReleaseIcon,e.downloadButton,e.lockedIcon]}),subtitle:(0,k.jsxs)(k.Fragment,{children:[e.shouldShowType&&gi(e.type),!!e.subtitle&&e.shouldShowType&&" • ",e.subtitle]}),uri:e.uri}),i=e.logRightClick;return(0,k.jsx)(Vn,$l($l({},e),{},{title:r,subtitleSlot:n,parentRef:e.parentRef,children:(0,k.jsxs)("div",{children:[(0,k.jsx)(h.h,{menu:e.menu,onShow:i,children:(0,k.jsx)(En.E,{uri:e.uri,trigger:En.l.OnMouseDown,children:(0,k.jsx)(Gl.v,{className:p()(jr,wr),media:e.cover,id:e.uri,padding:Tn.v4,onClick:e.onClick,variant:void 0,title:void 0,hoverAnimationDuration:"0ms"})})}),(0,k.jsxs)("span",{className:_r,children:[r," ",n]})]})}))},rs=function(e){var t=(0,u.useRef)(null),r=e.logRightClick;return(0,k.jsx)(h.h,{menu:e.menu,onShow:r,children:(0,k.jsxs)("div",{className:Er,ref:t,children:[(0,k.jsx)(es,$l($l({},e),{},{parentRef:t})),(0,k.jsx)(ql,{date:e.addedAt}),(0,k.jsx)(ql,{date:e.lastPlayedAt})]})})},ns=function(e){var t,r=e.handleNavigate,n=(0,k.jsxs)("div",{className:Mr,children:[(0,k.jsx)(ei,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:r,playbackUri:e.playbackUri}),e.shouldShowType&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Jl.v,{children:"•"}),(0,k.jsx)(Jl.v,{lineClamp:1,children:gi(e.type)})]}),(!e.shouldShowType&&e.type===re.c.ALBUM||(0,On.c0)(e.uri))&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Jl.v,{children:"•"}),(0,k.jsx)(Xn,{leading:null,uri:e.uri,subtitle:e.subtitle})]})]}),i=(0,k.jsx)(bi.g,{pinned:e.isPinned}),a=null!==(t=e.expandFolderButton)&&void 0!==t?t:e.isPlaying?(0,k.jsx)(Nn,{iconSize:"xsmall"}):(0,k.jsxs)(k.Fragment,{children:[e.downloadButton&&(0,k.jsx)("div",{className:Ar,children:e.downloadButton}),e.preReleaseIcon&&(0,k.jsx)("div",{className:Ar,children:e.preReleaseIcon}),e.lockedIcon&&(0,k.jsx)("div",{className:Ar,children:e.lockedIcon})]}),o=e.logRightClick;return(0,k.jsx)(h.h,{menu:e.menu,onShow:o,children:(0,k.jsx)(En.E,{uri:e.uri,trigger:En.l.OnMouseDown,children:(0,k.jsx)(Gl.v,{className:p()(jr,Pr),title:n,leading:e.isPinned?i:void 0,trailing:a,id:e.uri,variant:e.isViewActive?"tinted":void 0,padding:"".concat(Tn.vw," ").concat(Tn.v4),onClick:e.onClick,size:"sm",hoverAnimationDuration:"0ms"})})})},is=function(e){var t=e.logRightClick;return(0,k.jsx)(h.h,{menu:e.menu,onShow:t,children:(0,k.jsxs)("div",{className:Er,children:[(0,k.jsx)(ns,$l({},e)),(0,k.jsx)(ql,{date:e.addedAt}),(0,k.jsx)(ql,{date:e.lastPlayedAt})]})})},as=function(e){var t=e.height,r=e.isCompact,n=e.primaryFilter;return(0,k.jsx)(Wi.c,{className:p()((0,a.A)((0,a.A)((0,a.A)({},Rr,!r),Ir,r),Tr,n===re.c.ARTIST)),style:{height:t}})};function os(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ls(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?os(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):os(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ss=(0,u.memo)((function(e){var t=e.item,r=e.primaryFilter,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l={shouldShowType:!(0,On.c0)(t.uri)&&mi(t.type)!==r,RowVariantComponent:n,spec:i,nrValidItems:a,index:o},s=(0,b.NC)(G.lDH),c=(0,b.NC)(G.H8e);switch(t.type){case re.c.FOLDER:return(0,k.jsx)(Ua,ls({libraryItem:t},l));case re.c.ALBUM:return(0,k.jsx)(ea,ls({libraryItem:t},l));case re.c.ARTIST:return(0,k.jsx)(ia,ls({libraryItem:t},l));case re.c.AUDIOBOOK:return(0,k.jsx)(sa,ls({libraryItem:t},l));case re.c.SHOW:return(0,k.jsx)(Ho,ls({libraryItem:t},l));case re.c.PLAYLIST:return(0,k.jsx)(To,ls({libraryItem:t},l));case re.c.LIKED_SONGS:return(0,k.jsx)(Ya,ls({libraryItem:t},l));case re.c.YOUR_EPISODES:return(0,k.jsx)(Yo,ls({libraryItem:t},l));case re.c.LOCAL_FILES:return(0,k.jsx)(to,ls({libraryItem:t},l));case re.c.PRE_RELEASE_ALBUM:return s?(0,k.jsx)(Bo,ls({libraryItem:t},l)):null;case re.c.PRE_RELEASE_BOOK:return c?(0,k.jsx)(Bo,ls({libraryItem:t},l)):null;default:(0,wt.d)(t)}})),cs=function(e){var t=e.getItems,r=e.scrollNodeRef,n=e.primaryFilter,i=e.nrValidItems,a=e.spec,o=(0,$.vW)(),l=ft(),s=l.rowHeight,c=l.libraryRowMode===pt.COMPACT,d=function(e,t){switch(e){case $.fX.COLLAPSED:return ts;case $.fX.DEFAULT:return t?ns:es;case $.fX.EXPANDED:return t?is:rs;default:(0,wt.d)(e)}}(o,c),p=(0,u.useCallback)((function(e,t){return(0,k.jsx)(as,{height:e,isCompact:c,primaryFilter:n},t)}),[c,n]),f=(0,u.useCallback)((function(e,r){return t(e,r).map((function(t,r){return t?(0,k.jsx)(ss,{item:t,spec:a,RowVariantComponent:d,primaryFilter:n,nrValidItems:i,index:e+r},t.uri):p("".concat(s,"px"),"".concat(e+r))}))}),[d,t,n,p,s,a,i]);return(0,k.jsx)(Zl.$,{circular:!1,allowsMultipleInteractiveChildrenInItem:!0,"aria-label":D.Ru.get("web-player.your-library-x.your-library"),children:(0,k.jsx)(Yl.L,{renderRows:f,nrRows:i,rowHeight:s,scrollNodeRef:r,renderPlaceholder:p})})},us=r(4414),ds=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,dt.x)("onboarding-dismissed:ylx-playlist-ordering",!1),n=(0,l.A)(r,2),i=n[0],a=n[1],o=(0,dt.x)("onboarding-dismissed-amount:ylx-playlist-ordering",0),s=(0,l.A)(o,2),c=s[0],d=s[1],p=(0,u.useState)(!1),f=(0,l.A)(p,2),y=f[0],g=f[1],m=ot().dropOriginIsYLX,b=(0,u.useContext)(Oe.O_).draggingIsInProgress;(0,u.useEffect)((function(){b&&m&&g(!0)}),[b,m]);var v=(0,u.useCallback)((function(){a(!0),g(!1),d(c+1)}),[c,d,a]);return{show:e&&c<3&&(!i||y)&&(t||y),onHide:v}},ps=r(8143),fs=r(97371),ys=r(90441);const gs="cZ3IJprhLYLVtLoxVtDe",ms="C8nlESBb6d0huyAhMq2v",bs="yclq4HDmRA_euiUYwB9O";var vs=function(e){var t,r,n=e.title,i=e.bodyText,a=e.children,o=e.root,s=e.show,c=e.childrenWrapperClassName,d=e.onHide,p=(0,u.useState)(null),f=(0,l.A)(p,2),y=f[0],g=f[1],m=(0,u.useState)(null),v=(0,l.A)(m,2),x=v[0],h=v[1],O=(0,b.NC)(G.zJD),j=(0,u.useCallback)((function(){d()}),[d]);(0,u.useEffect)((function(){if(!s)return function(){};var e=function(e){"Escape"===e.key&&j()};return window.addEventListener("keydown",e,!0),function(){window.removeEventListener("keydown",e,!0)}}),[j,x,s]);var P=null==y?void 0:y.getBoundingClientRect();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("span",{ref:g,className:c,children:a}),P&&s&&O&&(0,ps.createPortal)((0,k.jsx)("div",{className:gs,style:{top:null!==(t=null==P?void 0:P.top)&&void 0!==t?t:0,left:null!==(r=null==P?void 0:P.left)&&void 0!==r?r:0,width:null==P?void 0:P.width,height:null==P?void 0:P.height},ref:h,children:(0,k.jsxs)(fs.A,{popoverTitle:n,arrow:fs.A.left,colorSet:"announcement",className:ms,children:[(0,k.jsx)(Ke.E,{as:"p",dangerouslySetInnerHTML:{__html:i||""}}),(0,k.jsx)(Wt.H,{size:"small",onClick:j,iconOnly:ys.M,"aria-label":D.Ru.get("close"),className:bs})]})}),o||document.body)]})},xs=r(85988),hs=r(99411),Os=r(94285),js=r(97798),Ps=function(e,t,r){var n,i=t.closest('li[role="presentation"]'),a=null===(n=e.parentElement)||void 0===n?void 0:n.querySelectorAll('ul[role="menu"]');if(r===js.O.UP){var o,l=null==a?void 0:a[a.length-1],s=e.previousElementSibling,c=null==i||null===(o=i.previousElementSibling)||void 0===o?void 0:o.previousElementSibling;if(t instanceof HTMLUListElement||!c){if(s&&s instanceof HTMLUListElement)return s;if(l&&l instanceof HTMLUListElement)return l}}else{if(!(null==i?void 0:i.nextElementSibling)){var u=e.nextElementSibling;return u&&u instanceof HTMLUListElement?u:null==a?void 0:a[0]}}};const ws="GvHaMehoYEIaLhHafB4F",Ss="main-yourLibraryX-librarySortWrapper",As="ijaSPbJ8wd3RNiyukjlh",Ds="w0nWe_59HwsG7nQLoibF",Cs="LbAtRPub21imosz1Xjht";var Rs=[{itemsViewState:ut.X.LIST,compactModeState:pt.COMPACT},{itemsViewState:ut.X.LIST,compactModeState:pt.DEFAULT},{itemsViewState:ut.X.GRID,compactModeState:pt.DEFAULT}],Ts=function(e,t,r){return Math.round((e+t)*r)/r},Is=function(e){return e.itemsViewState===ut.X.GRID?D.Ru.get("web-player.your-library-x.sort-and-view-picker.grid"):e.compactModeState===pt.COMPACT?D.Ru.get("web-player.your-library-x.sort-and-view-picker.compact"):D.Ru.get("web-player.your-library-x.sort-and-view-picker.list")},ks=function(e){var t=e.selectedSort,r=e.selectedView,n=e.onSortSelect,i=e.onViewSelect,a=e.sortOptions,o=e.spec,l=e.id,s=(0,T.s)(),c=(0,u.useCallback)((function(e){return e.itemsViewState===ut.X.GRID?(0,k.jsx)(Pl.D,{size:"small"}):e.compactModeState===pt.COMPACT?(0,k.jsx)(xs.d,{size:"small"}):(0,k.jsx)(jl.N,{size:"small"})}),[]),d=jn(),p=d.gridScale,f=d.setGridScale,y=function(e){var t=Ts(e,.5,100);f(t),s.logInteraction(o.gridDensitySliderFactory().dragSetSliderPosition({position:t}))},g=(0,u.useCallback)((function(e){f(e),s.logInteraction(o.gridDensitySliderFactory().hitSetSliderPosition({position:e}))}),[s,f,o]),m=function(e){var t;return null==e||null===(t=e.parentElement)||void 0===t?void 0:t.querySelector("ul")},b=(0,u.useRef)(null);return(0,k.jsxs)("div",{id:l,className:As,ref:b,children:[(0,k.jsxs)(O.W,{"aria-label":D.Ru.get("web-player.your-library-x.sort_by"),onFocusVerticalItem:Ps,getInitialFocusElement:m,children:[(0,k.jsx)(hs.y,{children:D.Ru.get("web-player.your-library-x.sort_by")}),a.map((function(e,r){var i=e.key,o=e.value;return(0,k.jsx)(C.D,{role:"menuitemradio","aria-checked":i===t.key,onClick:function(){return n(i,r)},divider:r===a.length-1?"after":void 0,autoClose:!1,children:o},i)}))]}),(0,k.jsxs)(O.W,{"aria-label":D.Ru.get("web-player.your-library-x.sort-and-view-picker.view-as"),onFocusVerticalItem:Ps,getInitialFocusElement:m,children:[(0,k.jsx)(hs.y,{children:D.Ru.get("web-player.your-library-x.sort-and-view-picker.view-as")}),Rs.map((function(e){var t=Is(e),n=e.itemsViewState===r.itemsViewState&&e.compactModeState===r.compactModeState;return(0,k.jsx)(C.D,{role:"menuitemradio","aria-checked":n,onClick:function(){return i(e)},leadingIcon:c(e),autoClose:!1,children:t},t)})),ut.X.GRID===r.itemsViewState&&(0,k.jsx)("li",{role:"presentation",children:(0,k.jsx)("div",{role:"menuitem",className:Cs,children:(0,k.jsx)(Os.z2,{labelText:D.Ru.get("web-player.your-library-x.sort-and-view-picker.grid-density-label"),value:Ts(p,-.5,100),max:1,step:.1,onDragStart:y,onDragMove:y,onDragEnd:y,onStepBackward:function(){return g(Ts(p,-.1,10))},onStepForward:function(){return g(Ts(p,.1,10))},forceActiveStyles:!0,"data-roving-interactive":"1"})})})]})]})},Es=function(e){var t,r,n,i=e.sortOptions,a=e.selectedSort,o=e.onSortSelect,s=e.root,c=e.showReorderingOnboarding,d=e.scrollNodeRef,p=e.spec,f=(0,ut.t)(),y=f.itemsView,g=f.setItemsView,m=ft(),b=m.libraryRowMode,v=m.setLibraryRowMode,x=(0,T.s)(),h=(0,u.useCallback)((function(){x.logInteraction(p.hitUiReveal())}),[x,p]),O=(0,u.useMemo)((function(){return y===ut.X.GRID?{itemsViewState:ut.X.GRID,compactModeState:pt.DEFAULT}:b===pt.COMPACT?{itemsViewState:ut.X.LIST,compactModeState:pt.COMPACT}:{itemsViewState:ut.X.LIST,compactModeState:pt.DEFAULT}}),[y,b]),j=(0,u.useCallback)((function(e){var t=p.viewAsOptionFactory({identifier:"grid",position:3}).hitUiElementToggle();e.itemsViewState===ut.X.GRID?g(ut.X.GRID):e.compactModeState===pt.COMPACT?(t=p.viewAsOptionFactory({identifier:"compact",position:1}).hitUiElementToggle(),g(ut.X.LIST),v(pt.COMPACT)):(t=p.viewAsOptionFactory({identifier:"list",position:2}).hitUiElementToggle(),g(ut.X.LIST),v(pt.DEFAULT)),x.logInteraction(t)}),[x,g,v,p]),P=(0,u.useRef)(null),w=(0,_e.y)(d,"0px 0px 0px 0px",.75,P),S=(0,dt.x)("sort-view-picker-onboarding-seen",!1),A=(0,l.A)(S,2),C=A[0],R=A[1],I=ds(C&&c,!w),E=I.show,L=I.onHide,N=(0,u.useCallback)((function(){h(),R(!0)}),[h,R]);return(0,k.jsx)(vs,{bodyText:D.Ru.get("web-player.your-library-x.sort-and-view-picker.view-onboarding"),root:s,show:!C&&!w,childrenWrapperClassName:Ss,onHide:function(){return R(!0)},children:(0,k.jsx)(vs,{bodyText:D.Ru.get("web-player.your-library-x.custom-ordering-onboarding-text"),root:s,show:E,childrenWrapperClassName:Ss,onHide:L,children:(0,k.jsx)(hl.b,{menu:(0,k.jsx)(ks,{selectedSort:a,selectedView:{itemsViewState:null!==(t=O.itemsViewState)&&void 0!==t?t:ut.X.LIST,compactModeState:null!==(r=O.compactModeState)&&void 0!==r?r:pt.DEFAULT},sortOptions:i,onSortSelect:o,onViewSelect:j,spec:p,id:"sort-and-view-picker"}),placement:"bottom-end",children:(0,k.jsx)(Wt.H,{"aria-label":D.Ru.get("web-player.your-library-x.sort-and-view-picker.button-aria-label",a.value,Is(O)),onClick:N,size:"small",iconTrailing:(n=O,n.itemsViewState===ut.X.GRID?Pl.D:n.compactModeState===pt.COMPACT?xs.d:jl.N),ref:P,role:"combobox","aria-controls":"sort-and-view-picker",children:(0,k.jsx)(Ke.E,{variant:"bodySmall",className:Ds,children:a.value})})})})})},Ls=function(e){var t,r,n,i,a,o=e.sortOrders,l=e.activeSortOrderId,s=e.setActiveSortOrderId,c=e.root,d=e.showReorderingOnboarding,p=e.spec,f=e.scrollNodeRef,y=(0,u.useMemo)((function(){return p.sortMenuButtonFactory()}),[p]),g=(0,u.useMemo)((function(){return p.sortbyViewasMenuButtonFactory()}),[p]),m=(0,T.s)(),v=(0,yt.t)(),x=null!==(t=o.find((function(e){return e.id===l})))&&void 0!==t?t:null==o?void 0:o.at(0),h=(0,u.useRef)(null),O=(0,b.NC)(G.AEN),j=(0,u.useCallback)((function(e,t){s(e);var r=v.getSortOrderLabel(e);O?m.logInteraction(g.sortOptionFactory({identifier:r,position:t}).hitSort()):m.logInteraction(y.sortMenuFactory().sortOptionFactory({identifier:r,position:t}).hitSort())}),[v,m,s,g,y,O]),P=ds(d),w=P.show,S=P.onHide;return O?(0,k.jsx)(Es,{sortOptions:o.map((function(e){return{key:e.id,value:e.name}})),selectedSort:{key:null!==(i=null==x?void 0:x.id)&&void 0!==i?i:"",value:null!==(a=null==x?void 0:x.name)&&void 0!==a?a:""},onSortSelect:j,root:c,showReorderingOnboarding:d,scrollNodeRef:f,spec:g}):(0,k.jsx)("div",{className:ws,ref:h,children:(0,k.jsx)(vs,{bodyText:D.Ru.get("web-player.your-library-x.custom-ordering-onboarding-text"),root:c,show:w,childrenWrapperClassName:Ss,onHide:S,children:(0,k.jsx)(us.g,{options:o.map((function(e){return{key:e.id,value:e.name}})),onClick:function(){m.logInteraction(y.hitUiReveal())},onSelect:j,selected:{key:null!==(r=null==x?void 0:x.id)&&void 0!==r?r:"",value:null!==(n=null==x?void 0:x.name)&&void 0!==n?n:""},heading:D.Ru.get("web-player.your-library-x.sort_by"),ariaLabel:D.Ru.get("web-player.your-library-x.sort_by")})})})},Ns=r(89457),Fs=r(34867);var Ms=function(e){var t=e.clearOnEscapeInElementRef,r=e.primaryFilter,n=e.spec,i=(0,yt.t)(),a=(0,T.s)(),o=function(e){switch(e){case re.c.PRE_RELEASE_ALBUM:case re.c.ALBUM:return D.Ru.get("web-player.your-library-x.text-filter.albums-placeholder");case re.c.ARTIST:return D.Ru.get("web-player.your-library-x.text-filter.artists-placeholder");case re.c.PLAYLIST:return D.Ru.get("web-player.your-library-x.text-filter.playlists-placeholder");case re.c.SHOW:return D.Ru.get("web-player.your-library-x.text-filter.shows-placeholder");case re.c.PRE_RELEASE_BOOK:case re.c.AUDIOBOOK:return D.Ru.get("web-player.your-library-x.text-filter.audiobooks-placeholder");case"downloaded":return D.Ru.get("web-player.your-library-x.text-filter.downloaded-placeholder");case void 0:return D.Ru.get("web-player.your-library-x.text-filter.generic-placeholder");default:return void(0,wt.k)(e)}}(r),l=(0,u.useCallback)((function(){return a.logInteraction(n.searchButtonFactory().hitUiReveal()),!0}),[a,n]),s=(0,u.useCallback)((function(){return a.logInteraction(n.textFilterFactory().keyStrokeClearFilter()),!0}),[a,n]);return(0,k.jsx)(Ns.S,{placeholder:o,clearOnEscapeInElementRef:t,debounceFilterChangeTimeout:null!=i&&i.getCapabilities().canTextFilterContentsInRealtime?0:void 0,expandDirection:"right",onActivate:l,onClear:s,useExpandCallback:function(e){(0,Fs.f)(q.gO.FOCUS_YLX_TEXT_FILTER,e)}})};const Bs="main-yourLibraryX-libraryContainer",Us="main-yourLibraryX-libraryFilter",_s="iwhVJuPipY1lrQIjaA1k",Vs="main-yourLibraryX-libraryItemContainer",Hs="main-yourLibraryX-libraryRootlist",Ws="sikBfynL1Y6I25nVpbAg",zs="KwShd3RdVrsX6dGLJNxT",Xs="main-yourLibraryX-filters",Ks="qOtD4rsRpIMhQLCjJ4K3",Ys="oEDH8yMQOKQNoX7LWjwt",Zs="RHRitk6QC3rvuG24RAdj",Gs="main-yourLibraryX-filterArea";var Js=["dropPosition","className"],qs=["offset","limit","items"];function Qs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qs(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ec={items:[],totalLength:0},tc=function(){var e,t,r,s,d,O,j,w=(0,u.useContext)(Be.g).filter,S=(0,u.useState)(null),A=(0,l.A)(S,2),D=A[0],C=A[1],R=function(e){var t=(0,u.useContext)(Dt),r=t.openedFolderUri,n=void 0===r?At:r,i=t.change,o=t.resetFolder,s=(0,u.useRef)(n),c=(0,dt.x)("ylx-active-filter-ids",(0,a.A)({},n,[])),d=(0,l.A)(c,2),p=d[0],f=d[1],y=(0,u.useRef)(!0),g=(0,m.U0)((function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=new Set(e);i.has(t)?i.delete(t):i.add(t),y.current=r,f(Tt(Tt({},p),{},(0,a.A)({},n,Array.from(i))))}),[e,f,n]),b=(0,u.useCallback)((function(){return f(Tt(Tt({},p),{},(0,a.A)({},n,[])))}),[n,p,f]),v=(0,u.useCallback)((function(e){n&&o(),f(Tt(Tt({},p),{},(0,a.A)({},At,e?[e]:[])))}),[n,o,p,f]);return(0,u.useLayoutEffect)((function(){n!==s.current&&n!==At&&"PUSH"===i&&f(Tt(Tt({},p),{},(0,a.A)({},n,p[s.current]))),s.current=n}),[i,n,p,f]),{refinersPickedByUserRef:y,selectedRefinerIds:p[n],resetRefinerIds:b,resetAndToggleRootRefiner:v,toggleRefinerId:g}}(null!==(e=null==D||null===(t=D.selectedFilters)||void 0===t?void 0:t.map((function(e){return e.id})))&&void 0!==e?e:[]),I=R.refinersPickedByUserRef,E=R.selectedRefinerIds,L=R.resetRefinerIds,N=R.resetAndToggleRootRefiner,F=R.toggleRefinerId,B=function(e){var t=(0,yt.t)().getContentsPrimaryFilterId(re.c.PLAYLIST),r=(0,u.useContext)(Dt).openedFolderUri,n=void 0===r?"":r,i=(0,dt.x)("ylx-active-sort-order-by-filter-id",{}),o=(0,l.A)(i,2),s=o[0],c=o[1],d="".concat(n&&t?t:e);return{selectedSortOrderId:s[d],setSelectedSortOrderId:(0,u.useCallback)((function(e){c(kt(kt({},s),{},(0,a.A)({},d,e)))}),[d,s,c])}}(null==E?void 0:E[0]),U=B.selectedSortOrderId,_=B.setSelectedSortOrderId,H=(0,u.useRef)(null),W=(0,u.useRef)(null),z=(0,u.useRef)(null),X=function(){var e=(0,u.useContext)(lt);if(!e)throw new Error("useExpandedFolders must be used within a ExpandedFoldersProvider");return e}().expandedFolders,K=(0,u.useContext)(Dt),Y=K.openedFolderUri,Z=K.resetFolder,se=(0,Ue.p)(),ce=(0,ae.P)(),ue=(0,u.useContext)(te.Z),pe=(0,oe.g)(),fe=J(),Pe=xt(),we=(0,u.useState)(!1),Se=(0,l.A)(we,2),Ae=Se[0],De=Se[1],Ce=(0,$.$)(),Re=Ce.isCollapsed,Te=Ce.isExpanded,Ie=Ce.setYlxSidebarState;!function(e){var t=(0,u.useContext)(te.Z),r=(0,$.$)(),n=r.isCollapsed,i=r.setYlxSidebarState,a=r.lastUncollapsedYlxSidebarState,o=(0,ee.W)(),l=(0,u.useCallback)((function(){var e=n?a:$.fX.COLLAPSED;i(e)}),[n,a,i]),s=(0,u.useCallback)((function(){e(null),n&&i(a)}),[n,a,e,i]),c=(0,u.useCallback)((function(r){return function(){e(t.getContentsPrimaryFilterId(r)),n&&i(a)}}),[n,a,t,e,i]),d=c(re.c.PLAYLIST),p=c(re.c.SHOW),f=c(re.c.ARTIST),y=c(re.c.ALBUM),g=c(re.c.AUDIOBOOK);(0,Q.Nx)(o?q.gO.TOGGLE_NPV_SIDEBAR:q.gO.TOGGLE_YLX_SIDEBAR,l),(0,Q.Nx)(q.gO.GO_TO_LIBRARY,s),(0,Q.Nx)(q.gO.GO_TO_PLAYLISTS,d),(0,Q.Nx)(q.gO.GO_TO_PODCASTS,p),(0,Q.Nx)(q.gO.GO_TO_ARTISTS,f),(0,Q.Nx)(q.gO.GO_TO_ALBUMS,y),(0,Q.Nx)(q.gO.GO_TO_AUDIOBOOKS,g)}(N);var ke,Ee=(0,ut.t)().isGridView,Le=ft().libraryRowMode===pt.COMPACT,Ne=(0,me.r)(v.j,{data:{identifier:"yourlibraryx"}}),Fe=Ne.spec,Xe=Ne.UBIFragment;ke=Re?"collapsed":Ee?Te?"expanded_grid":"default_grid":Le?Te?"expanded_compact":"default_compact":Te?"expanded_list":"default_list";var Ke=(0,u.useMemo)((function(){return Fe.sidebarFactory({uri:null!=Y?Y:At,identifier:ke})}),[Fe,Y,ke]),Ye=(0,ge.t)(Ke),Ze=(0,u.useMemo)((function(){return Ke.headerFactory()}),[Ke]),Ge=(0,u.useMemo)((function(){return Ze.filtersFactory()}),[Ze]),Je=(0,u.useMemo)((function(){return Ze.searchBarFactory()}),[Ze]),qe=(0,u.useMemo)((function(){return Ke.listFactory()}),[Ke]),Qe=(0,T.s)();!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=(0,at.n)(),i=(0,u.useContext)(te.Z).getContentsPrimaryFilterId("downloaded"),a=(0,u.useRef)(e);a.current=e;var o=(0,u.useRef)(t);o.current=t;var l=(0,u.useRef)(r);l.current=r;var s=(0,u.useRef)(!1);(0,u.useEffect)((function(){if(i){var e=o.current.includes(i),t=a.current.includes(i),r=o.current.length>1,c=!n&&!r&&!e&&t,u=n&&e&&s.current;(c||u)&&(c&&(s.current=!0),l.current(i,!1))}}),[i,n]);var c=(0,u.useRef)(t);(0,m.Ij)((function(){i&&(t.includes(i)&&!c.current.includes(i)&&s.current||(s.current=!1),c.current=t)}),[i,t])}(null==D||null===(r=D.availableFilters)||void 0===r?void 0:r.map((function(e){return e.id})),null==D||null===(s=D.selectedFilters)||void 0===s?void 0:s.map((function(e){return e.id})),F);var $e=ht(qe,Y),et=$e.handleDropOnFolder,tt=$e.unpinConfirmationDialog,it=ot(),gt=it.dropOriginIsYLX,mt=it.entityIsInFolder,bt=(0,u.useContext)(Oe.O_).setDraggingIsInProgress;(0,je.g)(H);var vt=Y?nt:rt,Ot=!mt||null!=D&&D.reorderAllowed?[]:[be.fl.PLAYLISTS_V2,be.fl.FOLDERS],jt=(0,xe.A)({allowedMimeTypesByDropPosition:(0,a.A)({},ve.Nz.ON,gt?Ot:vt),onDrop:(0,u.useCallback)(function(){var e=(0,i.A)(c().mark((function e(t){var r,i,a,o,l,s,u,d,p,f,y,g,m,b,v,x,h,O,j;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y?et(t):(r=t[be.fl.TRACKS],i=void 0===r?[]:r,a=t[be.fl.LOCAL_TRACKS],o=void 0===a?[]:a,l=t[be.fl.ALBUMS],s=t[be.fl.ARTISTS],u=t[be.fl.EPISODES],d=t[be.fl.SHOWS],p=t[be.fl.PLAYLISTS_V2],f=void 0===p?[]:p,y=t[be.fl.FOLDERS],g=t[be.fl.AUDIOBOOKS],(m=[].concat((0,n.A)(i),(0,n.A)(o))).length&&(null==ue||ue.add({uris:m}),Qe.logInteraction(qe.dragCreatePlaylist())),null!=l&&l.length&&(null==ue||ue.add({uris:l}),Qe.logInteraction(qe.dragLike({itemToBeLiked:null!==(b=l.at(0))&&void 0!==b?b:""}))),null!=s&&s.length&&(null==ue||ue.add({uris:s}),Qe.logInteraction(qe.dragLike({itemToBeLiked:null!==(v=s.at(0))&&void 0!==v?v:""}))),null!=u&&u.length&&(null==ue||ue.add({uris:u}),Qe.logInteraction(qe.dragLike({itemToBeLiked:null!==(x=u.at(0))&&void 0!==x?x:""}))),null!=d&&d.length&&(null==ue||ue.add({uris:d}),Qe.logInteraction(qe.dragLike({itemToBeLiked:null!==(h=d.at(0))&&void 0!==h?h:""}))),null!=g&&g.length&&(null==ue||ue.add({uris:g}),Qe.logInteraction(qe.dragLike({itemToBeLiked:null!==(O=g.at(0))&&void 0!==O?O:""}))),f.length&&(Pe(f,{before:"start"}),gt?Qe.logInteraction(qe.dragSort()):Qe.logInteraction(qe.dragLike({itemToBeLiked:null!==(j=f.at(0))&&void 0!==j?j:""}))),null!=y&&y.length&&(pe.moveFolder({uri:y[0]},{before:"start"}),Qe.logInteraction(qe.dragSort())));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Y,et,ue,Qe,qe,Pe,gt,pe]),onLongDragOver:(0,u.useCallback)((function(){Re&&Ie($.fX.DEFAULT)}),[Re,Ie])}),Pt=jt.dropPosition,wt=jt.className,Ct=(0,o.A)(jt,Js),Rt=(0,b.NC)(G.H8e),It=(0,b.NC)(G.lDH),Et=Rt||It,Lt=(0,u.useMemo)((function(){return{filters:E,sortOrder:U,textFilter:w,includeLocalFiles:ce,includeYourEpisodes:!0,includeLikedSongs:!0,includePreReleases:Et,expandedFolders:Re||Ee?[]:X,filtersPickedByUser:I.current,folderUri:Y}}),[E,U,w,ce,Et,Re,Ee,X,I,Y]),Nt=(0,u.useCallback)(function(){var e=(0,i.A)(c().mark((function e(t,r){var n,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.getContents($s({offset:t,limit:r},Lt));case 3:return n=e.sent,n.offset,n.limit,n.items,i=(0,o.A)(n,qs),De(!1),e.abrupt("return",$s({fetchedId:Lt.folderUri,onCacheSuccess:function(){C((function(e){return(0,f.j)(i,e)?e:i}))}},n));case 9:if(e.prev=9,e.t0=e.catch(0),!(e.t0 instanceof P.c_)){e.next=16;break}return L(),e.abrupt("return",ec);case 16:if(!(e.t0 instanceof P.IU)){e.next=21;break}return _(void 0),e.abrupt("return",ec);case 21:if(!(e.t0 instanceof P.db)){e.next=24;break}return Z(),e.abrupt("return",ec);case 24:return(0,le.UD)(e.t0),De(!0),e.abrupt("return",ec);case 27:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),[Lt,ue,L,Z,_]),Ft=!1===(null==D?void 0:D.hasUnfilteredItems),Mt=(null==D?void 0:D.hasTextFilter)&&0===D.totalLength&&""!==w,Bt=(0,u.useContext)(Be.g).setFilter;(0,u.useEffect)((function(){Mt&&Re&&Bt("")}),[Mt,Re,Bt]);var Ut=(0,y.wA)();(0,u.useEffect)((function(){null==D||!D.availableFilters||null!=D&&D.primaryFilter||Ut(ne.Vm.actions.update({allContentTypeRefiners:null==D?void 0:D.availableFilters.map(V)}))}),[null==D?void 0:D.availableFilters,null==D?void 0:D.primaryFilter,Ut]);var Vt=0===(null==D?void 0:D.totalLength)&&D.selectedFilters.length>0&&!D.passedFolderUri&&!D.hasTextFilter;(0,m.Ij)((function(){var e=null==D?void 0:D.selectedFilters.at(-1);Vt&&e&&F(e.id,!1)}),[Vt,null==D?void 0:D.selectedFilters]);var Ht=(0,b.NC)(G.HbK,{loadingValue:!1})&&(null==ue?void 0:ue.getCapabilities().canFetchAllItems),Wt=(0,ie.E)({nrItems:50,fetch:Nt,limit:50,cacheAllOnInvalidation:Ht,cacheAllLimit:5e4}),zt=Wt.fetchedId,Xt=Wt.getItems,Kt=Wt.nrValidItems,Yt=Wt.invalidateCache,Zt=(0,g.YQ)(Yt,200,{leading:!0,trailing:!0,maxWait:1e3});_t(null==D?void 0:D.primaryFilter,Zt);var Jt=!Y&&!zt||Y===zt;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=(0,u.useRef)({});(0,u.useLayoutEffect)((function(){if(!e.current)return function(){};var n=e.current,i=r.current[t];n.scrollTop=null!=i?i:0;var a=function(){r.current[t]=n.scrollTop};return null==n||n.addEventListener("scroll",a),function(){null==n||n.removeEventListener("scroll",a)}}),[e,t])}(H,zt);var qt,$t=(0,u.useCallback)((function(){Yt(),De(!1)}),[Yt]),er=(0,_e.y)(H),tr=!(null==D||!D.openedFolderName),rr=(0,b.NC)(G._p8,{loadingValue:!1})&&Ht,nr=function(e,t,r){var n=(0,ut.t)().isGridView,a=ft().rowHeight;return(0,u.useCallback)(function(){var o=(0,i.A)(c().mark((function i(o){var l,s,u,d,p,f,y,g,m;return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s=a,u=1,n&&(f=null===(d=e.current)||void 0===d?void 0:d.querySelector('li[role="row"]'),s=null!==(p=null==f?void 0:f.getBoundingClientRect().height)&&void 0!==p?p:0,null!=f&&f.parentElement&&(u=getComputedStyle(f.parentElement).getPropertyValue("grid-template-columns").split(" ").length)),s){i.next=5;break}return i.abrupt("return",null);case 5:return y=r(0,5e4,{cachedOnly:!0}),g=y.find((function(e){return(null==e?void 0:e.name)&&(0,st.u)(o,e.name)})),-1!==(m=g?y.indexOf(g):-1)&&t.current&&ct(t.current,e.current,Math.floor(m/u)*s,s),i.abrupt("return",null!==(l=null==g?void 0:g.uri)&&void 0!==l?l:null);case 10:case"end":return i.stop()}}),i)})));return function(e){return o.apply(this,arguments)}}(),[e,t,a,r,n])}(z,H,Xt),ir=Ae?(0,k.jsx)(hr,{onClick:$t}):null;(0,u.useEffect)((function(){Ae&&Re&&Ie($.fX.DEFAULT)}),[Ae,Re,Ie]),Ft&&!Re&&(qt=tr?(0,k.jsx)(Qt,{className:wt}):(0,k.jsx)(dr,{className:wt}));var ar=Mt?(0,k.jsx)(mr,{query:w,className:wt}):null,or=(0,b.NC)(G.AEN),lr=!Re&&!qt&&(0,k.jsxs)("div",{className:p()(Us,wt,(0,a.A)({},_s,or)),children:[(0,k.jsx)(Ms,{clearOnEscapeInElementRef:W,primaryFilter:null==D?void 0:D.primaryFilter,spec:Je},Y),(0,k.jsx)(Ls,{sortOrders:null!==(d=null==D?void 0:D.availableSortOrders)&&void 0!==d?d:[],activeSortOrderId:null==D||null===(O=D.selectedSortOrder)||void 0===O?void 0:O.id,setActiveSortOrderId:_,root:W.current,showReorderingOnboarding:(null==D?void 0:D.primaryFilter)===re.c.PLAYLIST&&!(null!=D&&D.reorderAllowed),spec:Ze,scrollNodeRef:H})]}),sr=Ae&&!D,cr=Te&&!Ee&&!ir&&!qt,ur=(null!==(j=null==D?void 0:D.selectedFilters)&&void 0!==j?j:[]).length>0,pr=fe&&!ur&&!Y,fr=(0,u.useState)(!1),yr=(0,l.A)(fr,2),gr=yr[0],br=yr[1];return(0,k.jsx)(de,{containerRef:W,findMatchingTypeaheadUid:nr,isEnabled:rr,children:(0,k.jsxs)(Xe,{spec:Fe,children:[(0,k.jsx)(Me,{}),gr&&(0,k.jsx)(We,{onClose:function(){return br(!1)}}),(0,k.jsx)(h.h,{menu:(0,k.jsx)(M,{folderUri:Y}),children:(0,k.jsxs)("div",$s($s({className:p()(Bs,(0,a.A)((0,a.A)((0,a.A)({},Jr,Pt===ve.Nz.ON),Ws,Re),Ys,gr)),style:{"--placeholder-image":"url(".concat((0,x.b)("images/ylx-row-placeholder.png"),")"),"--placeholder-artist-image":"url(".concat((0,x.b)("images/ylx-artist-row-placeholder.png"),")"),"--placeholder-compact-image":"url(".concat((0,x.b)("images/ylx-compact-row-placeholder.png"),")")},ref:function(e){W.current=e,Ye(e)}},Ct),{},{tabIndex:-1,onDragStart:function(){return bt(!0)},onDragEnd:function(){return bt(!1)},children:[tt,(0,k.jsxs)("div",{className:p()((0,a.A)({},Zs,er)),children:[(0,k.jsx)(Kl,{parentDropTargetClassName:wt,isLibraryCompletelyEmpty:Ft,folderUri:null==D?void 0:D.passedFolderUri,folderName:null==D?void 0:D.openedFolderName,spec:Ze.titleRowFactory()}),!se&&(0,k.jsx)(Xe,{spec:Ze,children:(0,k.jsx)(Gt,{})}),!Re&&!sr&&(0,k.jsxs)("div",{className:Gs,children:[pr&&(0,k.jsx)(u.Suspense,{fallback:null,children:(0,k.jsx)(ze,{})}),(0,k.jsx)(yn,{selectedFilters:null==D?void 0:D.selectedFilters,availableFilters:null==D?void 0:D.availableFilters,toggleFilterId:F,resetFilterIds:L,className:p()(Xs,(0,a.A)({},Ks,!Jt)),scrollNodeRef:H,spec:Ge},zt),Te&&lr]}),!Re&&fe&&Te&&(0,k.jsx)(u.Suspense,{fallback:null,children:(0,k.jsx)(He,{ylxIsExpanded:Te,setCheetaraOnboardingActive:br})}),cr&&(0,k.jsx)(Vr,{isScrolled:er})]}),(0,k.jsx)(he.a,{className:Vs,onInstanceCreated:function(e){H.current=e.elements().viewport},children:(0,k.jsxs)("div",{className:p()(Hs,(0,a.A)((0,a.A)((0,a.A)({},Ks,!Ae&&!Jt),Ws,Re),zs,cr)),children:[!Re&&fe&&!Te&&(0,k.jsx)(u.Suspense,{fallback:null,children:(0,k.jsx)(He,{ylxIsExpanded:Te,setCheetaraOnboardingActive:br})}),!Te&&lr,!Re&&(null==D?void 0:D.tagPlaylist)&&(0,k.jsx)(u.Suspense,{fallback:null,children:(0,k.jsx)(Ve,{playlist:D.tagPlaylist})}),ir||qt||ar,(0,k.jsx)("div",{ref:z,children:Ee?(0,k.jsx)($o,{getItems:Xt,scrollNodeRef:H,primaryFilter:null==D?void 0:D.primaryFilter,nrValidItems:Kt,spec:qe}):(0,k.jsx)(cs,{getItems:Xt,scrollNodeRef:H,primaryFilter:null==D?void 0:D.primaryFilter,nrValidItems:Kt,spec:qe})})]})}),St(),(0,k.jsx)(ye,{})]}))})]})})},rc=function(){var e=(0,y.d4)((function(e){return e.session})).isAnonymous,t=(0,y.d4)((function(e){return e.ui.editFiltersModal})),r=J();return(0,k.jsx)(B.s,{onError:function(e){(0,le.Jy)(e,"YourLibraryX")},children:(0,k.jsx)(Be.s,{uri:P.gv,children:(0,k.jsx)(Or,{children:(0,k.jsxs)(Ct,{children:[(0,k.jsxs)(Y,{children:[(0,k.jsx)(tc,{}),r&&t.isOpen&&(0,k.jsx)(Z,{})]}),(0,k.jsx)(tt,{isAnonymous:e})]})})})})}},73791:(e,t,r)=>{r.d(t,{P:()=>i});var n=r(5298);function i(){return(0,n.y)()[0]}},5298:(e,t,r)=>{r.d(t,{y:()=>o});var n=r(98866),i=r(30758),a=r(21280);function o(){var e=(0,i.useContext)(a._),t=(0,i.useState)(e.getIsEnabled()),r=(0,n.A)(t,2),o=r[0],l=r[1];return(0,i.useEffect)((function(){var t=e.subscribeIsEnabled(l);return function(){return t()}}),[e]),[o,(0,i.useCallback)((function(t){return e.setIsEnabled(t)}),[e])]}}}]);
//# sourceMappingURL=2617.js.map